const Eu="modulepreload",Nu=function(n,e){return new URL(n,e).href},Ol={},vn=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let d=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const b=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),p=l?.nonce||l?.getAttribute("nonce");a=d(t.map(g=>{if(g=Nu(g,i),g in Ol)return;Ol[g]=!0;const y=g.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(i)for(let v=b.length-1;v>=0;v--){const S=b[v];if(S.href===g&&(!y||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${x}`))return;const h=document.createElement("link");if(h.rel=y?"stylesheet":Eu,y||(h.as="script"),h.crossOrigin="",h.href=g,p&&h.setAttribute("nonce",p),document.head.appendChild(h),y)return new Promise((v,S)=>{h.addEventListener("load",v),h.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function r(b){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=b,window.dispatchEvent(l),!l.defaultPrevented)throw b}return a.then(b=>{for(const l of b||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})};var Pu={640:((n,e,t)=>{t.d(e,{AnnotationLayer:()=>ft,FreeTextAnnotationElement:()=>M,InkAnnotationElement:()=>gt,StampAnnotationElement:()=>it});var i=t(266),a=t(473),r=t(780);function b(dt){return Math.floor(Math.max(0,Math.min(1,dt))*255).toString(16).padStart(2,"0")}function l(dt){return Math.max(0,Math.min(255,255*dt))}class p{static CMYK_G([T,E,f,u]){return["G",1-Math.min(1,.3*T+.59*f+.11*E+u)]}static G_CMYK([T]){return["CMYK",0,0,0,1-T]}static G_RGB([T]){return["RGB",T,T,T]}static G_rgb([T]){return T=l(T),[T,T,T]}static G_HTML([T]){const E=b(T);return`#${E}${E}${E}`}static RGB_G([T,E,f]){return["G",.3*T+.59*E+.11*f]}static RGB_rgb(T){return T.map(l)}static RGB_HTML(T){return`#${T.map(b).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([T,E,f,u]){return["RGB",1-Math.min(1,T+u),1-Math.min(1,f+u),1-Math.min(1,E+u)]}static CMYK_rgb([T,E,f,u]){return[l(1-Math.min(1,T+u)),l(1-Math.min(1,f+u)),l(1-Math.min(1,E+u))]}static CMYK_HTML(T){const E=this.CMYK_RGB(T).slice(1);return this.RGB_HTML(E)}static RGB_CMYK([T,E,f]){const u=1-T,w=1-E,N=1-f,I=Math.min(u,w,N);return["CMYK",u,w,N,I]}}var d=t(160);const g=1e3,y=9,x=new WeakSet;function h(dt){return{width:dt[2]-dt[0],height:dt[3]-dt[1]}}class v{static create(T){switch(T.data.annotationType){case i.AnnotationType.LINK:return new o(T);case i.AnnotationType.TEXT:return new m(T);case i.AnnotationType.WIDGET:switch(T.data.fieldType){case"Tx":return new _(T);case"Btn":return T.data.radioButton?new H(T):T.data.checkBox?new U(T):new V(T);case"Ch":return new $(T);case"Sig":return new P(T)}return new C(T);case i.AnnotationType.POPUP:return new j(T);case i.AnnotationType.FREETEXT:return new M(T);case i.AnnotationType.LINE:return new X(T);case i.AnnotationType.SQUARE:return new ut(T);case i.AnnotationType.CIRCLE:return new tt(T);case i.AnnotationType.POLYLINE:return new Y(T);case i.AnnotationType.CARET:return new bt(T);case i.AnnotationType.INK:return new gt(T);case i.AnnotationType.POLYGON:return new nt(T);case i.AnnotationType.HIGHLIGHT:return new yt(T);case i.AnnotationType.UNDERLINE:return new Nt(T);case i.AnnotationType.SQUIGGLY:return new Ct(T);case i.AnnotationType.STRIKEOUT:return new B(T);case i.AnnotationType.STAMP:return new it(T);case i.AnnotationType.FILEATTACHMENT:return new st(T);default:return new S(T)}}}class S{#t=!1;constructor(T,{isRenderable:E=!1,ignoreBorder:f=!1,createQuadrilaterals:u=!1}={}){this.isRenderable=E,this.data=T.data,this.layer=T.layer,this.linkService=T.linkService,this.downloadManager=T.downloadManager,this.imageResourcesPath=T.imageResourcesPath,this.renderForms=T.renderForms,this.svgFactory=T.svgFactory,this.annotationStorage=T.annotationStorage,this.enableScripting=T.enableScripting,this.hasJSActions=T.hasJSActions,this._fieldObjects=T.fieldObjects,this.parent=T.parent,E&&(this.container=this._createContainer(f)),u&&this._createQuadrilaterals()}static _hasPopupData({titleObj:T,contentsObj:E,richText:f}){return!!(T?.str||E?.str||f?.str)}get hasPopupData(){return S._hasPopupData(this.data)}_createContainer(T){const{data:E,parent:{page:f,viewport:u}}=this,w=document.createElement("section");w.setAttribute("data-annotation-id",E.id),this instanceof C||(w.tabIndex=g),w.style.zIndex=this.parent.zIndex++,this.data.popupRef&&w.setAttribute("aria-haspopup","dialog"),E.noRotate&&w.classList.add("norotate");const{pageWidth:N,pageHeight:I,pageX:R,pageY:k}=u.rawDims;if(!E.rect||this instanceof j){const{rotation:pt}=E;return!E.hasOwnCanvas&&pt!==0&&this.setRotation(pt,w),w}const{width:z,height:et}=h(E.rect),K=i.Util.normalizeRect([E.rect[0],f.view[3]-E.rect[1]+f.view[1],E.rect[2],f.view[3]-E.rect[3]+f.view[1]]);if(!T&&E.borderStyle.width>0){w.style.borderWidth=`${E.borderStyle.width}px`;const pt=E.borderStyle.horizontalCornerRadius,ct=E.borderStyle.verticalCornerRadius;if(pt>0||ct>0){const rt=`calc(${pt}px * var(--scale-factor)) / calc(${ct}px * var(--scale-factor))`;w.style.borderRadius=rt}else if(this instanceof H){const rt=`calc(${z}px * var(--scale-factor)) / calc(${et}px * var(--scale-factor))`;w.style.borderRadius=rt}switch(E.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:w.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:w.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:w.style.borderBottomStyle="solid";break}const W=E.borderColor||null;W?(this.#t=!0,w.style.borderColor=i.Util.makeHexColor(W[0]|0,W[1]|0,W[2]|0)):w.style.borderWidth=0}w.style.left=`${100*(K[0]-R)/N}%`,w.style.top=`${100*(K[1]-k)/I}%`;const{rotation:Z}=E;return E.hasOwnCanvas||Z===0?(w.style.width=`${100*z/N}%`,w.style.height=`${100*et/I}%`):this.setRotation(Z,w),w}setRotation(T,E=this.container){if(!this.data.rect)return;const{pageWidth:f,pageHeight:u}=this.parent.viewport.rawDims,{width:w,height:N}=h(this.data.rect);let I,R;T%180===0?(I=100*w/f,R=100*N/u):(I=100*N/f,R=100*w/u),E.style.width=`${I}%`,E.style.height=`${R}%`,E.setAttribute("data-main-rotation",(360-T)%360)}get _commonActions(){const T=(E,f,u)=>{const w=u.detail[E],N=w[0],I=w.slice(1);u.target.style[f]=p[`${N}_HTML`](I),this.annotationStorage.setValue(this.data.id,{[f]:p[`${N}_rgb`](I)})};return(0,i.shadow)(this,"_commonActions",{display:E=>{const{display:f}=E.detail,u=f%2===1;this.container.style.visibility=u?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:u,noPrint:f===1||f===2})},print:E=>{this.annotationStorage.setValue(this.data.id,{noPrint:!E.detail.print})},hidden:E=>{const{hidden:f}=E.detail;this.container.style.visibility=f?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:f,noView:f})},focus:E=>{setTimeout(()=>E.target.focus({preventScroll:!1}),0)},userName:E=>{E.target.title=E.detail.userName},readonly:E=>{E.target.disabled=E.detail.readonly},required:E=>{this._setRequired(E.target,E.detail.required)},bgColor:E=>{T("bgColor","backgroundColor",E)},fillColor:E=>{T("fillColor","backgroundColor",E)},fgColor:E=>{T("fgColor","color",E)},textColor:E=>{T("textColor","color",E)},borderColor:E=>{T("borderColor","borderColor",E)},strokeColor:E=>{T("strokeColor","borderColor",E)},rotation:E=>{const f=E.detail.rotation;this.setRotation(f),this.annotationStorage.setValue(this.data.id,{rotation:f})}})}_dispatchEventFromSandbox(T,E){const f=this._commonActions;for(const u of Object.keys(E.detail))(T[u]||f[u])?.(E)}_setDefaultPropertiesFromJS(T){if(!this.enableScripting)return;const E=this.annotationStorage.getRawValue(this.data.id);if(!E)return;const f=this._commonActions;for(const[u,w]of Object.entries(E)){const N=f[u];if(N){const I={detail:{[u]:w},target:T};N(I),delete E[u]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:T}=this.data;if(!T)return;const[E,f,u,w]=this.data.rect;if(T.length===1){const[,{x:ct,y:W},{x:rt,y:Et}]=T[0];if(u===ct&&w===W&&E===rt&&f===Et)return}const{style:N}=this.container;let I;if(this.#t){const{borderColor:ct,borderWidth:W}=N;N.borderWidth=0,I=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${ct}" stroke-width="${W}">`],this.container.classList.add("hasBorder")}const R=u-E,k=w-f,{svgFactory:z}=this,et=z.createElement("svg");et.classList.add("quadrilateralsContainer"),et.setAttribute("width",0),et.setAttribute("height",0);const K=z.createElement("defs");et.append(K);const Z=z.createElement("clipPath"),pt=`clippath_${this.data.id}`;Z.setAttribute("id",pt),Z.setAttribute("clipPathUnits","objectBoundingBox"),K.append(Z);for(const[,{x:ct,y:W},{x:rt,y:Et}]of T){const xt=z.createElement("rect"),Pt=(rt-E)/R,jt=(w-W)/k,Bt=(ct-rt)/R,Rt=(W-Et)/k;xt.setAttribute("x",Pt),xt.setAttribute("y",jt),xt.setAttribute("width",Bt),xt.setAttribute("height",Rt),Z.append(xt),I?.push(`<rect vector-effect="non-scaling-stroke" x="${Pt}" y="${jt}" width="${Bt}" height="${Rt}"/>`)}this.#t&&(I.push("</g></svg>')"),N.backgroundImage=I.join("")),this.container.append(et),this.container.style.clipPath=`url(#${pt})`}_createPopup(){const{container:T,data:E}=this;T.setAttribute("aria-haspopup","dialog");const f=new j({data:{color:E.color,titleObj:E.titleObj,modificationDate:E.modificationDate,contentsObj:E.contentsObj,richText:E.richText,parentRect:E.rect,borderStyle:0,id:`popup_${E.id}`,rotation:E.rotation},parent:this.parent,elements:[this]});this.parent.div.append(f.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(T,E=null){const f=[];if(this._fieldObjects){const u=this._fieldObjects[T];if(u)for(const{page:w,id:N,exportValues:I}of u){if(w===-1||N===E)continue;const R=typeof I=="string"?I:null,k=document.querySelector(`[data-element-id="${N}"]`);if(k&&!x.has(k)){(0,i.warn)(`_getElementsByName - element not allowed: ${N}`);continue}f.push({id:N,exportValue:R,domElement:k})}return f}for(const u of document.getElementsByName(T)){const{exportValue:w}=u,N=u.getAttribute("data-element-id");N!==E&&x.has(u)&&f.push({id:N,exportValue:w,domElement:u})}return f}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const T=this.getElementsToTriggerPopup();if(Array.isArray(T))for(const E of T)E.classList.add("highlightArea");else T.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:T,data:{id:E}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:T,editId:E})})}}class o extends S{constructor(T,E=null){super(T,{isRenderable:!0,ignoreBorder:!!E?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=T.data.isTooltipOnly}render(){const{data:T,linkService:E}=this,f=document.createElement("a");f.setAttribute("data-element-id",T.id);let u=!1;return T.url?(E.addLinkAttributes(f,T.url,T.newWindow),u=!0):T.action?(this._bindNamedAction(f,T.action),u=!0):T.attachment?(this.#e(f,T.attachment,T.attachmentDest),u=!0):T.setOCGState?(this.#i(f,T.setOCGState),u=!0):T.dest?(this._bindLink(f,T.dest),u=!0):(T.actions&&(T.actions.Action||T.actions["Mouse Up"]||T.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(f,T),u=!0),T.resetForm?(this._bindResetFormAction(f,T.resetForm),u=!0):this.isTooltipOnly&&!u&&(this._bindLink(f,""),u=!0)),this.container.classList.add("linkAnnotation"),u&&this.container.append(f),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(T,E){T.href=this.linkService.getDestinationHash(E),T.onclick=()=>(E&&this.linkService.goToDestination(E),!1),(E||E==="")&&this.#t()}_bindNamedAction(T,E){T.href=this.linkService.getAnchorUrl(""),T.onclick=()=>(this.linkService.executeNamedAction(E),!1),this.#t()}#e(T,E,f=null){T.href=this.linkService.getAnchorUrl(""),T.onclick=()=>(this.downloadManager?.openOrDownloadData(E.content,E.filename,f),!1),this.#t()}#i(T,E){T.href=this.linkService.getAnchorUrl(""),T.onclick=()=>(this.linkService.executeSetOCGState(E),!1),this.#t()}_bindJSAction(T,E){T.href=this.linkService.getAnchorUrl("");const f=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const u of Object.keys(E.actions)){const w=f.get(u);w&&(T[w]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:E.id,name:u}}),!1))}T.onclick||(T.onclick=()=>!1),this.#t()}_bindResetFormAction(T,E){const f=T.onclick;if(f||(T.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),f||(T.onclick=()=>!1);return}T.onclick=()=>{f?.();const{fields:u,refs:w,include:N}=E,I=[];if(u.length!==0||w.length!==0){const z=new Set(w);for(const et of u){const K=this._fieldObjects[et]||[];for(const{id:Z}of K)z.add(Z)}for(const et of Object.values(this._fieldObjects))for(const K of et)z.has(K.id)===N&&I.push(K)}else for(const z of Object.values(this._fieldObjects))I.push(...z);const R=this.annotationStorage,k=[];for(const z of I){const{id:et}=z;switch(k.push(et),z.type){case"text":{const Z=z.defaultValue||"";R.setValue(et,{value:Z});break}case"checkbox":case"radiobutton":{const Z=z.defaultValue===z.exportValues;R.setValue(et,{value:Z});break}case"combobox":case"listbox":{const Z=z.defaultValue||"";R.setValue(et,{value:Z});break}default:continue}const K=document.querySelector(`[data-element-id="${et}"]`);if(K){if(!x.has(K)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${et}`);continue}}else continue;K.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:k,name:"ResetForm"}}),!1}}}class m extends S{constructor(T){super(T,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const T=document.createElement("img");return T.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",T.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),T.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(T),this.container}}class C extends S{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(T){this.data.hasOwnCanvas&&(T.previousSibling?.nodeName==="CANVAS"&&(T.previousSibling.hidden=!0),T.hidden=!1)}_getKeyModifier(T){return i.FeatureTest.platform.isMac?T.metaKey:T.ctrlKey}_setEventListener(T,E,f,u,w){f.includes("mouse")?T.addEventListener(f,N=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:w(N),shift:N.shiftKey,modifier:this._getKeyModifier(N)}})}):T.addEventListener(f,N=>{if(f==="blur"){if(!E.focused||!N.relatedTarget)return;E.focused=!1}else if(f==="focus"){if(E.focused)return;E.focused=!0}w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:u,value:w(N)}})})}_setEventListeners(T,E,f,u){for(const[w,N]of f)(N==="Action"||this.data.actions?.[N])&&((N==="Focus"||N==="Blur")&&(E||={focused:!1}),this._setEventListener(T,E,w,N,u),N==="Focus"&&!this.data.actions?.Blur?this._setEventListener(T,E,"blur","Blur",null):N==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(T,E,"focus","Focus",null))}_setBackgroundColor(T){const E=this.data.backgroundColor||null;T.style.backgroundColor=E===null?"transparent":i.Util.makeHexColor(E[0],E[1],E[2])}_setTextStyle(T){const E=["left","center","right"],{fontColor:f}=this.data.defaultAppearanceData,u=this.data.defaultAppearanceData.fontSize||y,w=T.style;let N;const I=2,R=k=>Math.round(10*k)/10;if(this.data.multiLine){const k=Math.abs(this.data.rect[3]-this.data.rect[1]-I),z=Math.round(k/(i.LINE_FACTOR*u))||1,et=k/z;N=Math.min(u,R(et/i.LINE_FACTOR))}else{const k=Math.abs(this.data.rect[3]-this.data.rect[1]-I);N=Math.min(u,R(k/i.LINE_FACTOR))}w.fontSize=`calc(${N}px * var(--scale-factor))`,w.color=i.Util.makeHexColor(f[0],f[1],f[2]),this.data.textAlignment!==null&&(w.textAlign=E[this.data.textAlignment])}_setRequired(T,E){E?T.setAttribute("required",!0):T.removeAttribute("required"),T.setAttribute("aria-required",E)}}class _ extends C{constructor(T){const E=T.renderForms||T.data.hasOwnCanvas||!T.data.hasAppearance&&!!T.data.fieldValue;super(T,{isRenderable:E})}setPropertyOnSiblings(T,E,f,u){const w=this.annotationStorage;for(const N of this._getElementsByName(T.name,T.id))N.domElement&&(N.domElement[E]=f),w.setValue(N.id,{[u]:f})}render(){const T=this.annotationStorage,E=this.data.id;this.container.classList.add("textWidgetAnnotation");let f=null;if(this.renderForms){const u=T.getValue(E,{value:this.data.fieldValue});let w=u.value||"";const N=T.getValue(E,{charLimit:this.data.maxLen}).charLimit;N&&w.length>N&&(w=w.slice(0,N));let I=u.formattedValue||this.data.textContent?.join(`
`)||null;I&&this.data.comb&&(I=I.replaceAll(/\s+/g,""));const R={userValue:w,formattedValue:I,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(f=document.createElement("textarea"),f.textContent=I??w,this.data.doNotScroll&&(f.style.overflowY="hidden")):(f=document.createElement("input"),f.type="text",f.setAttribute("value",I??w),this.data.doNotScroll&&(f.style.overflowX="hidden")),this.data.hasOwnCanvas&&(f.hidden=!0),x.add(f),f.setAttribute("data-element-id",E),f.disabled=this.data.readOnly,f.name=this.data.fieldName,f.tabIndex=g,this._setRequired(f,this.data.required),N&&(f.maxLength=N),f.addEventListener("input",z=>{T.setValue(E,{value:z.target.value}),this.setPropertyOnSiblings(f,"value",z.target.value,"value"),R.formattedValue=null}),f.addEventListener("resetform",z=>{const et=this.data.defaultFieldValue??"";f.value=R.userValue=et,R.formattedValue=null});let k=z=>{const{formattedValue:et}=R;et!=null&&(z.target.value=et),z.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){f.addEventListener("focus",et=>{if(R.focused)return;const{target:K}=et;R.userValue&&(K.value=R.userValue),R.lastCommittedValue=K.value,R.commitKey=1,this.data.actions?.Focus||(R.focused=!0)}),f.addEventListener("updatefromsandbox",et=>{this.showElementAndHideCanvas(et.target);const K={value(Z){R.userValue=Z.detail.value??"",T.setValue(E,{value:R.userValue.toString()}),Z.target.value=R.userValue},formattedValue(Z){const{formattedValue:pt}=Z.detail;R.formattedValue=pt,pt!=null&&Z.target!==document.activeElement&&(Z.target.value=pt),T.setValue(E,{formattedValue:pt})},selRange(Z){Z.target.setSelectionRange(...Z.detail.selRange)},charLimit:Z=>{const{charLimit:pt}=Z.detail,{target:ct}=Z;if(pt===0){ct.removeAttribute("maxLength");return}ct.setAttribute("maxLength",pt);let W=R.userValue;!W||W.length<=pt||(W=W.slice(0,pt),ct.value=R.userValue=W,T.setValue(E,{value:W}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:E,name:"Keystroke",value:W,willCommit:!0,commitKey:1,selStart:ct.selectionStart,selEnd:ct.selectionEnd}}))}};this._dispatchEventFromSandbox(K,et)}),f.addEventListener("keydown",et=>{R.commitKey=1;let K=-1;if(et.key==="Escape"?K=0:et.key==="Enter"&&!this.data.multiLine?K=2:et.key==="Tab"&&(R.commitKey=3),K===-1)return;const{value:Z}=et.target;R.lastCommittedValue!==Z&&(R.lastCommittedValue=Z,R.userValue=Z,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:E,name:"Keystroke",value:Z,willCommit:!0,commitKey:K,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}}))});const z=k;k=null,f.addEventListener("blur",et=>{if(!R.focused||!et.relatedTarget)return;this.data.actions?.Blur||(R.focused=!1);const{value:K}=et.target;R.userValue=K,R.lastCommittedValue!==K&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:E,name:"Keystroke",value:K,willCommit:!0,commitKey:R.commitKey,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}}),z(et)}),this.data.actions?.Keystroke&&f.addEventListener("beforeinput",et=>{R.lastCommittedValue=null;const{data:K,target:Z}=et,{value:pt,selectionStart:ct,selectionEnd:W}=Z;let rt=ct,Et=W;switch(et.inputType){case"deleteWordBackward":{const xt=pt.substring(0,ct).match(/\w*[^\w]*$/);xt&&(rt-=xt[0].length);break}case"deleteWordForward":{const xt=pt.substring(ct).match(/^[^\w]*\w*/);xt&&(Et+=xt[0].length);break}case"deleteContentBackward":ct===W&&(rt-=1);break;case"deleteContentForward":ct===W&&(Et+=1);break}et.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:E,name:"Keystroke",value:pt,change:K||"",willCommit:!1,selStart:rt,selEnd:Et}})}),this._setEventListeners(f,R,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],et=>et.target.value)}if(k&&f.addEventListener("blur",k),this.data.comb){const et=(this.data.rect[2]-this.data.rect[0])/N;f.classList.add("comb"),f.style.letterSpacing=`calc(${et}px * var(--scale-factor) - 1ch)`}}else f=document.createElement("div"),f.textContent=this.data.fieldValue,f.style.verticalAlign="middle",f.style.display="table-cell",this.data.hasOwnCanvas&&(f.hidden=!0);return this._setTextStyle(f),this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.append(f),this.container}}class P extends C{constructor(T){super(T,{isRenderable:!!T.data.hasOwnCanvas})}}class U extends C{constructor(T){super(T,{isRenderable:T.renderForms})}render(){const T=this.annotationStorage,E=this.data,f=E.id;let u=T.getValue(f,{value:E.exportValue===E.fieldValue}).value;typeof u=="string"&&(u=u!=="Off",T.setValue(f,{value:u})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const w=document.createElement("input");return x.add(w),w.setAttribute("data-element-id",f),w.disabled=E.readOnly,this._setRequired(w,this.data.required),w.type="checkbox",w.name=E.fieldName,u&&w.setAttribute("checked",!0),w.setAttribute("exportValue",E.exportValue),w.tabIndex=g,w.addEventListener("change",N=>{const{name:I,checked:R}=N.target;for(const k of this._getElementsByName(I,f)){const z=R&&k.exportValue===E.exportValue;k.domElement&&(k.domElement.checked=z),T.setValue(k.id,{value:z})}T.setValue(f,{value:R})}),w.addEventListener("resetform",N=>{const I=E.defaultFieldValue||"Off";N.target.checked=I===E.exportValue}),this.enableScripting&&this.hasJSActions&&(w.addEventListener("updatefromsandbox",N=>{const I={value(R){R.target.checked=R.detail.value!=="Off",T.setValue(f,{value:R.target.checked})}};this._dispatchEventFromSandbox(I,N)}),this._setEventListeners(w,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],N=>N.target.checked)),this._setBackgroundColor(w),this._setDefaultPropertiesFromJS(w),this.container.append(w),this.container}}class H extends C{constructor(T){super(T,{isRenderable:T.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const T=this.annotationStorage,E=this.data,f=E.id;let u=T.getValue(f,{value:E.fieldValue===E.buttonValue}).value;if(typeof u=="string"&&(u=u!==E.buttonValue,T.setValue(f,{value:u})),u)for(const N of this._getElementsByName(E.fieldName,f))T.setValue(N.id,{value:!1});const w=document.createElement("input");if(x.add(w),w.setAttribute("data-element-id",f),w.disabled=E.readOnly,this._setRequired(w,this.data.required),w.type="radio",w.name=E.fieldName,u&&w.setAttribute("checked",!0),w.tabIndex=g,w.addEventListener("change",N=>{const{name:I,checked:R}=N.target;for(const k of this._getElementsByName(I,f))T.setValue(k.id,{value:!1});T.setValue(f,{value:R})}),w.addEventListener("resetform",N=>{const I=E.defaultFieldValue;N.target.checked=I!=null&&I===E.buttonValue}),this.enableScripting&&this.hasJSActions){const N=E.buttonValue;w.addEventListener("updatefromsandbox",I=>{const R={value:k=>{const z=N===k.detail.value;for(const et of this._getElementsByName(k.target.name)){const K=z&&et.id===f;et.domElement&&(et.domElement.checked=K),T.setValue(et.id,{value:K})}}};this._dispatchEventFromSandbox(R,I)}),this._setEventListeners(w,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],I=>I.target.checked)}return this._setBackgroundColor(w),this._setDefaultPropertiesFromJS(w),this.container.append(w),this.container}}class V extends o{constructor(T){super(T,{ignoreBorder:T.data.hasAppearance})}render(){const T=super.render();T.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(T.title=this.data.alternativeText);const E=T.lastChild;return this.enableScripting&&this.hasJSActions&&E&&(this._setDefaultPropertiesFromJS(E),E.addEventListener("updatefromsandbox",f=>{this._dispatchEventFromSandbox({},f)})),T}}class $ extends C{constructor(T){super(T,{isRenderable:T.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const T=this.annotationStorage,E=this.data.id,f=T.getValue(E,{value:this.data.fieldValue}),u=document.createElement("select");x.add(u),u.setAttribute("data-element-id",E),u.disabled=this.data.readOnly,this._setRequired(u,this.data.required),u.name=this.data.fieldName,u.tabIndex=g;let w=this.data.combo&&this.data.options.length>0;this.data.combo||(u.size=this.data.options.length,this.data.multiSelect&&(u.multiple=!0)),u.addEventListener("resetform",z=>{const et=this.data.defaultFieldValue;for(const K of u.options)K.selected=K.value===et});for(const z of this.data.options){const et=document.createElement("option");et.textContent=z.displayValue,et.value=z.exportValue,f.value.includes(z.exportValue)&&(et.setAttribute("selected",!0),w=!1),u.append(et)}let N=null;if(w){const z=document.createElement("option");z.value=" ",z.setAttribute("hidden",!0),z.setAttribute("selected",!0),u.prepend(z),N=()=>{z.remove(),u.removeEventListener("input",N),N=null},u.addEventListener("input",N)}const I=z=>{const et=z?"value":"textContent",{options:K,multiple:Z}=u;return Z?Array.prototype.filter.call(K,pt=>pt.selected).map(pt=>pt[et]):K.selectedIndex===-1?null:K[K.selectedIndex][et]};let R=I(!1);const k=z=>{const et=z.target.options;return Array.prototype.map.call(et,K=>({displayValue:K.textContent,exportValue:K.value}))};return this.enableScripting&&this.hasJSActions?(u.addEventListener("updatefromsandbox",z=>{const et={value(K){N?.();const Z=K.detail.value,pt=new Set(Array.isArray(Z)?Z:[Z]);for(const ct of u.options)ct.selected=pt.has(ct.value);T.setValue(E,{value:I(!0)}),R=I(!1)},multipleSelection(K){u.multiple=!0},remove(K){const Z=u.options,pt=K.detail.remove;Z[pt].selected=!1,u.remove(pt),Z.length>0&&Array.prototype.findIndex.call(Z,W=>W.selected)===-1&&(Z[0].selected=!0),T.setValue(E,{value:I(!0),items:k(K)}),R=I(!1)},clear(K){for(;u.length!==0;)u.remove(0);T.setValue(E,{value:null,items:[]}),R=I(!1)},insert(K){const{index:Z,displayValue:pt,exportValue:ct}=K.detail.insert,W=u.children[Z],rt=document.createElement("option");rt.textContent=pt,rt.value=ct,W?W.before(rt):u.append(rt),T.setValue(E,{value:I(!0),items:k(K)}),R=I(!1)},items(K){const{items:Z}=K.detail;for(;u.length!==0;)u.remove(0);for(const pt of Z){const{displayValue:ct,exportValue:W}=pt,rt=document.createElement("option");rt.textContent=ct,rt.value=W,u.append(rt)}u.options.length>0&&(u.options[0].selected=!0),T.setValue(E,{value:I(!0),items:k(K)}),R=I(!1)},indices(K){const Z=new Set(K.detail.indices);for(const pt of K.target.options)pt.selected=Z.has(pt.index);T.setValue(E,{value:I(!0)}),R=I(!1)},editable(K){K.target.disabled=!K.detail.editable}};this._dispatchEventFromSandbox(et,z)}),u.addEventListener("input",z=>{const et=I(!0);T.setValue(E,{value:et}),z.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:E,name:"Keystroke",value:R,changeEx:et,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(u,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],z=>z.target.value)):u.addEventListener("input",function(z){T.setValue(E,{value:I(!0)})}),this.data.combo&&this._setTextStyle(u),this._setBackgroundColor(u),this._setDefaultPropertiesFromJS(u),this.container.append(u),this.container}}class j extends S{constructor(T){const{data:E,elements:f}=T;super(T,{isRenderable:S._hasPopupData(E)}),this.elements=f}render(){this.container.classList.add("popupAnnotation");const T=new at({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),E=[];for(const f of this.elements)f.popup=T,E.push(f.data.id),f.addHighlightArea();return this.container.setAttribute("aria-controls",E.map(f=>`${i.AnnotationPrefix}${f}`).join(",")),this.container}}class at{#t=this.#v.bind(this);#e=this.#g.bind(this);#i=this.#y.bind(this);#n=this.#w.bind(this);#r=null;#s=null;#o=null;#l=null;#h=null;#c=null;#f=null;#d=!1;#u=null;#a=null;#p=null;#m=null;#b=!1;constructor({container:T,color:E,elements:f,titleObj:u,modificationDate:w,contentsObj:N,richText:I,parent:R,rect:k,parentRect:z,open:et}){this.#s=T,this.#m=u,this.#o=N,this.#p=I,this.#c=R,this.#r=E,this.#a=k,this.#f=z,this.#h=f,this.#l=a.PDFDateString.toDateObject(w),this.trigger=f.flatMap(K=>K.getElementsToTriggerPopup());for(const K of this.trigger)K.addEventListener("click",this.#n),K.addEventListener("mouseenter",this.#i),K.addEventListener("mouseleave",this.#e),K.classList.add("popupTriggerArea");for(const K of f)K.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,et&&this.#w()}render(){if(this.#u)return;const{page:{view:T},viewport:{rawDims:{pageWidth:E,pageHeight:f,pageX:u,pageY:w}}}=this.#c,N=this.#u=document.createElement("div");if(N.className="popup",this.#r){const xt=N.style.outlineColor=i.Util.makeHexColor(...this.#r);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?N.style.backgroundColor=`color-mix(in srgb, ${xt} 30%, white)`:N.style.backgroundColor=i.Util.makeHexColor(...this.#r.map(jt=>Math.floor(.7*(255-jt)+jt)))}const I=document.createElement("span");I.className="header";const R=document.createElement("h1");if(I.append(R),{dir:R.dir,str:R.textContent}=this.#m,N.append(I),this.#l){const xt=document.createElement("span");xt.classList.add("popupDate"),xt.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),xt.setAttribute("data-l10n-args",JSON.stringify({date:this.#l.toLocaleDateString(),time:this.#l.toLocaleTimeString()})),I.append(xt)}const k=this.#o,z=this.#p;if(z?.str&&(!k?.str||k.str===z.str))d.XfaLayer.render({xfaHtml:z.html,intent:"richText",div:N}),N.lastChild.classList.add("richText","popupContent");else{const xt=this._formatContents(k);N.append(xt)}let et=!!this.#f,K=et?this.#f:this.#a;for(const xt of this.#h)if(!K||i.Util.intersect(xt.data.rect,K)!==null){K=xt.data.rect,et=!0;break}const Z=i.Util.normalizeRect([K[0],T[3]-K[1]+T[1],K[2],T[3]-K[3]+T[1]]),ct=et?K[2]-K[0]+5:0,W=Z[0]+ct,rt=Z[1],{style:Et}=this.#s;Et.left=`${100*(W-u)/E}%`,Et.top=`${100*(rt-w)/f}%`,this.#s.append(N)}_formatContents({str:T,dir:E}){const f=document.createElement("p");f.classList.add("popupContent"),f.dir=E;const u=T.split(/(?:\r\n?|\n)/);for(let w=0,N=u.length;w<N;++w){const I=u[w];f.append(document.createTextNode(I)),w<N-1&&f.append(document.createElement("br"))}return f}#v(T){T.altKey||T.shiftKey||T.ctrlKey||T.metaKey||(T.key==="Enter"||T.key==="Escape"&&this.#d)&&this.#w()}#w(){this.#d=!this.#d,this.#d?(this.#y(),this.#s.addEventListener("click",this.#n),this.#s.addEventListener("keydown",this.#t)):(this.#g(),this.#s.removeEventListener("click",this.#n),this.#s.removeEventListener("keydown",this.#t))}#y(){this.#u||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#g(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#s.hidden=!0)}maybeShow(){this.#b&&(this.#b=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class M extends S{constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0}),this.textContent=T.data.textContent,this.textPosition=T.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const T=document.createElement("div");T.classList.add("annotationTextContent"),T.setAttribute("role","comment");for(const E of this.textContent){const f=document.createElement("span");f.textContent=E,T.append(f)}this.container.append(T)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class X extends S{#t=null;constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const T=this.data,{width:E,height:f}=h(T.rect),u=this.svgFactory.create(E,f,!0),w=this.#t=this.svgFactory.createElement("svg:line");return w.setAttribute("x1",T.rect[2]-T.lineCoordinates[0]),w.setAttribute("y1",T.rect[3]-T.lineCoordinates[1]),w.setAttribute("x2",T.rect[2]-T.lineCoordinates[2]),w.setAttribute("y2",T.rect[3]-T.lineCoordinates[3]),w.setAttribute("stroke-width",T.borderStyle.width||1),w.setAttribute("stroke","transparent"),w.setAttribute("fill","transparent"),u.append(w),this.container.append(u),!T.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ut extends S{#t=null;constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const T=this.data,{width:E,height:f}=h(T.rect),u=this.svgFactory.create(E,f,!0),w=T.borderStyle.width,N=this.#t=this.svgFactory.createElement("svg:rect");return N.setAttribute("x",w/2),N.setAttribute("y",w/2),N.setAttribute("width",E-w),N.setAttribute("height",f-w),N.setAttribute("stroke-width",w||1),N.setAttribute("stroke","transparent"),N.setAttribute("fill","transparent"),u.append(N),this.container.append(u),!T.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class tt extends S{#t=null;constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const T=this.data,{width:E,height:f}=h(T.rect),u=this.svgFactory.create(E,f,!0),w=T.borderStyle.width,N=this.#t=this.svgFactory.createElement("svg:ellipse");return N.setAttribute("cx",E/2),N.setAttribute("cy",f/2),N.setAttribute("rx",E/2-w/2),N.setAttribute("ry",f/2-w/2),N.setAttribute("stroke-width",w||1),N.setAttribute("stroke","transparent"),N.setAttribute("fill","transparent"),u.append(N),this.container.append(u),!T.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Y extends S{#t=null;constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const T=this.data,{width:E,height:f}=h(T.rect),u=this.svgFactory.create(E,f,!0);let w=[];for(const I of T.vertices){const R=I.x-T.rect[0],k=T.rect[3]-I.y;w.push(R+","+k)}w=w.join(" ");const N=this.#t=this.svgFactory.createElement(this.svgElementName);return N.setAttribute("points",w),N.setAttribute("stroke-width",T.borderStyle.width||1),N.setAttribute("stroke","transparent"),N.setAttribute("fill","transparent"),u.append(N),this.container.append(u),!T.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class nt extends Y{constructor(T){super(T),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class bt extends S{constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class gt extends S{#t=[];constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const T=this.data,{width:E,height:f}=h(T.rect),u=this.svgFactory.create(E,f,!0);for(const w of T.inkLists){let N=[];for(const R of w){const k=R.x-T.rect[0],z=T.rect[3]-R.y;N.push(`${k},${z}`)}N=N.join(" ");const I=this.svgFactory.createElement(this.svgElementName);this.#t.push(I),I.setAttribute("points",N),I.setAttribute("stroke-width",T.borderStyle.width||1),I.setAttribute("stroke","transparent"),I.setAttribute("fill","transparent"),!T.popupRef&&this.hasPopupData&&this._createPopup(),u.append(I)}return this.container.append(u),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class yt extends S{constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Nt extends S{constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ct extends S{constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class B extends S{constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class it extends S{constructor(T){super(T,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class st extends S{#t=null;constructor(T){super(T,{isRenderable:!0});const{filename:E,content:f}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(E,!0),this.content=f,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:E,content:f})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:T,data:E}=this;let f;E.hasAppearance||E.fillAlpha===0?f=document.createElement("div"):(f=document.createElement("img"),f.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(E.name)?"paperclip":"pushpin"}.svg`,E.fillAlpha&&E.fillAlpha<1&&(f.style=`filter: opacity(${Math.round(E.fillAlpha*100)}%);`)),f.addEventListener("dblclick",this.#e.bind(this)),this.#t=f;const{isMac:u}=i.FeatureTest.platform;return T.addEventListener("keydown",w=>{w.key==="Enter"&&(u?w.metaKey:w.ctrlKey)&&this.#e()}),!E.popupRef&&this.hasPopupData?this._createPopup():f.classList.add("popupTriggerArea"),T.append(f),T}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class ft{#t=null;#e=null;#i=new Map;constructor({div:T,accessibilityManager:E,annotationCanvasMap:f,page:u,viewport:w}){this.div=T,this.#t=E,this.#e=f,this.page=u,this.viewport=w,this.zIndex=0}#n(T,E){const f=T.firstChild||T;f.id=`${i.AnnotationPrefix}${E}`,this.div.append(T),this.#t?.moveElementInDOM(this.div,T,f,!1)}async render(T){const{annotations:E}=T,f=this.div;(0,a.setLayerDimensions)(f,this.viewport);const u=new Map,w={data:null,layer:f,linkService:T.linkService,downloadManager:T.downloadManager,imageResourcesPath:T.imageResourcesPath||"",renderForms:T.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:T.annotationStorage||new r.AnnotationStorage,enableScripting:T.enableScripting===!0,hasJSActions:T.hasJSActions,fieldObjects:T.fieldObjects,parent:this,elements:null};for(const N of E){if(N.noHTML)continue;const I=N.annotationType===i.AnnotationType.POPUP;if(I){const z=u.get(N.id);if(!z)continue;w.elements=z}else{const{width:z,height:et}=h(N.rect);if(z<=0||et<=0)continue}w.data=N;const R=v.create(w);if(!R.isRenderable)continue;if(!I&&N.popupRef){const z=u.get(N.popupRef);z?z.push(R):u.set(N.popupRef,[R])}R.annotationEditorType>0&&this.#i.set(R.data.id,R);const k=R.render();N.hidden&&(k.style.visibility="hidden"),this.#n(k,N.id)}this.#r()}update({viewport:T}){const E=this.div;this.viewport=T,(0,a.setLayerDimensions)(E,{rotation:T.rotation}),this.#r(),E.hidden=!1}#r(){if(!this.#e)return;const T=this.div;for(const[E,f]of this.#e){const u=T.querySelector(`[data-annotation-id="${E}"]`);if(!u)continue;const{firstChild:w}=u;w?w.nodeName==="CANVAS"?w.replaceWith(f):w.before(f):u.append(f)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(T){return this.#i.get(T)}}}),780:((n,e,t)=>{t.d(e,{AnnotationStorage:()=>l,PrintAnnotationStorage:()=>p,SerializableEmpty:()=>b});var i=t(266),a=t(115),r=t(825);const b=Object.freeze({map:null,hash:"",transfer:void 0});class l{#t=!1;#e=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(g,y){const x=this.#e.get(g);return x===void 0?y:Object.assign(y,x)}getRawValue(g){return this.#e.get(g)}remove(g){if(this.#e.delete(g),this.#e.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const y of this.#e.values())if(y instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(g,y){const x=this.#e.get(g);let h=!1;if(x!==void 0)for(const[v,S]of Object.entries(y))x[v]!==S&&(h=!0,x[v]=S);else h=!0,this.#e.set(g,y);h&&this.#i(),y instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(y.constructor._type)}has(g){return this.#e.has(g)}getAll(){return this.#e.size>0?(0,i.objectFromMap)(this.#e):null}setAll(g){for(const[y,x]of Object.entries(g))this.setValue(y,x)}get size(){return this.#e.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new p(this)}get serializable(){if(this.#e.size===0)return b;const g=new Map,y=new r.MurmurHash3_64,x=[],h=Object.create(null);let v=!1;for(const[S,o]of this.#e){const m=o instanceof a.AnnotationEditor?o.serialize(!1,h):o;m&&(g.set(S,m),y.update(`${S}:${JSON.stringify(m)}`),v||=!!m.bitmap)}if(v)for(const S of g.values())S.bitmap&&x.push(S.bitmap);return g.size>0?{map:g,hash:y.hexdigest(),transfer:x}:b}}class p extends l{#t;constructor(g){super();const{map:y,hash:x,transfer:h}=g.serializable,v=structuredClone(y,h?{transfer:h}:null);this.#t={map:v,hash:x,transfer:h}}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}}}),406:((n,e,t)=>{t.a(n,async(i,a)=>{try{let X=function(f){if(typeof f=="string"||f instanceof URL?f={url:f}:(0,r.isArrayBuffer)(f)&&(f={data:f}),typeof f!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!f.url&&!f.data&&!f.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const u=new nt,{docId:w}=u,N=f.url?tt(f.url):null,I=f.data?Y(f.data):null,R=f.httpHeaders||null,k=f.withCredentials===!0,z=f.password??null,et=f.range instanceof bt?f.range:null,K=Number.isInteger(f.rangeChunkSize)&&f.rangeChunkSize>0?f.rangeChunkSize:U;let Z=f.worker instanceof B?f.worker:null;const pt=f.verbosity,ct=typeof f.docBaseUrl=="string"&&!(0,l.isDataScheme)(f.docBaseUrl)?f.docBaseUrl:null,W=typeof f.cMapUrl=="string"?f.cMapUrl:null,rt=f.cMapPacked!==!1,Et=f.CMapReaderFactory||j,xt=typeof f.standardFontDataUrl=="string"?f.standardFontDataUrl:null,Pt=f.StandardFontDataFactory||M,jt=f.stopAtErrors!==!0,Bt=Number.isInteger(f.maxImageSize)&&f.maxImageSize>-1?f.maxImageSize:-1,Rt=f.isEvalSupported!==!1,Ut=typeof f.isOffscreenCanvasSupported=="boolean"?f.isOffscreenCanvasSupported:!r.isNodeJS,Mt=Number.isInteger(f.canvasMaxAreaInBytes)?f.canvasMaxAreaInBytes:-1,se=typeof f.disableFontFace=="boolean"?f.disableFontFace:r.isNodeJS,Wt=f.fontExtraProperties===!0,Jt=f.enableXfa===!0,Ht=f.ownerDocument||globalThis.document,ve=f.disableRange===!0,Vt=f.disableStream===!0,pe=f.disableAutoFetch===!0,Gt=f.pdfBug===!0,Xt=et?et.length:f.length??NaN,le=typeof f.useSystemFonts=="boolean"?f.useSystemFonts:!r.isNodeJS&&!se,ae=typeof f.useWorkerFetch=="boolean"?f.useWorkerFetch:Et===l.DOMCMapReaderFactory&&Pt===l.DOMStandardFontDataFactory&&W&&xt&&(0,l.isValidFetchUrl)(W,document.baseURI)&&(0,l.isValidFetchUrl)(xt,document.baseURI),te=f.canvasFactory||new $({ownerDocument:Ht}),ye=f.filterFactory||new at({docId:w,ownerDocument:Ht}),Ui=null;(0,r.setVerbosityLevel)(pt);const Le={canvasFactory:te,filterFactory:ye};if(ae||(Le.cMapReaderFactory=new Et({baseUrl:W,isCompressed:rt}),Le.standardFontDataFactory=new Pt({baseUrl:xt})),!Z){const ne={verbosity:pt,port:y.GlobalWorkerOptions.workerPort};Z=ne.port?B.fromPort(ne):new B(ne),u._worker=Z}const _e={docId:w,apiVersion:"4.0.379",data:I,password:z,disableAutoFetch:pe,rangeChunkSize:K,length:Xt,docBaseUrl:ct,enableXfa:Jt,evaluatorOptions:{maxImageSize:Bt,disableFontFace:se,ignoreErrors:jt,isEvalSupported:Rt,isOffscreenCanvasSupported:Ut,canvasMaxAreaInBytes:Mt,fontExtraProperties:Wt,useSystemFonts:le,cMapUrl:ae?W:null,standardFontDataUrl:ae?xt:null}},xi={ignoreErrors:jt,isEvalSupported:Rt,disableFontFace:se,fontExtraProperties:Wt,enableXfa:Jt,ownerDocument:Ht,disableAutoFetch:pe,pdfBug:Gt,styleElement:Ui};return Z.promise.then(function(){if(u.destroyed)throw new Error("Loading aborted");const ne=ut(Z,_e),gi=new Promise(function(Ce){let oi;et?oi=new S.PDFDataTransportStream({length:Xt,initialData:et.initialData,progressiveDone:et.progressiveDone,contentDispositionFilename:et.contentDispositionFilename,disableRange:ve,disableStream:Vt},et):I||(oi=(Ee=>r.isNodeJS?new C.PDFNodeStream(Ee):(0,l.isValidFetchUrl)(Ee.url)?new o.PDFFetchStream(Ee):new m.PDFNetworkStream(Ee))({url:N,length:Xt,httpHeaders:R,withCredentials:k,rangeChunkSize:K,disableRange:ve,disableStream:Vt})),Ce(oi)});return Promise.all([ne,gi]).then(function([Ce,oi]){if(u.destroyed)throw new Error("Loading aborted");const mi=new x.MessageHandler(w,Ce,Z.port),Ee=new it(mi,u,oi,xi,Le);u._transport=Ee,mi.send("Ready",null)})}).catch(u._capability.reject),u},tt=function(f){if(f instanceof URL)return f.href;try{return new URL(f,window.location).href}catch{if(r.isNodeJS&&typeof f=="string")return f}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")},Y=function(f){if(r.isNodeJS&&typeof Buffer<"u"&&f instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(f instanceof Uint8Array&&f.byteLength===f.buffer.byteLength)return f;if(typeof f=="string")return(0,r.stringToBytes)(f);if(typeof f=="object"&&!isNaN(f?.length)||(0,r.isArrayBuffer)(f))return new Uint8Array(f);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")};t.d(e,{PDFDataRangeTransport:()=>bt,PDFWorker:()=>B,build:()=>E,getDocument:()=>X,version:()=>T});var r=t(266),b=t(780),l=t(473),p=t(742),d=t(738),g=t(250),y=t(368),x=t(694),h=t(472),v=t(890),S=t(92),o=t(171),m=t(474),C=t(498),_=t(521),P=i([d,C]);[d,C]=P.then?(await P)():P;const U=65536,H=100,V=5e3,$=r.isNodeJS?d.NodeCanvasFactory:l.DOMCanvasFactory,j=r.isNodeJS?d.NodeCMapReaderFactory:l.DOMCMapReaderFactory,at=r.isNodeJS?d.NodeFilterFactory:l.DOMFilterFactory,M=r.isNodeJS?d.NodeStandardFontDataFactory:l.DOMStandardFontDataFactory;async function ut(f,u){if(f.destroyed)throw new Error("Worker was destroyed");const w=await f.messageHandler.sendWithPromise("GetDocRequest",u,u.data?[u.data.buffer]:null);if(f.destroyed)throw new Error("Worker was destroyed");return w}class nt{static#t=0;constructor(){this._capability=new r.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${nt.#t++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(u){throw this._worker?.port&&delete this._worker._pendingDestroy,u}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class bt{constructor(u,w,N=!1,I=null){this.length=u,this.initialData=w,this.progressiveDone=N,this.contentDispositionFilename=I,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new r.PromiseCapability}addRangeListener(u){this._rangeListeners.push(u)}addProgressListener(u){this._progressListeners.push(u)}addProgressiveReadListener(u){this._progressiveReadListeners.push(u)}addProgressiveDoneListener(u){this._progressiveDoneListeners.push(u)}onDataRange(u,w){for(const N of this._rangeListeners)N(u,w)}onDataProgress(u,w){this._readyCapability.promise.then(()=>{for(const N of this._progressListeners)N(u,w)})}onDataProgressiveRead(u){this._readyCapability.promise.then(()=>{for(const w of this._progressiveReadListeners)w(u)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const u of this._progressiveDoneListeners)u()})}transportReady(){this._readyCapability.resolve()}requestDataRange(u,w){(0,r.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class gt{constructor(u,w){this._pdfInfo=u,this._transport=w}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,r.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(u){return this._transport.getPage(u)}getPageIndex(u){return this._transport.getPageIndex(u)}getDestinations(){return this._transport.getDestinations()}getDestination(u){return this._transport.getDestination(u)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(u=!1){return this._transport.startCleanup(u||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class yt{#t=null;#e=!1;constructor(u,w,N,I=!1){this._pageIndex=u,this._pageInfo=w,this._transport=N,this._stats=I?new l.StatTimer:null,this._pdfBug=I,this.commonObjs=N.commonObjs,this.objs=new st,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:u,rotation:w=this.rotate,offsetX:N=0,offsetY:I=0,dontFlip:R=!1}={}){return new l.PageViewport({viewBox:this.view,scale:u,rotation:w,offsetX:N,offsetY:I,dontFlip:R})}getAnnotations({intent:u="display"}={}){const w=this._transport.getRenderingIntent(u);return this._transport.getAnnotations(this._pageIndex,w.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,r.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:u,viewport:w,intent:N="display",annotationMode:I=r.AnnotationMode.ENABLE,transform:R=null,background:k=null,optionalContentConfigPromise:z=null,annotationCanvasMap:et=null,pageColors:K=null,printAnnotationStorage:Z=null}){this._stats?.time("Overall");const pt=this._transport.getRenderingIntent(N,I,Z);this.#e=!1,this.#n(),z||(z=this._transport.getOptionalContentConfig());let ct=this._intentStates.get(pt.cacheKey);ct||(ct=Object.create(null),this._intentStates.set(pt.cacheKey,ct)),ct.streamReaderCancelTimeout&&(clearTimeout(ct.streamReaderCancelTimeout),ct.streamReaderCancelTimeout=null);const W=!!(pt.renderingIntent&r.RenderingIntentFlag.PRINT);ct.displayReadyCapability||(ct.displayReadyCapability=new r.PromiseCapability,ct.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(pt));const rt=Pt=>{ct.renderTasks.delete(Et),(this._maybeCleanupAfterRender||W)&&(this.#e=!0),this.#i(!W),Pt?(Et.capability.reject(Pt),this._abortOperatorList({intentState:ct,reason:Pt instanceof Error?Pt:new Error(Pt)})):Et.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},Et=new dt({callback:rt,params:{canvasContext:u,viewport:w,transform:R,background:k},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:et,operatorList:ct.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!W,pdfBug:this._pdfBug,pageColors:K});(ct.renderTasks||=new Set).add(Et);const xt=Et.task;return Promise.all([ct.displayReadyCapability.promise,z]).then(([Pt,jt])=>{if(this.destroyed){rt();return}this._stats?.time("Rendering"),Et.initializeGraphics({transparency:Pt,optionalContentConfig:jt}),Et.operatorListChanged()}).catch(rt),xt}getOperatorList({intent:u="display",annotationMode:w=r.AnnotationMode.ENABLE,printAnnotationStorage:N=null}={}){function I(){k.operatorList.lastChunk&&(k.opListReadCapability.resolve(k.operatorList),k.renderTasks.delete(z))}const R=this._transport.getRenderingIntent(u,w,N,!0);let k=this._intentStates.get(R.cacheKey);k||(k=Object.create(null),this._intentStates.set(R.cacheKey,k));let z;return k.opListReadCapability||(z=Object.create(null),z.operatorListChanged=I,k.opListReadCapability=new r.PromiseCapability,(k.renderTasks||=new Set).add(z),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(R)),k.opListReadCapability.promise}streamTextContent({includeMarkedContent:u=!1,disableNormalization:w=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:u===!0,disableNormalization:w===!0},{highWaterMark:100,size(I){return I.items.length}})}getTextContent(u={}){if(this._transport._htmlForXfa)return this.getXfa().then(N=>_.XfaText.textContent(N));const w=this.streamTextContent(u);return new Promise(function(N,I){function R(){k.read().then(function({value:et,done:K}){if(K){N(z);return}Object.assign(z.styles,et.styles),z.items.push(...et.items),R()},I)}const k=w.getReader(),z={items:[],styles:Object.create(null)};R()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const u=[];for(const w of this._intentStates.values())if(this._abortOperatorList({intentState:w,reason:new Error("Page was destroyed."),force:!0}),!w.opListReadCapability)for(const N of w.renderTasks)u.push(N.completed),N.cancel();return this.objs.clear(),this.#e=!1,this.#n(),Promise.all(u)}cleanup(u=!1){this.#e=!0;const w=this.#i(!1);return u&&w&&(this._stats&&=new l.StatTimer),w}#i(u=!1){if(this.#n(),!this.#e||this.destroyed)return!1;if(u)return this.#t=setTimeout(()=>{this.#t=null,this.#i(!1)},V),!1;for(const{renderTasks:w,operatorList:N}of this._intentStates.values())if(w.size>0||!N.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}#n(){this.#t&&(clearTimeout(this.#t),this.#t=null)}_startRenderPage(u,w){const N=this._intentStates.get(w);N&&(this._stats?.timeEnd("Page Request"),N.displayReadyCapability?.resolve(u))}_renderPageChunk(u,w){for(let N=0,I=u.length;N<I;N++)w.operatorList.fnArray.push(u.fnArray[N]),w.operatorList.argsArray.push(u.argsArray[N]);w.operatorList.lastChunk=u.lastChunk,w.operatorList.separateAnnots=u.separateAnnots;for(const N of w.renderTasks)N.operatorListChanged();u.lastChunk&&this.#i(!0)}_pumpOperatorList({renderingIntent:u,cacheKey:w,annotationStorageSerializable:N}){const{map:I,transfer:R}=N,z=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:u,cacheKey:w,annotationStorage:I},R).getReader(),et=this._intentStates.get(w);et.streamReader=z;const K=()=>{z.read().then(({value:Z,done:pt})=>{if(pt){et.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Z,et),K())},Z=>{if(et.streamReader=null,!this._transport.destroyed){if(et.operatorList){et.operatorList.lastChunk=!0;for(const pt of et.renderTasks)pt.operatorListChanged();this.#i(!0)}if(et.displayReadyCapability)et.displayReadyCapability.reject(Z);else if(et.opListReadCapability)et.opListReadCapability.reject(Z);else throw Z}})};K()}_abortOperatorList({intentState:u,reason:w,force:N=!1}){if(u.streamReader){if(u.streamReaderCancelTimeout&&(clearTimeout(u.streamReaderCancelTimeout),u.streamReaderCancelTimeout=null),!N){if(u.renderTasks.size>0)return;if(w instanceof l.RenderingCancelledException){let I=H;w.extraDelay>0&&w.extraDelay<1e3&&(I+=w.extraDelay),u.streamReaderCancelTimeout=setTimeout(()=>{u.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:u,reason:w,force:!0})},I);return}}if(u.streamReader.cancel(new r.AbortException(w.message)).catch(()=>{}),u.streamReader=null,!this._transport.destroyed){for(const[I,R]of this._intentStates)if(R===u){this._intentStates.delete(I);break}this.cleanup()}}}get stats(){return this._stats}}class Nt{#t=new Set;#e=Promise.resolve();postMessage(u,w){const N={data:structuredClone(u,w?{transfer:w}:null)};this.#e.then(()=>{for(const I of this.#t)I.call(this,N)})}addEventListener(u,w){this.#t.add(w)}removeEventListener(u,w){this.#t.delete(w)}terminate(){this.#t.clear()}}const Ct={isWorkerDisabled:!1,fakeWorkerId:0};r.isNodeJS&&(Ct.isWorkerDisabled=!0,y.GlobalWorkerOptions.workerSrc||="./pdf.worker.mjs"),Ct.isSameOrigin=function(f,u){let w;try{if(w=new URL(f),!w.origin||w.origin==="null")return!1}catch{return!1}const N=new URL(u,w);return w.origin===N.origin},Ct.createCDNWrapper=function(f){const u=`await import("${f}");`;return URL.createObjectURL(new Blob([u],{type:"text/javascript"}))};class B{static#t;constructor({name:u=null,port:w=null,verbosity:N=(0,r.getVerbosityLevel)()}={}){if(this.name=u,this.destroyed=!1,this.verbosity=N,this._readyCapability=new r.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,w){if(B.#t?.has(w))throw new Error("Cannot use more than one PDFWorker per port.");(B.#t||=new WeakMap).set(w,this),this._initializeFromPort(w);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(u){this._port=u,this._messageHandler=new x.MessageHandler("main","worker",u),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Ct.isWorkerDisabled&&!B.#e){let{workerSrc:u}=B;try{Ct.isSameOrigin(window.location.href,u)||(u=Ct.createCDNWrapper(new URL(u,window.location).href));const w=new Worker(u,{type:"module"}),N=new x.MessageHandler("main","worker",w),I=()=>{w.removeEventListener("error",R),N.destroy(),w.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},R=()=>{this._webWorker||I()};w.addEventListener("error",R),N.on("test",z=>{if(w.removeEventListener("error",R),this.destroyed){I();return}z?(this._messageHandler=N,this._port=w,this._webWorker=w,this._readyCapability.resolve(),N.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),N.destroy(),w.terminate())}),N.on("ready",z=>{if(w.removeEventListener("error",R),this.destroyed){I();return}try{k()}catch{this._setupFakeWorker()}});const k=()=>{const z=new Uint8Array;N.send("test",z,[z.buffer])};k();return}catch{(0,r.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Ct.isWorkerDisabled||((0,r.warn)("Setting up fake worker."),Ct.isWorkerDisabled=!0),B._setupFakeWorkerGlobal.then(u=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const w=new Nt;this._port=w;const N=`fake${Ct.fakeWorkerId++}`,I=new x.MessageHandler(N+"_worker",N,w);u.setup(I,w);const R=new x.MessageHandler(N,N+"_worker",w);this._messageHandler=R,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})}).catch(u=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${u.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),B.#t?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(u){if(!u?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const w=this.#t?.get(u.port);if(w){if(w._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return w}return new B(u)}static get workerSrc(){if(y.GlobalWorkerOptions.workerSrc)return y.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#e(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const u=async()=>this.#e?this.#e:(await import(this.workerSrc)).WorkerMessageHandler;return(0,r.shadow)(this,"_setupFakeWorkerGlobal",u())}}class it{#t=new Map;#e=new Map;#i=new Map;#n=null;constructor(u,w,N,I,R){this.messageHandler=u,this.loadingTask=w,this.commonObjs=new st,this.fontLoader=new p.FontLoader({ownerDocument:I.ownerDocument,styleElement:I.styleElement}),this._params=I,this.canvasFactory=R.canvasFactory,this.filterFactory=R.filterFactory,this.cMapReaderFactory=R.cMapReaderFactory,this.standardFontDataFactory=R.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=N,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new r.PromiseCapability,this.setupMessageHandler()}#r(u,w=null){const N=this.#t.get(u);if(N)return N;const I=this.messageHandler.sendWithPromise(u,w);return this.#t.set(u,I),I}get annotationStorage(){return(0,r.shadow)(this,"annotationStorage",new b.AnnotationStorage)}getRenderingIntent(u,w=r.AnnotationMode.ENABLE,N=null,I=!1){let R=r.RenderingIntentFlag.DISPLAY,k=b.SerializableEmpty;switch(u){case"any":R=r.RenderingIntentFlag.ANY;break;case"display":break;case"print":R=r.RenderingIntentFlag.PRINT;break;default:(0,r.warn)(`getRenderingIntent - invalid intent: ${u}`)}switch(w){case r.AnnotationMode.DISABLE:R+=r.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case r.AnnotationMode.ENABLE:break;case r.AnnotationMode.ENABLE_FORMS:R+=r.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case r.AnnotationMode.ENABLE_STORAGE:R+=r.RenderingIntentFlag.ANNOTATIONS_STORAGE,k=(R&r.RenderingIntentFlag.PRINT&&N instanceof b.PrintAnnotationStorage?N:this.annotationStorage).serializable;break;default:(0,r.warn)(`getRenderingIntent - invalid annotationMode: ${w}`)}return I&&(R+=r.RenderingIntentFlag.OPLIST),{renderingIntent:R,cacheKey:`${R}_${k.hash}`,annotationStorageSerializable:k}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new r.PromiseCapability,this.#n?.reject(new Error("Worker was destroyed during onPassword callback"));const u=[];for(const N of this.#e.values())u.push(N._destroy());this.#e.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const w=this.messageHandler.sendWithPromise("Terminate",null);return u.push(w),Promise.all(u).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new r.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:u,loadingTask:w}=this;u.on("GetReader",(N,I)=>{(0,r.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=R=>{this._lastProgress={loaded:R.loaded,total:R.total}},I.onPull=()=>{this._fullReader.read().then(function({value:R,done:k}){if(k){I.close();return}(0,r.assert)(R instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),I.enqueue(new Uint8Array(R),1,[R])}).catch(R=>{I.error(R)})},I.onCancel=R=>{this._fullReader.cancel(R),I.ready.catch(k=>{if(!this.destroyed)throw k})}}),u.on("ReaderHeadersReady",N=>{const I=new r.PromiseCapability,R=this._fullReader;return R.headersReady.then(()=>{(!R.isStreamingSupported||!R.isRangeSupported)&&(this._lastProgress&&w.onProgress?.(this._lastProgress),R.onProgress=k=>{w.onProgress?.({loaded:k.loaded,total:k.total})}),I.resolve({isStreamingSupported:R.isStreamingSupported,isRangeSupported:R.isRangeSupported,contentLength:R.contentLength})},I.reject),I.promise}),u.on("GetRangeReader",(N,I)=>{(0,r.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const R=this._networkStream.getRangeReader(N.begin,N.end);if(!R){I.close();return}I.onPull=()=>{R.read().then(function({value:k,done:z}){if(z){I.close();return}(0,r.assert)(k instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),I.enqueue(new Uint8Array(k),1,[k])}).catch(k=>{I.error(k)})},I.onCancel=k=>{R.cancel(k),I.ready.catch(z=>{if(!this.destroyed)throw z})}}),u.on("GetDoc",({pdfInfo:N})=>{this._numPages=N.numPages,this._htmlForXfa=N.htmlForXfa,delete N.htmlForXfa,w._capability.resolve(new gt(N,this))}),u.on("DocException",function(N){let I;switch(N.name){case"PasswordException":I=new r.PasswordException(N.message,N.code);break;case"InvalidPDFException":I=new r.InvalidPDFException(N.message);break;case"MissingPDFException":I=new r.MissingPDFException(N.message);break;case"UnexpectedResponseException":I=new r.UnexpectedResponseException(N.message,N.status);break;case"UnknownErrorException":I=new r.UnknownErrorException(N.message,N.details);break;default:(0,r.unreachable)("DocException - expected a valid Error.")}w._capability.reject(I)}),u.on("PasswordRequest",N=>{if(this.#n=new r.PromiseCapability,w.onPassword){const I=R=>{R instanceof Error?this.#n.reject(R):this.#n.resolve({password:R})};try{w.onPassword(I,N.code)}catch(R){this.#n.reject(R)}}else this.#n.reject(new r.PasswordException(N.message,N.code));return this.#n.promise}),u.on("DataLoaded",N=>{w.onProgress?.({loaded:N.length,total:N.length}),this.downloadInfoCapability.resolve(N)}),u.on("StartRenderPage",N=>{if(this.destroyed)return;this.#e.get(N.pageIndex)._startRenderPage(N.transparency,N.cacheKey)}),u.on("commonobj",([N,I,R])=>{if(this.destroyed||this.commonObjs.has(N))return null;switch(I){case"Font":const k=this._params;if("error"in R){const Z=R.error;(0,r.warn)(`Error during font loading: ${Z}`),this.commonObjs.resolve(N,Z);break}const z=k.pdfBug&&globalThis.FontInspector?.enabled?(Z,pt)=>globalThis.FontInspector.fontAdded(Z,pt):null,et=new p.FontFaceObject(R,{isEvalSupported:k.isEvalSupported,disableFontFace:k.disableFontFace,ignoreErrors:k.ignoreErrors,inspectFont:z});this.fontLoader.bind(et).catch(Z=>u.sendWithPromise("FontFallback",{id:N})).finally(()=>{!k.fontExtraProperties&&et.data&&(et.data=null),this.commonObjs.resolve(N,et)});break;case"CopyLocalImage":const{imageRef:K}=R;(0,r.assert)(K,"The imageRef must be defined.");for(const Z of this.#e.values())for(const[,pt]of Z.objs)if(pt.ref===K)return pt.dataLen?(this.commonObjs.resolve(N,structuredClone(pt)),pt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(N,R);break;default:throw new Error(`Got unknown common object type ${I}`)}return null}),u.on("obj",([N,I,R,k])=>{if(this.destroyed)return;const z=this.#e.get(I);if(!z.objs.has(N)){if(z._intentStates.size===0){k?.bitmap?.close();return}switch(R){case"Image":z.objs.resolve(N,k),k?.dataLen>r.MAX_IMAGE_SIZE_TO_CACHE&&(z._maybeCleanupAfterRender=!0);break;case"Pattern":z.objs.resolve(N,k);break;default:throw new Error(`Got unknown object type ${R}`)}}}),u.on("DocProgress",N=>{this.destroyed||w.onProgress?.({loaded:N.loaded,total:N.total})}),u.on("FetchBuiltInCMap",N=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(N):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),u.on("FetchStandardFontData",N=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(N):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,r.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:u,transfer:w}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:u,filename:this._fullReader?.filename??null},w).finally(()=>{this.annotationStorage.resetModified()})}getPage(u){if(!Number.isInteger(u)||u<=0||u>this._numPages)return Promise.reject(new Error("Invalid page request."));const w=u-1,N=this.#i.get(w);if(N)return N;const I=this.messageHandler.sendWithPromise("GetPage",{pageIndex:w}).then(R=>{if(this.destroyed)throw new Error("Transport destroyed");const k=new yt(w,R,this,this._params.pdfBug);return this.#e.set(w,k),k});return this.#i.set(w,I),I}getPageIndex(u){return typeof u!="object"||u===null||!Number.isInteger(u.num)||u.num<0||!Number.isInteger(u.gen)||u.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:u.num,gen:u.gen})}getAnnotations(u,w){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:u,intent:w})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(u){return typeof u!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:u})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(u){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:u})}getStructTree(u){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:u})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(u=>new v.OptionalContentConfig(u))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const u="GetMetadata",w=this.#t.get(u);if(w)return w;const N=this.messageHandler.sendWithPromise(u,null).then(I=>({info:I[0],metadata:I[1]?new h.Metadata(I[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(u,N),N}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(u=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const w of this.#e.values())if(!w.cleanup())throw new Error(`startCleanup: Page ${w.pageNumber} is currently rendering.`);this.commonObjs.clear(),u||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:u,enableXfa:w}=this._params;return(0,r.shadow)(this,"loadingParams",{disableAutoFetch:u,enableXfa:w})}}class st{#t=Object.create(null);#e(u){return this.#t[u]||={capability:new r.PromiseCapability,data:null}}get(u,w=null){if(w){const I=this.#e(u);return I.capability.promise.then(()=>w(I.data)),null}const N=this.#t[u];if(!N?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${u}.`);return N.data}has(u){return this.#t[u]?.capability.settled??!1}resolve(u,w=null){const N=this.#e(u);N.data=w,N.capability.resolve()}clear(){for(const u in this.#t){const{data:w}=this.#t[u];w?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const u in this.#t){const{capability:w,data:N}=this.#t[u];w.settled&&(yield[u,N])}}}class ft{#t=null;constructor(u){this.#t=u,this.onContinue=null}get promise(){return this.#t.capability.promise}cancel(u=0){this.#t.cancel(null,u)}get separateAnnots(){const{separateAnnots:u}=this.#t.operatorList;if(!u)return!1;const{annotationCanvasMap:w}=this.#t;return u.form||u.canvas&&w?.size>0}}class dt{static#t=new WeakSet;constructor({callback:u,params:w,objs:N,commonObjs:I,annotationCanvasMap:R,operatorList:k,pageIndex:z,canvasFactory:et,filterFactory:K,useRequestAnimationFrame:Z=!1,pdfBug:pt=!1,pageColors:ct=null}){this.callback=u,this.params=w,this.objs=N,this.commonObjs=I,this.annotationCanvasMap=R,this.operatorListIdx=null,this.operatorList=k,this._pageIndex=z,this.canvasFactory=et,this.filterFactory=K,this._pdfBug=pt,this.pageColors=ct,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Z===!0&&typeof window<"u",this.cancelled=!1,this.capability=new r.PromiseCapability,this.task=new ft(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=w.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:u=!1,optionalContentConfig:w}){if(this.cancelled)return;if(this._canvas){if(dt.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");dt.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:N,viewport:I,transform:R,background:k}=this.params;this.gfx=new g.CanvasGraphics(N,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:w},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:R,viewport:I,transparency:u,background:k}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(u=null,w=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),dt.#t.delete(this._canvas),this.callback(u||new l.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,w))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),dt.#t.delete(this._canvas),this.callback())))}}const T="4.0.379",E="9e14d04fd";a()}catch(U){a(U)}})}),822:((n,e,t)=>{t.d(e,{BaseCMapReaderFactory:()=>b,BaseCanvasFactory:()=>r,BaseFilterFactory:()=>a,BaseSVGFactory:()=>p,BaseStandardFontDataFactory:()=>l});var i=t(266);class a{constructor(){this.constructor===a&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(g){return"none"}addHCMFilter(g,y){return"none"}addHighlightHCMFilter(g,y,x,h){return"none"}destroy(g=!1){}}class r{constructor(){this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(g,y){if(g<=0||y<=0)throw new Error("Invalid canvas size");const x=this._createCanvas(g,y);return{canvas:x,context:x.getContext("2d")}}reset(g,y,x){if(!g.canvas)throw new Error("Canvas is not specified");if(y<=0||x<=0)throw new Error("Invalid canvas size");g.canvas.width=y,g.canvas.height=x}destroy(g){if(!g.canvas)throw new Error("Canvas is not specified");g.canvas.width=0,g.canvas.height=0,g.canvas=null,g.context=null}_createCanvas(g,y){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}class b{constructor({baseUrl:g=null,isCompressed:y=!0}){this.constructor===b&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=g,this.isCompressed=y}async fetch({name:g}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!g)throw new Error("CMap name must be specified.");const y=this.baseUrl+g+(this.isCompressed?".bcmap":""),x=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(y,x).catch(h=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${y}`)})}_fetchData(g,y){(0,i.unreachable)("Abstract method `_fetchData` called.")}}class l{constructor({baseUrl:g=null}){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!g)throw new Error("Font filename must be specified.");const y=`${this.baseUrl}${g}`;return this._fetchData(y).catch(x=>{throw new Error(`Unable to load font data at: ${y}`)})}_fetchData(g){(0,i.unreachable)("Abstract method `_fetchData` called.")}}class p{constructor(){this.constructor===p&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(g,y,x=!1){if(g<=0||y<=0)throw new Error("Invalid SVG dimensions");const h=this._createSVG("svg:svg");return h.setAttribute("version","1.1"),x||(h.setAttribute("width",`${g}px`),h.setAttribute("height",`${y}px`)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("viewBox",`0 0 ${g} ${y}`),h}createElement(g){if(typeof g!="string")throw new Error("Invalid SVG element type");return this._createSVG(g)}_createSVG(g){(0,i.unreachable)("Abstract method `_createSVG` called.")}}}),250:((n,e,t)=>{t.d(e,{CanvasGraphics:()=>T});var i=t(266),a=t(473);const r={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function b(E,f){if(!f)return;const u=f[2]-f[0],w=f[3]-f[1],N=new Path2D;N.rect(f[0],f[1],u,w),E.clip(N)}class l{constructor(){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class p extends l{constructor(f){super(),this._type=f[1],this._bbox=f[2],this._colorStops=f[3],this._p0=f[4],this._p1=f[5],this._r0=f[6],this._r1=f[7],this.matrix=null}_createGradient(f){let u;this._type==="axial"?u=f.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(u=f.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const w of this._colorStops)u.addColorStop(w[0],w[1]);return u}getPattern(f,u,w,N){let I;if(N===r.STROKE||N===r.FILL){const R=u.current.getClippedPathBoundingBox(N,(0,a.getCurrentTransform)(f))||[0,0,0,0],k=Math.ceil(R[2]-R[0])||1,z=Math.ceil(R[3]-R[1])||1,et=u.cachedCanvases.getCanvas("pattern",k,z,!0),K=et.context;K.clearRect(0,0,K.canvas.width,K.canvas.height),K.beginPath(),K.rect(0,0,K.canvas.width,K.canvas.height),K.translate(-R[0],-R[1]),w=i.Util.transform(w,[1,0,0,1,R[0],R[1]]),K.transform(...u.baseTransform),this.matrix&&K.transform(...this.matrix),b(K,this._bbox),K.fillStyle=this._createGradient(K),K.fill(),I=f.createPattern(et.canvas,"no-repeat");const Z=new DOMMatrix(w);I.setTransform(Z)}else b(f,this._bbox),I=this._createGradient(f);return I}}function d(E,f,u,w,N,I,R,k){const z=f.coords,et=f.colors,K=E.data,Z=E.width*4;let pt;z[u+1]>z[w+1]&&(pt=u,u=w,w=pt,pt=I,I=R,R=pt),z[w+1]>z[N+1]&&(pt=w,w=N,N=pt,pt=R,R=k,k=pt),z[u+1]>z[w+1]&&(pt=u,u=w,w=pt,pt=I,I=R,R=pt);const ct=(z[u]+f.offsetX)*f.scaleX,W=(z[u+1]+f.offsetY)*f.scaleY,rt=(z[w]+f.offsetX)*f.scaleX,Et=(z[w+1]+f.offsetY)*f.scaleY,xt=(z[N]+f.offsetX)*f.scaleX,Pt=(z[N+1]+f.offsetY)*f.scaleY;if(W>=Pt)return;const jt=et[I],Bt=et[I+1],Rt=et[I+2],Ut=et[R],Mt=et[R+1],se=et[R+2],Wt=et[k],Jt=et[k+1],Ht=et[k+2],ve=Math.round(W),Vt=Math.round(Pt);let pe,Gt,Xt,le,ae,te,ye,Ui;for(let Le=ve;Le<=Vt;Le++){if(Le<Et){const Ce=Le<W?0:(W-Le)/(W-Et);pe=ct-(ct-rt)*Ce,Gt=jt-(jt-Ut)*Ce,Xt=Bt-(Bt-Mt)*Ce,le=Rt-(Rt-se)*Ce}else{let Ce;Le>Pt?Ce=1:Et===Pt?Ce=0:Ce=(Et-Le)/(Et-Pt),pe=rt-(rt-xt)*Ce,Gt=Ut-(Ut-Wt)*Ce,Xt=Mt-(Mt-Jt)*Ce,le=se-(se-Ht)*Ce}let _e;Le<W?_e=0:Le>Pt?_e=1:_e=(W-Le)/(W-Pt),ae=ct-(ct-xt)*_e,te=jt-(jt-Wt)*_e,ye=Bt-(Bt-Jt)*_e,Ui=Rt-(Rt-Ht)*_e;const xi=Math.round(Math.min(pe,ae)),ne=Math.round(Math.max(pe,ae));let gi=Z*Le+xi*4;for(let Ce=xi;Ce<=ne;Ce++)_e=(pe-Ce)/(pe-ae),_e<0?_e=0:_e>1&&(_e=1),K[gi++]=Gt-(Gt-te)*_e|0,K[gi++]=Xt-(Xt-ye)*_e|0,K[gi++]=le-(le-Ui)*_e|0,K[gi++]=255}}function g(E,f,u){const w=f.coords,N=f.colors;let I,R;switch(f.type){case"lattice":const k=f.verticesPerRow,z=Math.floor(w.length/k)-1,et=k-1;for(I=0;I<z;I++){let K=I*k;for(let Z=0;Z<et;Z++,K++)d(E,u,w[K],w[K+1],w[K+k],N[K],N[K+1],N[K+k]),d(E,u,w[K+k+1],w[K+1],w[K+k],N[K+k+1],N[K+1],N[K+k])}break;case"triangles":for(I=0,R=w.length;I<R;I+=3)d(E,u,w[I],w[I+1],w[I+2],N[I],N[I+1],N[I+2]);break;default:throw new Error("illegal figure")}}class y extends l{constructor(f){super(),this._coords=f[2],this._colors=f[3],this._figures=f[4],this._bounds=f[5],this._bbox=f[7],this._background=f[8],this.matrix=null}_createMeshCanvas(f,u,w){const k=Math.floor(this._bounds[0]),z=Math.floor(this._bounds[1]),et=Math.ceil(this._bounds[2])-k,K=Math.ceil(this._bounds[3])-z,Z=Math.min(Math.ceil(Math.abs(et*f[0]*1.1)),3e3),pt=Math.min(Math.ceil(Math.abs(K*f[1]*1.1)),3e3),ct=et/Z,W=K/pt,rt={coords:this._coords,colors:this._colors,offsetX:-k,offsetY:-z,scaleX:1/ct,scaleY:1/W},Et=Z+4,xt=pt+4,Pt=w.getCanvas("mesh",Et,xt,!1),jt=Pt.context,Bt=jt.createImageData(Z,pt);if(u){const Ut=Bt.data;for(let Mt=0,se=Ut.length;Mt<se;Mt+=4)Ut[Mt]=u[0],Ut[Mt+1]=u[1],Ut[Mt+2]=u[2],Ut[Mt+3]=255}for(const Ut of this._figures)g(Bt,Ut,rt);return jt.putImageData(Bt,2,2),{canvas:Pt.canvas,offsetX:k-2*ct,offsetY:z-2*W,scaleX:ct,scaleY:W}}getPattern(f,u,w,N){b(f,this._bbox);let I;if(N===r.SHADING)I=i.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(f));else if(I=i.Util.singularValueDecompose2dScale(u.baseTransform),this.matrix){const k=i.Util.singularValueDecompose2dScale(this.matrix);I=[I[0]*k[0],I[1]*k[1]]}const R=this._createMeshCanvas(I,N===r.SHADING?null:this._background,u.cachedCanvases);return N!==r.SHADING&&(f.setTransform(...u.baseTransform),this.matrix&&f.transform(...this.matrix)),f.translate(R.offsetX,R.offsetY),f.scale(R.scaleX,R.scaleY),f.createPattern(R.canvas,"no-repeat")}}class x extends l{getPattern(){return"hotpink"}}function h(E){switch(E[0]){case"RadialAxial":return new p(E);case"Mesh":return new y(E);case"Dummy":return new x}throw new Error(`Unknown IR type: ${E[0]}`)}const v={COLORED:1,UNCOLORED:2};class S{static MAX_PATTERN_SIZE=3e3;constructor(f,u,w,N,I){this.operatorList=f[2],this.matrix=f[3]||[1,0,0,1,0,0],this.bbox=f[4],this.xstep=f[5],this.ystep=f[6],this.paintType=f[7],this.tilingType=f[8],this.color=u,this.ctx=w,this.canvasGraphicsFactory=N,this.baseTransform=I}createPatternCanvas(f){const u=this.operatorList,w=this.bbox,N=this.xstep,I=this.ystep,R=this.paintType,k=this.tilingType,z=this.color,et=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+k);const K=w[0],Z=w[1],pt=w[2],ct=w[3],W=i.Util.singularValueDecompose2dScale(this.matrix),rt=i.Util.singularValueDecompose2dScale(this.baseTransform),Et=[W[0]*rt[0],W[1]*rt[1]],xt=this.getSizeAndScale(N,this.ctx.canvas.width,Et[0]),Pt=this.getSizeAndScale(I,this.ctx.canvas.height,Et[1]),jt=f.cachedCanvases.getCanvas("pattern",xt.size,Pt.size,!0),Bt=jt.context,Rt=et.createCanvasGraphics(Bt);Rt.groupLevel=f.groupLevel,this.setFillAndStrokeStyleToContext(Rt,R,z);let Ut=K,Mt=Z,se=pt,Wt=ct;return K<0&&(Ut=0,se+=Math.abs(K)),Z<0&&(Mt=0,Wt+=Math.abs(Z)),Bt.translate(-(xt.scale*Ut),-(Pt.scale*Mt)),Rt.transform(xt.scale,0,0,Pt.scale,0,0),Bt.save(),this.clipBbox(Rt,Ut,Mt,se,Wt),Rt.baseTransform=(0,a.getCurrentTransform)(Rt.ctx),Rt.executeOperatorList(u),Rt.endDrawing(),{canvas:jt.canvas,scaleX:xt.scale,scaleY:Pt.scale,offsetX:Ut,offsetY:Mt}}getSizeAndScale(f,u,w){f=Math.abs(f);const N=Math.max(S.MAX_PATTERN_SIZE,u);let I=Math.ceil(f*w);return I>=N?I=N:w=I/f,{scale:w,size:I}}clipBbox(f,u,w,N,I){const R=N-u,k=I-w;f.ctx.rect(u,w,R,k),f.current.updateRectMinMax((0,a.getCurrentTransform)(f.ctx),[u,w,N,I]),f.clip(),f.endPath()}setFillAndStrokeStyleToContext(f,u,w){const N=f.ctx,I=f.current;switch(u){case v.COLORED:const R=this.ctx;N.fillStyle=R.fillStyle,N.strokeStyle=R.strokeStyle,I.fillColor=R.fillStyle,I.strokeColor=R.strokeStyle;break;case v.UNCOLORED:const k=i.Util.makeHexColor(w[0],w[1],w[2]);N.fillStyle=k,N.strokeStyle=k,I.fillColor=k,I.strokeColor=k;break;default:throw new i.FormatError(`Unsupported paint type: ${u}`)}}getPattern(f,u,w,N){let I=w;N!==r.SHADING&&(I=i.Util.transform(I,u.baseTransform),this.matrix&&(I=i.Util.transform(I,this.matrix)));const R=this.createPatternCanvas(u);let k=new DOMMatrix(I);k=k.translate(R.offsetX,R.offsetY),k=k.scale(1/R.scaleX,1/R.scaleY);const z=f.createPattern(R.canvas,"repeat");return z.setTransform(k),z}}function o({src:E,srcPos:f=0,dest:u,width:w,height:N,nonBlackColor:I=4294967295,inverseDecode:R=!1}){const k=i.FeatureTest.isLittleEndian?4278190080:255,[z,et]=R?[I,k]:[k,I],K=w>>3,Z=w&7,pt=E.length;u=new Uint32Array(u.buffer);let ct=0;for(let W=0;W<N;W++){for(const Et=f+K;f<Et;f++){const xt=f<pt?E[f]:255;u[ct++]=xt&128?et:z,u[ct++]=xt&64?et:z,u[ct++]=xt&32?et:z,u[ct++]=xt&16?et:z,u[ct++]=xt&8?et:z,u[ct++]=xt&4?et:z,u[ct++]=xt&2?et:z,u[ct++]=xt&1?et:z}if(Z===0)continue;const rt=f<pt?E[f++]:255;for(let Et=0;Et<Z;Et++)u[ct++]=rt&1<<7-Et?et:z}return{srcPos:f,destPos:ct}}const m=16,C=100,_=4096,P=15,U=10,H=1e3,V=16;function $(E,f){if(E._removeMirroring)throw new Error("Context is already forwarding operations.");E.__originalSave=E.save,E.__originalRestore=E.restore,E.__originalRotate=E.rotate,E.__originalScale=E.scale,E.__originalTranslate=E.translate,E.__originalTransform=E.transform,E.__originalSetTransform=E.setTransform,E.__originalResetTransform=E.resetTransform,E.__originalClip=E.clip,E.__originalMoveTo=E.moveTo,E.__originalLineTo=E.lineTo,E.__originalBezierCurveTo=E.bezierCurveTo,E.__originalRect=E.rect,E.__originalClosePath=E.closePath,E.__originalBeginPath=E.beginPath,E._removeMirroring=()=>{E.save=E.__originalSave,E.restore=E.__originalRestore,E.rotate=E.__originalRotate,E.scale=E.__originalScale,E.translate=E.__originalTranslate,E.transform=E.__originalTransform,E.setTransform=E.__originalSetTransform,E.resetTransform=E.__originalResetTransform,E.clip=E.__originalClip,E.moveTo=E.__originalMoveTo,E.lineTo=E.__originalLineTo,E.bezierCurveTo=E.__originalBezierCurveTo,E.rect=E.__originalRect,E.closePath=E.__originalClosePath,E.beginPath=E.__originalBeginPath,delete E._removeMirroring},E.save=function(){f.save(),this.__originalSave()},E.restore=function(){f.restore(),this.__originalRestore()},E.translate=function(w,N){f.translate(w,N),this.__originalTranslate(w,N)},E.scale=function(w,N){f.scale(w,N),this.__originalScale(w,N)},E.transform=function(w,N,I,R,k,z){f.transform(w,N,I,R,k,z),this.__originalTransform(w,N,I,R,k,z)},E.setTransform=function(w,N,I,R,k,z){f.setTransform(w,N,I,R,k,z),this.__originalSetTransform(w,N,I,R,k,z)},E.resetTransform=function(){f.resetTransform(),this.__originalResetTransform()},E.rotate=function(w){f.rotate(w),this.__originalRotate(w)},E.clip=function(w){f.clip(w),this.__originalClip(w)},E.moveTo=function(u,w){f.moveTo(u,w),this.__originalMoveTo(u,w)},E.lineTo=function(u,w){f.lineTo(u,w),this.__originalLineTo(u,w)},E.bezierCurveTo=function(u,w,N,I,R,k){f.bezierCurveTo(u,w,N,I,R,k),this.__originalBezierCurveTo(u,w,N,I,R,k)},E.rect=function(u,w,N,I){f.rect(u,w,N,I),this.__originalRect(u,w,N,I)},E.closePath=function(){f.closePath(),this.__originalClosePath()},E.beginPath=function(){f.beginPath(),this.__originalBeginPath()}}class j{constructor(f){this.canvasFactory=f,this.cache=Object.create(null)}getCanvas(f,u,w){let N;return this.cache[f]!==void 0?(N=this.cache[f],this.canvasFactory.reset(N,u,w)):(N=this.canvasFactory.create(u,w),this.cache[f]=N),N}delete(f){delete this.cache[f]}clear(){for(const f in this.cache){const u=this.cache[f];this.canvasFactory.destroy(u),delete this.cache[f]}}}function at(E,f,u,w,N,I,R,k,z,et){const[K,Z,pt,ct,W,rt]=(0,a.getCurrentTransform)(E);if(Z===0&&pt===0){const Pt=R*K+W,jt=Math.round(Pt),Bt=k*ct+rt,Rt=Math.round(Bt),Ut=(R+z)*K+W,Mt=Math.abs(Math.round(Ut)-jt)||1,se=(k+et)*ct+rt,Wt=Math.abs(Math.round(se)-Rt)||1;return E.setTransform(Math.sign(K),0,0,Math.sign(ct),jt,Rt),E.drawImage(f,u,w,N,I,0,0,Mt,Wt),E.setTransform(K,Z,pt,ct,W,rt),[Mt,Wt]}if(K===0&&ct===0){const Pt=k*pt+W,jt=Math.round(Pt),Bt=R*Z+rt,Rt=Math.round(Bt),Ut=(k+et)*pt+W,Mt=Math.abs(Math.round(Ut)-jt)||1,se=(R+z)*Z+rt,Wt=Math.abs(Math.round(se)-Rt)||1;return E.setTransform(0,Math.sign(Z),Math.sign(pt),0,jt,Rt),E.drawImage(f,u,w,N,I,0,0,Wt,Mt),E.setTransform(K,Z,pt,ct,W,rt),[Wt,Mt]}E.drawImage(f,u,w,N,I,R,k,z,et);const Et=Math.hypot(K,Z),xt=Math.hypot(pt,ct);return[Et*z,xt*et]}function M(E){const{width:f,height:u}=E;if(f>H||u>H)return null;const w=1e3,N=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),I=f+1;let R=new Uint8Array(I*(u+1)),k,z,et;const K=f+7&-8;let Z=new Uint8Array(K*u),pt=0;for(const xt of E.data){let Pt=128;for(;Pt>0;)Z[pt++]=xt&Pt?0:255,Pt>>=1}let ct=0;for(pt=0,Z[pt]!==0&&(R[0]=1,++ct),z=1;z<f;z++)Z[pt]!==Z[pt+1]&&(R[z]=Z[pt]?2:1,++ct),pt++;for(Z[pt]!==0&&(R[z]=2,++ct),k=1;k<u;k++){pt=k*K,et=k*I,Z[pt-K]!==Z[pt]&&(R[et]=Z[pt]?1:8,++ct);let xt=(Z[pt]?4:0)+(Z[pt-K]?8:0);for(z=1;z<f;z++)xt=(xt>>2)+(Z[pt+1]?4:0)+(Z[pt-K+1]?8:0),N[xt]&&(R[et+z]=N[xt],++ct),pt++;if(Z[pt-K]!==Z[pt]&&(R[et+z]=Z[pt]?2:4,++ct),ct>w)return null}for(pt=K*(u-1),et=k*I,Z[pt]!==0&&(R[et]=8,++ct),z=1;z<f;z++)Z[pt]!==Z[pt+1]&&(R[et+z]=Z[pt]?4:8,++ct),pt++;if(Z[pt]!==0&&(R[et+z]=4,++ct),ct>w)return null;const W=new Int32Array([0,I,-1,0,-I,0,0,0,1]),rt=new Path2D;for(k=0;ct&&k<=u;k++){let xt=k*I;const Pt=xt+f;for(;xt<Pt&&!R[xt];)xt++;if(xt===Pt)continue;rt.moveTo(xt%I,k);const jt=xt;let Bt=R[xt];do{const Rt=W[Bt];do xt+=Rt;while(!R[xt]);const Ut=R[xt];Ut!==5&&Ut!==10?(Bt=Ut,R[xt]=0):(Bt=Ut&51*Bt>>4,R[xt]&=Bt>>2|Bt<<2),rt.lineTo(xt%I,xt/I|0),R[xt]||--ct}while(jt!==xt);--k}return Z=null,R=null,function(xt){xt.save(),xt.scale(1/f,-1/u),xt.translate(0,-u),xt.fill(rt),xt.beginPath(),xt.restore()}}class X{constructor(f,u){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,f,u])}clone(){const f=Object.create(this);return f.clipBox=this.clipBox.slice(),f}setCurrentPoint(f,u){this.x=f,this.y=u}updatePathMinMax(f,u,w){[u,w]=i.Util.applyTransform([u,w],f),this.minX=Math.min(this.minX,u),this.minY=Math.min(this.minY,w),this.maxX=Math.max(this.maxX,u),this.maxY=Math.max(this.maxY,w)}updateRectMinMax(f,u){const w=i.Util.applyTransform(u,f),N=i.Util.applyTransform(u.slice(2),f),I=i.Util.applyTransform([u[0],u[3]],f),R=i.Util.applyTransform([u[2],u[1]],f);this.minX=Math.min(this.minX,w[0],N[0],I[0],R[0]),this.minY=Math.min(this.minY,w[1],N[1],I[1],R[1]),this.maxX=Math.max(this.maxX,w[0],N[0],I[0],R[0]),this.maxY=Math.max(this.maxY,w[1],N[1],I[1],R[1])}updateScalingPathMinMax(f,u){i.Util.scaleMinMax(f,u),this.minX=Math.min(this.minX,u[0]),this.maxX=Math.max(this.maxX,u[1]),this.minY=Math.min(this.minY,u[2]),this.maxY=Math.max(this.maxY,u[3])}updateCurvePathMinMax(f,u,w,N,I,R,k,z,et,K){const Z=i.Util.bezierBoundingBox(u,w,N,I,R,k,z,et);if(K){K[0]=Math.min(K[0],Z[0],Z[2]),K[1]=Math.max(K[1],Z[0],Z[2]),K[2]=Math.min(K[2],Z[1],Z[3]),K[3]=Math.max(K[3],Z[1],Z[3]);return}this.updateRectMinMax(f,Z)}getPathBoundingBox(f=r.FILL,u=null){const w=[this.minX,this.minY,this.maxX,this.maxY];if(f===r.STROKE){u||(0,i.unreachable)("Stroke bounding box must include transform.");const N=i.Util.singularValueDecompose2dScale(u),I=N[0]*this.lineWidth/2,R=N[1]*this.lineWidth/2;w[0]-=I,w[1]-=R,w[2]+=I,w[3]+=R}return w}updateClipFromPath(){const f=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(f||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(f){this.clipBox=f,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(f=r.FILL,u=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(f,u))}}function ut(E,f){if(typeof ImageData<"u"&&f instanceof ImageData){E.putImageData(f,0,0);return}const u=f.height,w=f.width,N=u%V,I=(u-N)/V,R=N===0?I:I+1,k=E.createImageData(w,V);let z=0,et;const K=f.data,Z=k.data;let pt,ct,W,rt;if(f.kind===i.ImageKind.GRAYSCALE_1BPP){const Et=K.byteLength,xt=new Uint32Array(Z.buffer,0,Z.byteLength>>2),Pt=xt.length,jt=w+7>>3,Bt=4294967295,Rt=i.FeatureTest.isLittleEndian?4278190080:255;for(pt=0;pt<R;pt++){for(W=pt<I?V:N,et=0,ct=0;ct<W;ct++){const Ut=Et-z;let Mt=0;const se=Ut>jt?w:Ut*8-7,Wt=se&-8;let Jt=0,Ht=0;for(;Mt<Wt;Mt+=8)Ht=K[z++],xt[et++]=Ht&128?Bt:Rt,xt[et++]=Ht&64?Bt:Rt,xt[et++]=Ht&32?Bt:Rt,xt[et++]=Ht&16?Bt:Rt,xt[et++]=Ht&8?Bt:Rt,xt[et++]=Ht&4?Bt:Rt,xt[et++]=Ht&2?Bt:Rt,xt[et++]=Ht&1?Bt:Rt;for(;Mt<se;Mt++)Jt===0&&(Ht=K[z++],Jt=128),xt[et++]=Ht&Jt?Bt:Rt,Jt>>=1}for(;et<Pt;)xt[et++]=0;E.putImageData(k,0,pt*V)}}else if(f.kind===i.ImageKind.RGBA_32BPP){for(ct=0,rt=w*V*4,pt=0;pt<I;pt++)Z.set(K.subarray(z,z+rt)),z+=rt,E.putImageData(k,0,ct),ct+=V;pt<R&&(rt=w*N*4,Z.set(K.subarray(z,z+rt)),E.putImageData(k,0,ct))}else if(f.kind===i.ImageKind.RGB_24BPP)for(W=V,rt=w*W,pt=0;pt<R;pt++){for(pt>=I&&(W=N,rt=w*W),et=0,ct=rt;ct--;)Z[et++]=K[z++],Z[et++]=K[z++],Z[et++]=K[z++],Z[et++]=255;E.putImageData(k,0,pt*V)}else throw new Error(`bad image kind: ${f.kind}`)}function tt(E,f){if(f.bitmap){E.drawImage(f.bitmap,0,0);return}const u=f.height,w=f.width,N=u%V,I=(u-N)/V,R=N===0?I:I+1,k=E.createImageData(w,V);let z=0;const et=f.data,K=k.data;for(let Z=0;Z<R;Z++){const pt=Z<I?V:N;({srcPos:z}=o({src:et,srcPos:z,dest:K,width:w,height:pt,nonBlackColor:0})),E.putImageData(k,0,Z*V)}}function Y(E,f){const u=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const w of u)E[w]!==void 0&&(f[w]=E[w]);E.setLineDash!==void 0&&(f.setLineDash(E.getLineDash()),f.lineDashOffset=E.lineDashOffset)}function nt(E){if(E.strokeStyle=E.fillStyle="#000000",E.fillRule="nonzero",E.globalAlpha=1,E.lineWidth=1,E.lineCap="butt",E.lineJoin="miter",E.miterLimit=10,E.globalCompositeOperation="source-over",E.font="10px sans-serif",E.setLineDash!==void 0&&(E.setLineDash([]),E.lineDashOffset=0),!i.isNodeJS){const{filter:f}=E;f!=="none"&&f!==""&&(E.filter="none")}}function bt(E,f,u,w){const N=E.length;for(let I=3;I<N;I+=4){const R=E[I];if(R===0)E[I-3]=f,E[I-2]=u,E[I-1]=w;else if(R<255){const k=255-R;E[I-3]=E[I-3]*R+f*k>>8,E[I-2]=E[I-2]*R+u*k>>8,E[I-1]=E[I-1]*R+w*k>>8}}}function gt(E,f,u){const w=E.length,N=1/255;for(let I=3;I<w;I+=4){const R=u?u[E[I]]:E[I];f[I]=f[I]*R*N|0}}function yt(E,f,u){const w=E.length;for(let N=3;N<w;N+=4){const I=E[N-3]*77+E[N-2]*152+E[N-1]*28;f[N]=u?f[N]*u[I>>8]>>8:f[N]*I>>16}}function Nt(E,f,u,w,N,I,R,k,z,et,K){const Z=!!I,pt=Z?I[0]:0,ct=Z?I[1]:0,W=Z?I[2]:0,rt=N==="Luminosity"?yt:gt,xt=Math.min(w,Math.ceil(1048576/u));for(let Pt=0;Pt<w;Pt+=xt){const jt=Math.min(xt,w-Pt),Bt=E.getImageData(k-et,Pt+(z-K),u,jt),Rt=f.getImageData(k,Pt+z,u,jt);Z&&bt(Bt.data,pt,ct,W),rt(Bt.data,Rt.data,R),f.putImageData(Rt,k,Pt+z)}}function Ct(E,f,u,w){const N=w[0],I=w[1],R=w[2]-N,k=w[3]-I;R===0||k===0||(Nt(f.context,u,R,k,f.subtype,f.backdrop,f.transferMap,N,I,f.offsetX,f.offsetY),E.save(),E.globalAlpha=1,E.globalCompositeOperation="source-over",E.setTransform(1,0,0,1,0,0),E.drawImage(u.canvas,0,0),E.restore())}function B(E,f){const u=i.Util.singularValueDecompose2dScale(E);u[0]=Math.fround(u[0]),u[1]=Math.fround(u[1]);const w=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return f!==void 0?f:u[0]<=w||u[1]<=w}const it=["butt","round","square"],st=["miter","round","bevel"],ft={},dt={};class T{constructor(f,u,w,N,I,{optionalContentConfig:R,markedContentStack:k=null},z,et){this.ctx=f,this.current=new X(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=u,this.objs=w,this.canvasFactory=N,this.filterFactory=I,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=k||[],this.optionalContentConfig=R,this.cachedCanvases=new j(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=z,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=et,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(f,u=null){return typeof f=="string"?f.startsWith("g_")?this.commonObjs.get(f):this.objs.get(f):u}beginDrawing({transform:f,viewport:u,transparency:w=!1,background:N=null}){const I=this.ctx.canvas.width,R=this.ctx.canvas.height,k=this.ctx.fillStyle;if(this.ctx.fillStyle=N||"#ffffff",this.ctx.fillRect(0,0,I,R),this.ctx.fillStyle=k,w){const z=this.cachedCanvases.getCanvas("transparent",I,R);this.compositeCtx=this.ctx,this.transparentCanvas=z.canvas,this.ctx=z.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),nt(this.ctx),f&&(this.ctx.transform(...f),this.outputScaleX=f[0],this.outputScaleY=f[0]),this.ctx.transform(...u.transform),this.viewportScale=u.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(f,u,w,N){const I=f.argsArray,R=f.fnArray;let k=u||0;const z=I.length;if(z===k)return k;const et=z-k>U&&typeof w=="function",K=et?Date.now()+P:0;let Z=0;const pt=this.commonObjs,ct=this.objs;let W;for(;;){if(N!==void 0&&k===N.nextBreakPoint)return N.breakIt(k,w),k;if(W=R[k],W!==i.OPS.dependency)this[W].apply(this,I[k]);else for(const rt of I[k]){const Et=rt.startsWith("g_")?pt:ct;if(!Et.has(rt))return Et.get(rt,w),k}if(k++,k===z)return k;if(et&&++Z>U){if(Date.now()>K)return w(),k;Z=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const f of this._cachedBitmapsMap.values()){for(const u of f.values())typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement&&(u.width=u.height=0);f.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const f=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(f!=="none"){const u=this.ctx.filter;this.ctx.filter=f,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=u}}}_scaleImage(f,u){const w=f.width,N=f.height;let I=Math.max(Math.hypot(u[0],u[1]),1),R=Math.max(Math.hypot(u[2],u[3]),1),k=w,z=N,et="prescale1",K,Z;for(;I>2&&k>1||R>2&&z>1;){let pt=k,ct=z;I>2&&k>1&&(pt=k>=16384?Math.floor(k/2)-1||1:Math.ceil(k/2),I/=k/pt),R>2&&z>1&&(ct=z>=16384?Math.floor(z/2)-1||1:Math.ceil(z)/2,R/=z/ct),K=this.cachedCanvases.getCanvas(et,pt,ct),Z=K.context,Z.clearRect(0,0,pt,ct),Z.drawImage(f,0,0,k,z,0,0,pt,ct),f=K.canvas,k=pt,z=ct,et=et==="prescale1"?"prescale2":"prescale1"}return{img:f,paintWidth:k,paintHeight:z}}_createMaskCanvas(f){const u=this.ctx,{width:w,height:N}=f,I=this.current.fillColor,R=this.current.patternFill,k=(0,a.getCurrentTransform)(u);let z,et,K,Z;if((f.bitmap||f.data)&&f.count>1){const se=f.bitmap||f.data.buffer;et=JSON.stringify(R?k:[k.slice(0,4),I]),z=this._cachedBitmapsMap.get(se),z||(z=new Map,this._cachedBitmapsMap.set(se,z));const Wt=z.get(et);if(Wt&&!R){const Jt=Math.round(Math.min(k[0],k[2])+k[4]),Ht=Math.round(Math.min(k[1],k[3])+k[5]);return{canvas:Wt,offsetX:Jt,offsetY:Ht}}K=Wt}K||(Z=this.cachedCanvases.getCanvas("maskCanvas",w,N),tt(Z.context,f));let pt=i.Util.transform(k,[1/w,0,0,-1/N,0,0]);pt=i.Util.transform(pt,[1,0,0,1,0,-N]);const[ct,W,rt,Et]=i.Util.getAxialAlignedBoundingBox([0,0,w,N],pt),xt=Math.round(rt-ct)||1,Pt=Math.round(Et-W)||1,jt=this.cachedCanvases.getCanvas("fillCanvas",xt,Pt),Bt=jt.context,Rt=ct,Ut=W;Bt.translate(-Rt,-Ut),Bt.transform(...pt),K||(K=this._scaleImage(Z.canvas,(0,a.getCurrentTransformInverse)(Bt)),K=K.img,z&&R&&z.set(et,K)),Bt.imageSmoothingEnabled=B((0,a.getCurrentTransform)(Bt),f.interpolate),at(Bt,K,0,0,K.width,K.height,0,0,w,N),Bt.globalCompositeOperation="source-in";const Mt=i.Util.transform((0,a.getCurrentTransformInverse)(Bt),[1,0,0,1,-Rt,-Ut]);return Bt.fillStyle=R?I.getPattern(u,this,Mt,r.FILL):I,Bt.fillRect(0,0,w,N),z&&!R&&(this.cachedCanvases.delete("fillCanvas"),z.set(et,jt.canvas)),{canvas:jt.canvas,offsetX:Math.round(Rt),offsetY:Math.round(Ut)}}setLineWidth(f){f!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=f,this.ctx.lineWidth=f}setLineCap(f){this.ctx.lineCap=it[f]}setLineJoin(f){this.ctx.lineJoin=st[f]}setMiterLimit(f){this.ctx.miterLimit=f}setDash(f,u){const w=this.ctx;w.setLineDash!==void 0&&(w.setLineDash(f),w.lineDashOffset=u)}setRenderingIntent(f){}setFlatness(f){}setGState(f){for(const[u,w]of f)switch(u){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=w;break;case"ca":this.current.fillAlpha=w,this.ctx.globalAlpha=w;break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(w);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const f=this.inSMaskMode;this.current.activeSMask&&!f?this.beginSMaskMode():!this.current.activeSMask&&f&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const f=this.ctx.canvas.width,u=this.ctx.canvas.height,w="smaskGroupAt"+this.groupLevel,N=this.cachedCanvases.getCanvas(w,f,u);this.suspendedCtx=this.ctx,this.ctx=N.context;const I=this.ctx;I.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),Y(this.suspendedCtx,I),$(I,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(f){if(!this.current.activeSMask)return;f?(f[0]=Math.floor(f[0]),f[1]=Math.floor(f[1]),f[2]=Math.ceil(f[2]),f[3]=Math.ceil(f[3])):f=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const u=this.current.activeSMask,w=this.suspendedCtx;Ct(w,u,this.ctx,f),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const f=this.current;this.stateStack.push(f),this.current=f.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(f,u,w,N,I,R){this.ctx.transform(f,u,w,N,I,R),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(f,u,w){const N=this.ctx,I=this.current;let R=I.x,k=I.y,z,et;const K=(0,a.getCurrentTransform)(N),Z=K[0]===0&&K[3]===0||K[1]===0&&K[2]===0,pt=Z?w.slice(0):null;for(let ct=0,W=0,rt=f.length;ct<rt;ct++)switch(f[ct]|0){case i.OPS.rectangle:R=u[W++],k=u[W++];const Et=u[W++],xt=u[W++],Pt=R+Et,jt=k+xt;N.moveTo(R,k),Et===0||xt===0?N.lineTo(Pt,jt):(N.lineTo(Pt,k),N.lineTo(Pt,jt),N.lineTo(R,jt)),Z||I.updateRectMinMax(K,[R,k,Pt,jt]),N.closePath();break;case i.OPS.moveTo:R=u[W++],k=u[W++],N.moveTo(R,k),Z||I.updatePathMinMax(K,R,k);break;case i.OPS.lineTo:R=u[W++],k=u[W++],N.lineTo(R,k),Z||I.updatePathMinMax(K,R,k);break;case i.OPS.curveTo:z=R,et=k,R=u[W+4],k=u[W+5],N.bezierCurveTo(u[W],u[W+1],u[W+2],u[W+3],R,k),I.updateCurvePathMinMax(K,z,et,u[W],u[W+1],u[W+2],u[W+3],R,k,pt),W+=6;break;case i.OPS.curveTo2:z=R,et=k,N.bezierCurveTo(R,k,u[W],u[W+1],u[W+2],u[W+3]),I.updateCurvePathMinMax(K,z,et,R,k,u[W],u[W+1],u[W+2],u[W+3],pt),R=u[W+2],k=u[W+3],W+=4;break;case i.OPS.curveTo3:z=R,et=k,R=u[W+2],k=u[W+3],N.bezierCurveTo(u[W],u[W+1],R,k,R,k),I.updateCurvePathMinMax(K,z,et,u[W],u[W+1],R,k,R,k,pt),W+=4;break;case i.OPS.closePath:N.closePath();break}Z&&I.updateScalingPathMinMax(K,pt),I.setCurrentPoint(R,k)}closePath(){this.ctx.closePath()}stroke(f=!0){const u=this.ctx,w=this.current.strokeColor;u.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof w=="object"&&w?.getPattern?(u.save(),u.strokeStyle=w.getPattern(u,this,(0,a.getCurrentTransformInverse)(u),r.STROKE),this.rescaleAndStroke(!1),u.restore()):this.rescaleAndStroke(!0)),f&&this.consumePath(this.current.getClippedPathBoundingBox()),u.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(f=!0){const u=this.ctx,w=this.current.fillColor,N=this.current.patternFill;let I=!1;N&&(u.save(),u.fillStyle=w.getPattern(u,this,(0,a.getCurrentTransformInverse)(u),r.FILL),I=!0);const R=this.current.getClippedPathBoundingBox();this.contentVisible&&R!==null&&(this.pendingEOFill?(u.fill("evenodd"),this.pendingEOFill=!1):u.fill()),I&&u.restore(),f&&this.consumePath(R)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ft}eoClip(){this.pendingClip=dt}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const f=this.pendingTextPaths,u=this.ctx;if(f===void 0){u.beginPath();return}u.save(),u.beginPath();for(const w of f)u.setTransform(...w.transform),u.translate(w.x,w.y),w.addToPath(u,w.fontSize);u.restore(),u.clip(),u.beginPath(),delete this.pendingTextPaths}setCharSpacing(f){this.current.charSpacing=f}setWordSpacing(f){this.current.wordSpacing=f}setHScale(f){this.current.textHScale=f/100}setLeading(f){this.current.leading=-f}setFont(f,u){const w=this.commonObjs.get(f),N=this.current;if(!w)throw new Error(`Can't find font for ${f}`);if(N.fontMatrix=w.fontMatrix||i.FONT_IDENTITY_MATRIX,(N.fontMatrix[0]===0||N.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+f),u<0?(u=-u,N.fontDirection=-1):N.fontDirection=1,this.current.font=w,this.current.fontSize=u,w.isType3Font)return;const I=w.loadedName||"sans-serif",R=w.systemFontInfo?.css||`"${I}", ${w.fallbackName}`;let k="normal";w.black?k="900":w.bold&&(k="bold");const z=w.italic?"italic":"normal";let et=u;u<m?et=m:u>C&&(et=C),this.current.fontSizeScale=u/et,this.ctx.font=`${z} ${k} ${et}px ${R}`}setTextRenderingMode(f){this.current.textRenderingMode=f}setTextRise(f){this.current.textRise=f}moveText(f,u){this.current.x=this.current.lineX+=f,this.current.y=this.current.lineY+=u}setLeadingMoveText(f,u){this.setLeading(-u),this.moveText(f,u)}setTextMatrix(f,u,w,N,I,R){this.current.textMatrix=[f,u,w,N,I,R],this.current.textMatrixScale=Math.hypot(f,u),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(f,u,w,N){const I=this.ctx,R=this.current,k=R.font,z=R.textRenderingMode,et=R.fontSize/R.fontSizeScale,K=z&i.TextRenderingMode.FILL_STROKE_MASK,Z=!!(z&i.TextRenderingMode.ADD_TO_PATH_FLAG),pt=R.patternFill&&!k.missingFile;let ct;(k.disableFontFace||Z||pt)&&(ct=k.getPathGenerator(this.commonObjs,f)),k.disableFontFace||pt?(I.save(),I.translate(u,w),I.beginPath(),ct(I,et),N&&I.setTransform(...N),(K===i.TextRenderingMode.FILL||K===i.TextRenderingMode.FILL_STROKE)&&I.fill(),(K===i.TextRenderingMode.STROKE||K===i.TextRenderingMode.FILL_STROKE)&&I.stroke(),I.restore()):((K===i.TextRenderingMode.FILL||K===i.TextRenderingMode.FILL_STROKE)&&I.fillText(f,u,w),(K===i.TextRenderingMode.STROKE||K===i.TextRenderingMode.FILL_STROKE)&&I.strokeText(f,u,w)),Z&&(this.pendingTextPaths||=[]).push({transform:(0,a.getCurrentTransform)(I),x:u,y:w,fontSize:et,addToPath:ct})}get isFontSubpixelAAEnabled(){const{context:f}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);f.scale(1.5,1),f.fillText("I",0,10);const u=f.getImageData(0,0,10,10).data;let w=!1;for(let N=3;N<u.length;N+=4)if(u[N]>0&&u[N]<255){w=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",w)}showText(f){const u=this.current,w=u.font;if(w.isType3Font)return this.showType3Text(f);const N=u.fontSize;if(N===0)return;const I=this.ctx,R=u.fontSizeScale,k=u.charSpacing,z=u.wordSpacing,et=u.fontDirection,K=u.textHScale*et,Z=f.length,pt=w.vertical,ct=pt?1:-1,W=w.defaultVMetrics,rt=N*u.fontMatrix[0],Et=u.textRenderingMode===i.TextRenderingMode.FILL&&!w.disableFontFace&&!u.patternFill;I.save(),I.transform(...u.textMatrix),I.translate(u.x,u.y+u.textRise),et>0?I.scale(K,-1):I.scale(K,1);let xt;if(u.patternFill){I.save();const Ut=u.fillColor.getPattern(I,this,(0,a.getCurrentTransformInverse)(I),r.FILL);xt=(0,a.getCurrentTransform)(I),I.restore(),I.fillStyle=Ut}let Pt=u.lineWidth;const jt=u.textMatrixScale;if(jt===0||Pt===0){const Ut=u.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(Ut===i.TextRenderingMode.STROKE||Ut===i.TextRenderingMode.FILL_STROKE)&&(Pt=this.getSinglePixelWidth())}else Pt/=jt;if(R!==1&&(I.scale(R,R),Pt/=R),I.lineWidth=Pt,w.isInvalidPDFjsFont){const Ut=[];let Mt=0;for(const se of f)Ut.push(se.unicode),Mt+=se.width;I.fillText(Ut.join(""),0,0),u.x+=Mt*rt*K,I.restore(),this.compose();return}let Bt=0,Rt;for(Rt=0;Rt<Z;++Rt){const Ut=f[Rt];if(typeof Ut=="number"){Bt+=ct*Ut*N/1e3;continue}let Mt=!1;const se=(Ut.isSpace?z:0)+k,Wt=Ut.fontChar,Jt=Ut.accent;let Ht,ve,Vt=Ut.width;if(pt){const Gt=Ut.vmetric||W,Xt=-(Ut.vmetric?Gt[1]:Vt*.5)*rt,le=Gt[2]*rt;Vt=Gt?-Gt[0]:Vt,Ht=Xt/R,ve=(Bt+le)/R}else Ht=Bt/R,ve=0;if(w.remeasure&&Vt>0){const Gt=I.measureText(Wt).width*1e3/N*R;if(Vt<Gt&&this.isFontSubpixelAAEnabled){const Xt=Vt/Gt;Mt=!0,I.save(),I.scale(Xt,1),Ht/=Xt}else Vt!==Gt&&(Ht+=(Vt-Gt)/2e3*N/R)}if(this.contentVisible&&(Ut.isInFont||w.missingFile)){if(Et&&!Jt)I.fillText(Wt,Ht,ve);else if(this.paintChar(Wt,Ht,ve,xt),Jt){const Gt=Ht+N*Jt.offset.x/R,Xt=ve-N*Jt.offset.y/R;this.paintChar(Jt.fontChar,Gt,Xt,xt)}}const pe=pt?Vt*rt-se*et:Vt*rt+se*et;Bt+=pe,Mt&&I.restore()}pt?u.y-=Bt:u.x+=Bt*K,I.restore(),this.compose()}showType3Text(f){const u=this.ctx,w=this.current,N=w.font,I=w.fontSize,R=w.fontDirection,k=N.vertical?1:-1,z=w.charSpacing,et=w.wordSpacing,K=w.textHScale*R,Z=w.fontMatrix||i.FONT_IDENTITY_MATRIX,pt=f.length,ct=w.textRenderingMode===i.TextRenderingMode.INVISIBLE;let W,rt,Et,xt;if(!(ct||I===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,u.save(),u.transform(...w.textMatrix),u.translate(w.x,w.y),u.scale(K,R),W=0;W<pt;++W){if(rt=f[W],typeof rt=="number"){xt=k*rt*I/1e3,this.ctx.translate(xt,0),w.x+=xt*K;continue}const Pt=(rt.isSpace?et:0)+z,jt=N.charProcOperatorList[rt.operatorListId];if(!jt){(0,i.warn)(`Type3 character "${rt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=rt,this.save(),u.scale(I,I),u.transform(...Z),this.executeOperatorList(jt),this.restore()),Et=i.Util.applyTransform([rt.width,0],Z)[0]*I+Pt,u.translate(Et,0),w.x+=Et*K}u.restore(),this.processingType3=null}}setCharWidth(f,u){}setCharWidthAndBounds(f,u,w,N,I,R){this.ctx.rect(w,N,I-w,R-N),this.ctx.clip(),this.endPath()}getColorN_Pattern(f){let u;if(f[0]==="TilingPattern"){const w=f[1],N=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),I={createCanvasGraphics:R=>new T(R,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};u=new S(f,w,this.ctx,I,N)}else u=this._getPattern(f[1],f[2]);return u}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(f,u,w){const N=i.Util.makeHexColor(f,u,w);this.ctx.strokeStyle=N,this.current.strokeColor=N}setFillRGBColor(f,u,w){const N=i.Util.makeHexColor(f,u,w);this.ctx.fillStyle=N,this.current.fillColor=N,this.current.patternFill=!1}_getPattern(f,u=null){let w;return this.cachedPatterns.has(f)?w=this.cachedPatterns.get(f):(w=h(this.getObject(f)),this.cachedPatterns.set(f,w)),u&&(w.matrix=u),w}shadingFill(f){if(!this.contentVisible)return;const u=this.ctx;this.save();const w=this._getPattern(f);u.fillStyle=w.getPattern(u,this,(0,a.getCurrentTransformInverse)(u),r.SHADING);const N=(0,a.getCurrentTransformInverse)(u);if(N){const{width:I,height:R}=u.canvas,[k,z,et,K]=i.Util.getAxialAlignedBoundingBox([0,0,I,R],N);this.ctx.fillRect(k,z,et-k,K-z)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(f,u){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(f)&&f.length===6&&this.transform(...f),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),u)){const w=u[2]-u[0],N=u[3]-u[1];this.ctx.rect(u[0],u[1],w,N),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),u),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(f){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const u=this.ctx;f.isolated||(0,i.info)("TODO: Support non-isolated groups."),f.knockout&&(0,i.warn)("Knockout groups not supported.");const w=(0,a.getCurrentTransform)(u);if(f.matrix&&u.transform(...f.matrix),!f.bbox)throw new Error("Bounding box is required.");let N=i.Util.getAxialAlignedBoundingBox(f.bbox,(0,a.getCurrentTransform)(u));const I=[0,0,u.canvas.width,u.canvas.height];N=i.Util.intersect(N,I)||[0,0,0,0];const R=Math.floor(N[0]),k=Math.floor(N[1]);let z=Math.max(Math.ceil(N[2])-R,1),et=Math.max(Math.ceil(N[3])-k,1),K=1,Z=1;z>_&&(K=z/_,z=_),et>_&&(Z=et/_,et=_),this.current.startNewPathAndClipBox([0,0,z,et]);let pt="groupAt"+this.groupLevel;f.smask&&(pt+="_smask_"+this.smaskCounter++%2);const ct=this.cachedCanvases.getCanvas(pt,z,et),W=ct.context;W.scale(1/K,1/Z),W.translate(-R,-k),W.transform(...w),f.smask?this.smaskStack.push({canvas:ct.canvas,context:W,offsetX:R,offsetY:k,scaleX:K,scaleY:Z,subtype:f.smask.subtype,backdrop:f.smask.backdrop,transferMap:f.smask.transferMap||null,startTransformInverse:null}):(u.setTransform(1,0,0,1,0,0),u.translate(R,k),u.scale(K,Z),u.save()),Y(u,W),this.ctx=W,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(u),this.groupLevel++}endGroup(f){if(!this.contentVisible)return;this.groupLevel--;const u=this.ctx,w=this.groupStack.pop();if(this.ctx=w,this.ctx.imageSmoothingEnabled=!1,f.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const N=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...N);const I=i.Util.getAxialAlignedBoundingBox([0,0,u.canvas.width,u.canvas.height],N);this.ctx.drawImage(u.canvas,0,0),this.ctx.restore(),this.compose(I)}}beginAnnotation(f,u,w,N,I){if(this.#t(),nt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(u)&&u.length===4){const R=u[2]-u[0],k=u[3]-u[1];if(I&&this.annotationCanvasMap){w=w.slice(),w[4]-=u[0],w[5]-=u[1],u=u.slice(),u[0]=u[1]=0,u[2]=R,u[3]=k;const[z,et]=i.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:K}=this,Z=Math.ceil(R*this.outputScaleX*K),pt=Math.ceil(k*this.outputScaleY*K);this.annotationCanvas=this.canvasFactory.create(Z,pt);const{canvas:ct,context:W}=this.annotationCanvas;this.annotationCanvasMap.set(f,ct),this.annotationCanvas.savedCtx=this.ctx,this.ctx=W,this.ctx.save(),this.ctx.setTransform(z,0,0,-et,0,k*et),nt(this.ctx)}else nt(this.ctx),this.ctx.rect(u[0],u[1],R,k),this.ctx.clip(),this.endPath()}this.current=new X(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...w),this.transform(...N)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(f){if(!this.contentVisible)return;const u=f.count;f=this.getObject(f.data,f),f.count=u;const w=this.ctx,N=this.processingType3;if(N&&(N.compiled===void 0&&(N.compiled=M(f)),N.compiled)){N.compiled(w);return}const I=this._createMaskCanvas(f),R=I.canvas;w.save(),w.setTransform(1,0,0,1,0,0),w.drawImage(R,I.offsetX,I.offsetY),w.restore(),this.compose()}paintImageMaskXObjectRepeat(f,u,w=0,N=0,I,R){if(!this.contentVisible)return;f=this.getObject(f.data,f);const k=this.ctx;k.save();const z=(0,a.getCurrentTransform)(k);k.transform(u,w,N,I,0,0);const et=this._createMaskCanvas(f);k.setTransform(1,0,0,1,et.offsetX-z[4],et.offsetY-z[5]);for(let K=0,Z=R.length;K<Z;K+=2){const pt=i.Util.transform(z,[u,w,N,I,R[K],R[K+1]]),[ct,W]=i.Util.applyTransform([0,0],pt);k.drawImage(et.canvas,ct,W)}k.restore(),this.compose()}paintImageMaskXObjectGroup(f){if(!this.contentVisible)return;const u=this.ctx,w=this.current.fillColor,N=this.current.patternFill;for(const I of f){const{data:R,width:k,height:z,transform:et}=I,K=this.cachedCanvases.getCanvas("maskCanvas",k,z),Z=K.context;Z.save();const pt=this.getObject(R,I);tt(Z,pt),Z.globalCompositeOperation="source-in",Z.fillStyle=N?w.getPattern(Z,this,(0,a.getCurrentTransformInverse)(u),r.FILL):w,Z.fillRect(0,0,k,z),Z.restore(),u.save(),u.transform(...et),u.scale(1,-1),at(u,K.canvas,0,0,k,z,0,-1,1,1),u.restore()}this.compose()}paintImageXObject(f){if(!this.contentVisible)return;const u=this.getObject(f);if(!u){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(u)}paintImageXObjectRepeat(f,u,w,N){if(!this.contentVisible)return;const I=this.getObject(f);if(!I){(0,i.warn)("Dependent image isn't ready yet");return}const R=I.width,k=I.height,z=[];for(let et=0,K=N.length;et<K;et+=2)z.push({transform:[u,0,0,w,N[et],N[et+1]],x:0,y:0,w:R,h:k});this.paintInlineImageXObjectGroup(I,z)}applyTransferMapsToCanvas(f){return this.current.transferMaps!=="none"&&(f.filter=this.current.transferMaps,f.drawImage(f.canvas,0,0),f.filter="none"),f.canvas}applyTransferMapsToBitmap(f){if(this.current.transferMaps==="none")return f.bitmap;const{bitmap:u,width:w,height:N}=f,I=this.cachedCanvases.getCanvas("inlineImage",w,N),R=I.context;return R.filter=this.current.transferMaps,R.drawImage(u,0,0),R.filter="none",I.canvas}paintInlineImageXObject(f){if(!this.contentVisible)return;const u=f.width,w=f.height,N=this.ctx;if(this.save(),!i.isNodeJS){const{filter:k}=N;k!=="none"&&k!==""&&(N.filter="none")}N.scale(1/u,-1/w);let I;if(f.bitmap)I=this.applyTransferMapsToBitmap(f);else if(typeof HTMLElement=="function"&&f instanceof HTMLElement||!f.data)I=f;else{const z=this.cachedCanvases.getCanvas("inlineImage",u,w).context;ut(z,f),I=this.applyTransferMapsToCanvas(z)}const R=this._scaleImage(I,(0,a.getCurrentTransformInverse)(N));N.imageSmoothingEnabled=B((0,a.getCurrentTransform)(N),f.interpolate),at(N,R.img,0,0,R.paintWidth,R.paintHeight,0,-w,u,w),this.compose(),this.restore()}paintInlineImageXObjectGroup(f,u){if(!this.contentVisible)return;const w=this.ctx;let N;if(f.bitmap)N=f.bitmap;else{const I=f.width,R=f.height,z=this.cachedCanvases.getCanvas("inlineImage",I,R).context;ut(z,f),N=this.applyTransferMapsToCanvas(z)}for(const I of u)w.save(),w.transform(...I.transform),w.scale(1,-1),at(w,N,I.x,I.y,I.w,I.h,0,-1,1,1),w.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(f){}markPointProps(f,u){}beginMarkedContent(f){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(f,u){f==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(u)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(f){const u=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(f);const w=this.ctx;this.pendingClip&&(u||(this.pendingClip===dt?w.clip("evenodd"):w.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),w.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const f=(0,a.getCurrentTransform)(this.ctx);if(f[1]===0&&f[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(f[0]),Math.abs(f[3]));else{const u=Math.abs(f[0]*f[3]-f[2]*f[1]),w=Math.hypot(f[0],f[2]),N=Math.hypot(f[1],f[3]);this._cachedGetSinglePixelWidth=Math.max(w,N)/u}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:f}=this.current,{a:u,b:w,c:N,d:I}=this.ctx.getTransform();let R,k;if(w===0&&N===0){const z=Math.abs(u),et=Math.abs(I);if(z===et)if(f===0)R=k=1/z;else{const K=z*f;R=k=K<1?1/K:1}else if(f===0)R=1/z,k=1/et;else{const K=z*f,Z=et*f;R=K<1?1/K:1,k=Z<1?1/Z:1}}else{const z=Math.abs(u*I-w*N),et=Math.hypot(u,w),K=Math.hypot(N,I);if(f===0)R=K/z,k=et/z;else{const Z=f*z;R=K>Z?K/Z:1,k=et>Z?et/Z:1}}this._cachedScaleForStroking[0]=R,this._cachedScaleForStroking[1]=k}return this._cachedScaleForStroking}rescaleAndStroke(f){const{ctx:u}=this,{lineWidth:w}=this.current,[N,I]=this.getScaleForStroking();if(u.lineWidth=w||1,N===1&&I===1){u.stroke();return}const R=u.getLineDash();if(f&&u.save(),u.scale(N,I),R.length>0){const k=Math.max(N,I);u.setLineDash(R.map(z=>z/k)),u.lineDashOffset/=k}u.stroke(),f&&u.restore()}isContentVisible(){for(let f=this.markedContentStack.length-1;f>=0;f--)if(!this.markedContentStack[f].visible)return!1;return!0}}for(const E in i.OPS)T.prototype[E]!==void 0&&(T.prototype[i.OPS[E]]=T.prototype[E])}),473:((n,e,t)=>{t.d(e,{DOMCMapReaderFactory:()=>g,DOMCanvasFactory:()=>p,DOMFilterFactory:()=>l,DOMSVGFactory:()=>x,DOMStandardFontDataFactory:()=>y,PDFDateString:()=>V,PageViewport:()=>h,PixelsPerInch:()=>b,RenderingCancelledException:()=>v,StatTimer:()=>_,fetchData:()=>d,getColorValues:()=>at,getCurrentTransform:()=>M,getCurrentTransformInverse:()=>X,getFilenameFromUrl:()=>m,getPdfFilenameFromUrl:()=>C,getRGB:()=>j,getXfaPageViewport:()=>$,isDataScheme:()=>S,isPdfFile:()=>o,isValidFetchUrl:()=>P,noContextMenu:()=>U,setLayerDimensions:()=>ut});var i=t(822),a=t(266);const r="http://www.w3.org/2000/svg";class b{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class l extends i.BaseFilterFactory{#t;#e;#i;#n;#r;#s;#o;#l;#h;#c;#f=0;constructor({docId:Y,ownerDocument:nt=globalThis.document}={}){super(),this.#i=Y,this.#n=nt}get#d(){return this.#t||=new Map}get#u(){if(!this.#e){const Y=this.#n.createElement("div"),{style:nt}=Y;nt.visibility="hidden",nt.contain="strict",nt.width=nt.height=0,nt.position="absolute",nt.top=nt.left=0,nt.zIndex=-1;const bt=this.#n.createElementNS(r,"svg");bt.setAttribute("width",0),bt.setAttribute("height",0),this.#e=this.#n.createElementNS(r,"defs"),Y.append(bt),bt.append(this.#e),this.#n.body.append(Y)}return this.#e}addFilter(Y){if(!Y)return"none";let nt=this.#d.get(Y);if(nt)return nt;let bt,gt,yt,Nt;if(Y.length===1){const st=Y[0],ft=new Array(256);for(let dt=0;dt<256;dt++)ft[dt]=st[dt]/255;Nt=bt=gt=yt=ft.join(",")}else{const[st,ft,dt]=Y,T=new Array(256),E=new Array(256),f=new Array(256);for(let u=0;u<256;u++)T[u]=st[u]/255,E[u]=ft[u]/255,f[u]=dt[u]/255;bt=T.join(","),gt=E.join(","),yt=f.join(","),Nt=`${bt}${gt}${yt}`}if(nt=this.#d.get(Nt),nt)return this.#d.set(Y,nt),nt;const Ct=`g_${this.#i}_transfer_map_${this.#f++}`,B=`url(#${Ct})`;this.#d.set(Y,B),this.#d.set(Nt,B);const it=this.#p(Ct);return this.#b(bt,gt,yt,it),B}addHCMFilter(Y,nt){const bt=`${Y}-${nt}`;if(this.#s===bt)return this.#o;if(this.#s=bt,this.#o="none",this.#r?.remove(),!Y||!nt)return this.#o;const gt=this.#v(Y);Y=a.Util.makeHexColor(...gt);const yt=this.#v(nt);if(nt=a.Util.makeHexColor(...yt),this.#u.style.color="",Y==="#000000"&&nt==="#ffffff"||Y===nt)return this.#o;const Nt=new Array(256);for(let ft=0;ft<=255;ft++){const dt=ft/255;Nt[ft]=dt<=.03928?dt/12.92:((dt+.055)/1.055)**2.4}const Ct=Nt.join(","),B=`g_${this.#i}_hcm_filter`,it=this.#l=this.#p(B);this.#b(Ct,Ct,Ct,it),this.#a(it);const st=(ft,dt)=>{const T=gt[ft]/255,E=yt[ft]/255,f=new Array(dt+1);for(let u=0;u<=dt;u++)f[u]=T+u/dt*(E-T);return f.join(",")};return this.#b(st(0,5),st(1,5),st(2,5),it),this.#o=`url(#${B})`,this.#o}addHighlightHCMFilter(Y,nt,bt,gt){const yt=`${Y}-${nt}-${bt}-${gt}`;if(this.#h===yt)return this.#c;if(this.#h=yt,this.#c="none",this.#l?.remove(),!Y||!nt)return this.#c;const[Nt,Ct]=[Y,nt].map(this.#v.bind(this));let B=Math.round(.2126*Nt[0]+.7152*Nt[1]+.0722*Nt[2]),it=Math.round(.2126*Ct[0]+.7152*Ct[1]+.0722*Ct[2]),[st,ft]=[bt,gt].map(this.#v.bind(this));it<B&&([B,it,st,ft]=[it,B,ft,st]),this.#u.style.color="";const dt=(f,u,w)=>{const N=new Array(256),I=(it-B)/w,R=f/255,k=(u-f)/(255*w);let z=0;for(let et=0;et<=w;et++){const K=Math.round(B+et*I),Z=R+et*k;for(let pt=z;pt<=K;pt++)N[pt]=Z;z=K+1}for(let et=z;et<256;et++)N[et]=N[z-1];return N.join(",")},T=`g_${this.#i}_hcm_highlight_filter`,E=this.#l=this.#p(T);return this.#a(E),this.#b(dt(st[0],ft[0],5),dt(st[1],ft[1],5),dt(st[2],ft[2],5),E),this.#c=`url(#${T})`,this.#c}destroy(Y=!1){Y&&(this.#o||this.#c)||(this.#e&&(this.#e.parentNode.parentNode.remove(),this.#e=null),this.#t&&(this.#t.clear(),this.#t=null),this.#f=0)}#a(Y){const nt=this.#n.createElementNS(r,"feColorMatrix");nt.setAttribute("type","matrix"),nt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Y.append(nt)}#p(Y){const nt=this.#n.createElementNS(r,"filter");return nt.setAttribute("color-interpolation-filters","sRGB"),nt.setAttribute("id",Y),this.#u.append(nt),nt}#m(Y,nt,bt){const gt=this.#n.createElementNS(r,nt);gt.setAttribute("type","discrete"),gt.setAttribute("tableValues",bt),Y.append(gt)}#b(Y,nt,bt,gt){const yt=this.#n.createElementNS(r,"feComponentTransfer");gt.append(yt),this.#m(yt,"feFuncR",Y),this.#m(yt,"feFuncG",nt),this.#m(yt,"feFuncB",bt)}#v(Y){return this.#u.style.color=Y,j(getComputedStyle(this.#u).getPropertyValue("color"))}}class p extends i.BaseCanvasFactory{constructor({ownerDocument:Y=globalThis.document}={}){super(),this._document=Y}_createCanvas(Y,nt){const bt=this._document.createElement("canvas");return bt.width=Y,bt.height=nt,bt}}async function d(tt,Y="text"){if(P(tt,document.baseURI)){const nt=await fetch(tt);if(!nt.ok)throw new Error(nt.statusText);switch(Y){case"arraybuffer":return nt.arrayBuffer();case"blob":return nt.blob();case"json":return nt.json()}return nt.text()}return new Promise((nt,bt)=>{const gt=new XMLHttpRequest;gt.open("GET",tt,!0),gt.responseType=Y,gt.onreadystatechange=()=>{if(gt.readyState===XMLHttpRequest.DONE){if(gt.status===200||gt.status===0){let yt;switch(Y){case"arraybuffer":case"blob":case"json":yt=gt.response;break;default:yt=gt.responseText;break}if(yt){nt(yt);return}}bt(new Error(gt.statusText))}},gt.send(null)})}class g extends i.BaseCMapReaderFactory{_fetchData(Y,nt){return d(Y,this.isCompressed?"arraybuffer":"text").then(bt=>({cMapData:bt instanceof ArrayBuffer?new Uint8Array(bt):(0,a.stringToBytes)(bt),compressionType:nt}))}}class y extends i.BaseStandardFontDataFactory{_fetchData(Y){return d(Y,"arraybuffer").then(nt=>new Uint8Array(nt))}}class x extends i.BaseSVGFactory{_createSVG(Y){return document.createElementNS(r,Y)}}class h{constructor({viewBox:Y,scale:nt,rotation:bt,offsetX:gt=0,offsetY:yt=0,dontFlip:Nt=!1}){this.viewBox=Y,this.scale=nt,this.rotation=bt,this.offsetX=gt,this.offsetY=yt;const Ct=(Y[2]+Y[0])/2,B=(Y[3]+Y[1])/2;let it,st,ft,dt;switch(bt%=360,bt<0&&(bt+=360),bt){case 180:it=-1,st=0,ft=0,dt=1;break;case 90:it=0,st=1,ft=1,dt=0;break;case 270:it=0,st=-1,ft=-1,dt=0;break;case 0:it=1,st=0,ft=0,dt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Nt&&(ft=-ft,dt=-dt);let T,E,f,u;it===0?(T=Math.abs(B-Y[1])*nt+gt,E=Math.abs(Ct-Y[0])*nt+yt,f=(Y[3]-Y[1])*nt,u=(Y[2]-Y[0])*nt):(T=Math.abs(Ct-Y[0])*nt+gt,E=Math.abs(B-Y[1])*nt+yt,f=(Y[2]-Y[0])*nt,u=(Y[3]-Y[1])*nt),this.transform=[it*nt,st*nt,ft*nt,dt*nt,T-it*nt*Ct-ft*nt*B,E-st*nt*Ct-dt*nt*B],this.width=f,this.height=u}get rawDims(){const{viewBox:Y}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:Y[2]-Y[0],pageHeight:Y[3]-Y[1],pageX:Y[0],pageY:Y[1]})}clone({scale:Y=this.scale,rotation:nt=this.rotation,offsetX:bt=this.offsetX,offsetY:gt=this.offsetY,dontFlip:yt=!1}={}){return new h({viewBox:this.viewBox.slice(),scale:Y,rotation:nt,offsetX:bt,offsetY:gt,dontFlip:yt})}convertToViewportPoint(Y,nt){return a.Util.applyTransform([Y,nt],this.transform)}convertToViewportRectangle(Y){const nt=a.Util.applyTransform([Y[0],Y[1]],this.transform),bt=a.Util.applyTransform([Y[2],Y[3]],this.transform);return[nt[0],nt[1],bt[0],bt[1]]}convertToPdfPoint(Y,nt){return a.Util.applyInverseTransform([Y,nt],this.transform)}}class v extends a.BaseException{constructor(Y,nt=0){super(Y,"RenderingCancelledException"),this.extraDelay=nt}}function S(tt){const Y=tt.length;let nt=0;for(;nt<Y&&tt[nt].trim()==="";)nt++;return tt.substring(nt,nt+5).toLowerCase()==="data:"}function o(tt){return typeof tt=="string"&&/\.pdf$/i.test(tt)}function m(tt,Y=!1){return Y||([tt]=tt.split(/[#?]/,1)),tt.substring(tt.lastIndexOf("/")+1)}function C(tt,Y="document.pdf"){if(typeof tt!="string")return Y;if(S(tt))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Y;const nt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,bt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,gt=nt.exec(tt);let yt=bt.exec(gt[1])||bt.exec(gt[2])||bt.exec(gt[3]);if(yt&&(yt=yt[0],yt.includes("%")))try{yt=bt.exec(decodeURIComponent(yt))[0]}catch{}return yt||Y}class _{started=Object.create(null);times=[];time(Y){Y in this.started&&(0,a.warn)(`Timer is already running for ${Y}`),this.started[Y]=Date.now()}timeEnd(Y){Y in this.started||(0,a.warn)(`Timer has not been started for ${Y}`),this.times.push({name:Y,start:this.started[Y],end:Date.now()}),delete this.started[Y]}toString(){const Y=[];let nt=0;for(const{name:bt}of this.times)nt=Math.max(bt.length,nt);for(const{name:bt,start:gt,end:yt}of this.times)Y.push(`${bt.padEnd(nt)} ${yt-gt}ms
`);return Y.join("")}}function P(tt,Y){try{const{protocol:nt}=Y?new URL(tt,Y):new URL(tt);return nt==="http:"||nt==="https:"}catch{return!1}}function U(tt){tt.preventDefault()}let H;class V{static toDateObject(Y){if(!Y||typeof Y!="string")return null;H||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const nt=H.exec(Y);if(!nt)return null;const bt=parseInt(nt[1],10);let gt=parseInt(nt[2],10);gt=gt>=1&&gt<=12?gt-1:0;let yt=parseInt(nt[3],10);yt=yt>=1&&yt<=31?yt:1;let Nt=parseInt(nt[4],10);Nt=Nt>=0&&Nt<=23?Nt:0;let Ct=parseInt(nt[5],10);Ct=Ct>=0&&Ct<=59?Ct:0;let B=parseInt(nt[6],10);B=B>=0&&B<=59?B:0;const it=nt[7]||"Z";let st=parseInt(nt[8],10);st=st>=0&&st<=23?st:0;let ft=parseInt(nt[9],10)||0;return ft=ft>=0&&ft<=59?ft:0,it==="-"?(Nt+=st,Ct+=ft):it==="+"&&(Nt-=st,Ct-=ft),new Date(Date.UTC(bt,gt,yt,Nt,Ct,B))}}function $(tt,{scale:Y=1,rotation:nt=0}){const{width:bt,height:gt}=tt.attributes.style,yt=[0,0,parseInt(bt),parseInt(gt)];return new h({viewBox:yt,scale:Y,rotation:nt})}function j(tt){if(tt.startsWith("#")){const Y=parseInt(tt.slice(1),16);return[(Y&16711680)>>16,(Y&65280)>>8,Y&255]}return tt.startsWith("rgb(")?tt.slice(4,-1).split(",").map(Y=>parseInt(Y)):tt.startsWith("rgba(")?tt.slice(5,-1).split(",").map(Y=>parseInt(Y)).slice(0,3):((0,a.warn)(`Not a valid color format: "${tt}"`),[0,0,0])}function at(tt){const Y=document.createElement("span");Y.style.visibility="hidden",document.body.append(Y);for(const nt of tt.keys()){Y.style.color=nt;const bt=window.getComputedStyle(Y).color;tt.set(nt,j(bt))}Y.remove()}function M(tt){const{a:Y,b:nt,c:bt,d:gt,e:yt,f:Nt}=tt.getTransform();return[Y,nt,bt,gt,yt,Nt]}function X(tt){const{a:Y,b:nt,c:bt,d:gt,e:yt,f:Nt}=tt.getTransform().invertSelf();return[Y,nt,bt,gt,yt,Nt]}function ut(tt,Y,nt=!1,bt=!0){if(Y instanceof h){const{pageWidth:gt,pageHeight:yt}=Y.rawDims,{style:Nt}=tt,Ct=a.FeatureTest.isCSSRoundSupported,B=`var(--scale-factor) * ${gt}px`,it=`var(--scale-factor) * ${yt}px`,st=Ct?`round(${B}, 1px)`:`calc(${B})`,ft=Ct?`round(${it}, 1px)`:`calc(${it})`;!nt||Y.rotation%180===0?(Nt.width=st,Nt.height=ft):(Nt.width=ft,Nt.height=st)}bt&&tt.setAttribute("data-main-rotation",Y.rotation)}}),423:((n,e,t)=>{t.d(e,{DrawLayer:()=>r});var i=t(473),a=t(266);class r{#t=null;#e=0;#i=new Map;constructor({pageIndex:l}){this.pageIndex=l}setParent(l){if(!this.#t){this.#t=l;return}if(this.#t!==l){if(this.#i.size>0)for(const p of this.#i.values())p.remove(),l.append(p);this.#t=l}}static get _svgFactory(){return(0,a.shadow)(this,"_svgFactory",new i.DOMSVGFactory)}static#n(l,{x:p,y:d,width:g,height:y}){const{style:x}=l;x.top=`${100*d}%`,x.left=`${100*p}%`,x.width=`${100*g}%`,x.height=`${100*y}%`}#r(l){const p=r._svgFactory.create(1,1,!0);return this.#t.append(p),r.#n(p,l),p}highlight({outlines:l,box:p},d,g){const y=this.#e++,x=this.#r(p);x.classList.add("highlight");const h=r._svgFactory.createElement("defs");x.append(h);const v=r._svgFactory.createElement("path");h.append(v);const S=`path_p${this.pageIndex}_${y}`;v.setAttribute("id",S),v.setAttribute("d",r.#s(l));const o=r._svgFactory.createElement("clipPath");h.append(o);const m=`clip_${S}`;o.setAttribute("id",m),o.setAttribute("clipPathUnits","objectBoundingBox");const C=r._svgFactory.createElement("use");o.append(C),C.setAttribute("href",`#${S}`),C.classList.add("clip");const _=r._svgFactory.createElement("use");return x.append(_),x.setAttribute("fill",d),x.setAttribute("fill-opacity",g),_.setAttribute("href",`#${S}`),this.#i.set(y,x),{id:y,clipPathId:`url(#${m})`}}highlightOutline({outlines:l,box:p}){const d=this.#e++,g=this.#r(p);g.classList.add("highlightOutline");const y=r._svgFactory.createElement("defs");g.append(y);const x=r._svgFactory.createElement("path");y.append(x);const h=`path_p${this.pageIndex}_${d}`;x.setAttribute("id",h),x.setAttribute("d",r.#s(l)),x.setAttribute("vector-effect","non-scaling-stroke");const v=r._svgFactory.createElement("use");g.append(v),v.setAttribute("href",`#${h}`);const S=v.cloneNode();return g.append(S),v.classList.add("mainOutline"),S.classList.add("secondaryOutline"),this.#i.set(d,g),d}static#s(l){const p=[];for(const d of l){let[g,y]=d;p.push(`M${g} ${y}`);for(let x=2;x<d.length;x+=2){const h=d[x],v=d[x+1];h===g?(p.push(`V${v}`),y=v):v===y&&(p.push(`H${h}`),g=h)}p.push("Z")}return p.join(" ")}updateBox(l,p){r.#n(this.#i.get(l),p)}rotate(l,p){this.#i.get(l).setAttribute("data-main-rotation",p)}changeColor(l,p){this.#i.get(l).setAttribute("fill",p)}changeOpacity(l,p){this.#i.get(l).setAttribute("fill-opacity",p)}addClass(l,p){this.#i.get(l).classList.add(p)}removeClass(l,p){this.#i.get(l).classList.remove(p)}remove(l){this.#t!==null&&(this.#i.get(l).remove(),this.#i.delete(l))}destroy(){this.#t=null;for(const l of this.#i.values())l.remove();this.#i.clear()}}}),629:((n,e,t)=>{t.d(e,{AnnotationEditorLayer:()=>v});var i=t(266),a=t(115),r=t(812),b=t(640);class l extends a.AnnotationEditor{#t=this.editorDivBlur.bind(this);#e=this.editorDivFocus.bind(this);#i=this.editorDivInput.bind(this);#n=this.editorDivKeydown.bind(this);#r;#s="";#o=`${this.id}-editor`;#l;#h=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const o=l.prototype,m=P=>P.isEmpty(),C=r.AnnotationEditorUIManager.TRANSLATE_SMALL,_=r.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new r.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],o.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],o.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],o._translateEmpty,{args:[-C,0],checker:m}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],o._translateEmpty,{args:[-_,0],checker:m}],[["ArrowRight","mac+ArrowRight"],o._translateEmpty,{args:[C,0],checker:m}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],o._translateEmpty,{args:[_,0],checker:m}],[["ArrowUp","mac+ArrowUp"],o._translateEmpty,{args:[0,-C],checker:m}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],o._translateEmpty,{args:[0,-_],checker:m}],[["ArrowDown","mac+ArrowDown"],o._translateEmpty,{args:[0,C],checker:m}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],o._translateEmpty,{args:[0,_],checker:m}]]))}static _type="freetext";static _editorType=i.AnnotationEditorType.FREETEXT;constructor(o){super({...o,name:"freeTextEditor"}),this.#r=o.color||l._defaultColor||a.AnnotationEditor._defaultLineColor,this.#l=o.fontSize||l._defaultFontSize}static initialize(o){a.AnnotationEditor.initialize(o,{strings:["pdfjs-free-text-default-content"]});const m=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(m.getPropertyValue("--freetext-padding"))}static updateDefaultParams(o,m){switch(o){case i.AnnotationEditorParamsType.FREETEXT_SIZE:l._defaultFontSize=m;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:l._defaultColor=m;break}}updateParams(o,m){switch(o){case i.AnnotationEditorParamsType.FREETEXT_SIZE:this.#c(m);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(m);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,l._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,l._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[i.AnnotationEditorParamsType.FREETEXT_COLOR,this.#r]]}#c(o){const m=_=>{this.editorDiv.style.fontSize=`calc(${_}px * var(--scale-factor))`,this.translate(0,-(_-this.#l)*this.parentScale),this.#l=_,this.#u()},C=this.#l;this.addCommands({cmd:()=>{m(o)},undo:()=>{m(C)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(o){const m=this.#r;this.addCommands({cmd:()=>{this.#r=this.editorDiv.style.color=o},undo:()=>{this.#r=this.editorDiv.style.color=m},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(o,m){this._uiManager.translateSelectedEditors(o,m,!0)}getInitialTranslation(){const o=this.parentScale;return[-l._internalPadding*o,-(l._internalPadding+this.#l)*o]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#e),this.editorDiv.addEventListener("blur",this.#t),this.editorDiv.addEventListener("input",this.#i))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#e),this.editorDiv.removeEventListener("blur",this.#t),this.editorDiv.removeEventListener("input",this.#i),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(o){this._focusEventsAllowed&&(super.focusin(o),o.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#d(){const o=this.editorDiv.getElementsByTagName("div");if(o.length===0)return this.editorDiv.innerText;const m=[];for(const C of o)m.push(C.innerText.replace(/\r\n?|\n/,""));return m.join(`
`)}#u(){const[o,m]=this.parentDimensions;let C;if(this.isAttachedToDOM)C=this.div.getBoundingClientRect();else{const{currentLayer:_,div:P}=this,U=P.style.display;P.style.display="hidden",_.div.append(this.div),C=P.getBoundingClientRect(),P.remove(),P.style.display=U}this.rotation%180===this.parentRotation%180?(this.width=C.width/o,this.height=C.height/m):(this.width=C.height/o,this.height=C.width/m),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const o=this.#s,m=this.#s=this.#d().trimEnd();if(o===m)return;const C=_=>{if(this.#s=_,!_){this.remove();return}this.#a(),this._uiManager.rebuild(this),this.#u()};this.addCommands({cmd:()=>{C(m)},undo:()=>{C(o)},mustExec:!1}),this.#u()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(o){this.enterInEditMode()}keydown(o){o.target===this.div&&o.key==="Enter"&&(this.enterInEditMode(),o.preventDefault())}editorDivKeydown(o){l._keyboardManager.exec(this,o)}editorDivFocus(o){this.isEditing=!0}editorDivBlur(o){this.isEditing=!1}editorDivInput(o){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let o,m;this.width&&(o=this.x,m=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#o),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),a.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(_=>this.editorDiv?.setAttribute("default-content",_)),this.editorDiv.contentEditable=!0;const{style:C}=this.editorDiv;if(C.fontSize=`calc(${this.#l}px * var(--scale-factor))`,C.color=this.#r,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,r.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[_,P]=this.parentDimensions;if(this.annotationElementId){const{position:U}=this.#h;let[H,V]=this.getInitialTranslation();[H,V]=this.pageTranslationToScreen(H,V);const[$,j]=this.pageDimensions,[at,M]=this.pageTranslation;let X,ut;switch(this.rotation){case 0:X=o+(U[0]-at)/$,ut=m+this.height-(U[1]-M)/j;break;case 90:X=o+(U[0]-at)/$,ut=m-(U[1]-M)/j,[H,V]=[V,-H];break;case 180:X=o-this.width+(U[0]-at)/$,ut=m-(U[1]-M)/j,[H,V]=[-H,-V];break;case 270:X=o+(U[0]-at-this.height*j)/$,ut=m+(U[1]-M-this.width*$)/j,[H,V]=[-V,H];break}this.setAt(X*_,ut*P,H,V)}else this.setAt(o*_,m*P,this.width*_,this.height*P);this.#a(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#a(){if(this.editorDiv.replaceChildren(),!!this.#s)for(const o of this.#s.split(`
`)){const m=document.createElement("div");m.append(o?document.createTextNode(o):document.createElement("br")),this.editorDiv.append(m)}}get contentDiv(){return this.editorDiv}static deserialize(o,m,C){let _=null;if(o instanceof b.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:U,fontColor:H},rect:V,rotation:$,id:j},textContent:at,textPosition:M,parent:{page:{pageNumber:X}}}=o;if(!at||at.length===0)return null;_=o={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(H),fontSize:U,value:at.join(`
`),position:M,pageIndex:X-1,rect:V,rotation:$,id:j,deleted:!1}}const P=super.deserialize(o,m,C);return P.#l=o.fontSize,P.#r=i.Util.makeHexColor(...o.color),P.#s=o.value,P.annotationElementId=o.id||null,P.#h=_,P}serialize(o=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const m=l._internalPadding*this.parentScale,C=this.getRect(m,m),_=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#r),P={annotationType:i.AnnotationEditorType.FREETEXT,color:_,fontSize:this.#l,value:this.#s,pageIndex:this.pageIndex,rect:C,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return o?P:this.annotationElementId&&!this.#p(P)?null:(P.id=this.annotationElementId,P)}#p(o){const{value:m,fontSize:C,color:_,rect:P,pageIndex:U}=this.#h;return o.value!==m||o.fontSize!==C||o.rect.some((H,V)=>Math.abs(H-P[V])>=1)||o.color.some((H,V)=>H!==_[V])||o.pageIndex!==U}#m(o=!1){if(!this.annotationElementId)return;if(this.#u(),!o&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}const m=l._internalPadding*this.parentScale;this.#h.rect=this.getRect(m,m)}}var p=t(97),d=t(405);class g extends a.AnnotationEditor{#t;#e=null;#i=null;#n=null;#r=null;#s=null;#o=null;#l=null;#h;#c=null;static _defaultColor=null;static _defaultOpacity=1;static _l10nPromise;static _type="highlight";static _editorType=i.AnnotationEditorType.HIGHLIGHT;constructor(o){super({...o,name:"highlightEditor"}),g._defaultColor||=this._uiManager.highlightColors?.values().next().value||"#fff066",this.color=o.color||g._defaultColor,this.#h=o.opacity||g._defaultOpacity,this.#t=o.boxes||null,this._isDraggable=!1,this.#f(),this.#a(),this.rotate(this.rotation)}#f(){const o=new d.Outliner(this.#t,.001);this.#s=o.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#s.box;const m=new d.Outliner(this.#t,.0025,.001,this._uiManager.direction==="ltr");this.#n=m.getOutlines();const{lastPoint:C}=this.#n.box;this.#l=[(C[0]-this.x)/this.width,(C[1]-this.y)/this.height]}static initialize(o){a.AnnotationEditor.initialize(o)}static updateDefaultParams(o,m){o===i.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR&&(g._defaultColor=m)}get toolbarPosition(){return this.#l}updateParams(o,m){o===i.AnnotationEditorParamsType.HIGHLIGHT_COLOR&&this.#d(m)}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,g._defaultColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||g._defaultColor]]}#d(o){const m=this.color;this.addCommands({cmd:()=>{this.color=o,this.parent.drawLayer.changeColor(this.#o,o),this.#i?.updateColor(o)},undo:()=>{this.color=m,this.parent.drawLayer.changeColor(this.#o,m),this.#i?.updateColor(m)},mustExec:!0,type:i.AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}async addEditToolbar(){const o=await super.addEditToolbar();return o?(this._uiManager.highlightColors&&(this.#i=new p.ColorPicker({editor:this}),o.addColorPicker(this.#i)),o):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(0)}getRect(o,m){return super.getRect(o,m,0)}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){super.remove(),this.#u()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#a(),this.isAttachedToDOM||this.parent.add(this)))}setParent(o){let m=!1;this.parent&&!o?this.#u():o&&(this.#a(o),m=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(o),m&&this.select()}#u(){this.#o===null||!this.parent||(this.parent.drawLayer.remove(this.#o),this.#o=null,this.parent.drawLayer.remove(this.#c),this.#c=null)}#a(o=this.parent){this.#o===null&&({id:this.#o,clipPathId:this.#e}=o.drawLayer.highlight(this.#s,this.color,this.#h),this.#r&&(this.#r.style.clipPath=this.#e),this.#c=o.drawLayer.highlightOutline(this.#n))}static#p({x:o,y:m,width:C,height:_},P){switch(P){case 90:return{x:1-m-_,y:o,width:_,height:C};case 180:return{x:1-o-C,y:1-m-_,width:C,height:_};case 270:return{x:m,y:1-o-C,width:_,height:C}}return{x:o,y:m,width:C,height:_}}rotate(o){const{drawLayer:m}=this.parent;m.rotate(this.#o,o),m.rotate(this.#c,o),m.updateBox(this.#o,g.#p(this,o)),m.updateBox(this.#c,g.#p(this.#n.box,o))}render(){if(this.div)return this.div;const o=super.render(),m=this.#r=document.createElement("div");o.append(m),m.className="internal",m.style.clipPath=this.#e;const[C,_]=this.parentDimensions;return this.setDims(this.width*C,this.height*_),(0,r.bindEvents)(this,this.#r,["pointerover","pointerleave"]),this.enableEditing(),o}pointerover(){this.parent.drawLayer.addClass(this.#c,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#c,"hovered")}select(){super.select(),this.parent?.drawLayer.removeClass(this.#c,"hovered"),this.parent?.drawLayer.addClass(this.#c,"selected")}unselect(){super.unselect(),this.parent?.drawLayer.removeClass(this.#c,"selected")}#m(){const[o,m]=this.pageDimensions,C=this.#t,_=new Array(C.length*8);let P=0;for(const{x:U,y:H,width:V,height:$}of C){const j=U*o,at=(1-H-$)*m;_[P]=_[P+4]=j,_[P+1]=_[P+3]=at,_[P+2]=_[P+6]=j+V*o,_[P+5]=_[P+7]=at+$*m,P+=8}return _}#b(){const[o,m]=this.pageDimensions,C=this.width*o,_=this.height*m,P=this.x*o,U=(1-this.y-this.height)*m,H=[];for(const V of this.#s.outlines){const $=new Array(V.length);for(let j=0;j<V.length;j+=2)$[j]=P+V[j]*C,$[j+1]=U+(1-V[j+1])*_;H.push($)}return H}static deserialize(o,m,C){const _=super.deserialize(o,m,C),{rect:P,color:U,quadPoints:H}=o;_.color=i.Util.makeHexColor(...U),_.#h=o.opacity;const[V,$]=_.pageDimensions;_.width=(P[2]-P[0])/V,_.height=(P[3]-P[1])/$;const j=_.#t=[];for(let at=0;at<H.length;at+=8)j.push({x:H[4]/V,y:1-H[at+5]/$,width:(H[at+2]-H[at])/V,height:(H[at+5]-H[at+1])/$});return _.#f(),_}serialize(o=!1){if(this.isEmpty()||o)return null;const m=this.getRect(0,0),C=a.AnnotationEditor._colorManager.convert(this.color);return{annotationType:i.AnnotationEditorType.HIGHLIGHT,color:C,opacity:this.#h,quadPoints:this.#m(),outlines:this.#b(),pageIndex:this.pageIndex,rect:m,rotation:0,structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}var y=t(473);class x extends a.AnnotationEditor{#t=0;#e=0;#i=this.canvasPointermove.bind(this);#n=this.canvasPointerleave.bind(this);#r=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#o=null;#l=new Path2D;#h=!1;#c=!1;#f=!1;#d=null;#u=0;#a=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=i.AnnotationEditorType.INK;constructor(o){super({...o,name:"inkEditor"}),this.color=o.color||null,this.thickness=o.thickness||null,this.opacity=o.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(o){a.AnnotationEditor.initialize(o)}static updateDefaultParams(o,m){switch(o){case i.AnnotationEditorParamsType.INK_THICKNESS:x._defaultThickness=m;break;case i.AnnotationEditorParamsType.INK_COLOR:x._defaultColor=m;break;case i.AnnotationEditorParamsType.INK_OPACITY:x._defaultOpacity=m/100;break}}updateParams(o,m){switch(o){case i.AnnotationEditorParamsType.INK_THICKNESS:this.#m(m);break;case i.AnnotationEditorParamsType.INK_COLOR:this.#b(m);break;case i.AnnotationEditorParamsType.INK_OPACITY:this.#v(m);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,x._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,x._defaultColor||a.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(x._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||x._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||x._defaultColor||a.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??x._defaultOpacity))]]}#m(o){const m=this.thickness;this.addCommands({cmd:()=>{this.thickness=o,this.#P()},undo:()=>{this.thickness=m,this.#P()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#b(o){const m=this.color;this.addCommands({cmd:()=>{this.color=o,this.#A()},undo:()=>{this.color=m,this.#A()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#v(o){o/=100;const m=this.opacity;this.addCommands({cmd:()=>{this.opacity=o,this.#A()},undo:()=>{this.opacity=m,this.#A()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#C(),this.#x()),this.isAttachedToDOM||(this.parent.add(this),this.#T()),this.#P()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#o&&(clearTimeout(this.#o),this.#o=null),this.#d.disconnect(),this.#d=null,super.remove())}setParent(o){!this.parent&&o?this._uiManager.removeShouldRescale(this):this.parent&&o===null&&this._uiManager.addShouldRescale(this),super.setParent(o)}onScaleChanging(){const[o,m]=this.parentDimensions,C=this.width*o,_=this.height*m;this.setDimensions(C,_)}enableEditMode(){this.#h||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#w(){const{parentRotation:o,parentDimensions:[m,C]}=this;switch(o){case 90:return[0,C,C,m];case 180:return[m,C,m,C];case 270:return[m,0,C,m];default:return[0,0,m,C]}}#y(){const{ctx:o,color:m,opacity:C,thickness:_,parentScale:P,scaleFactor:U}=this;o.lineWidth=_*P/U,o.lineCap="round",o.lineJoin="round",o.miterLimit=10,o.strokeStyle=`${m}${(0,r.opacityToHex)(C)}`}#g(o,m){this.canvas.addEventListener("contextmenu",y.noContextMenu),this.canvas.addEventListener("pointerleave",this.#n),this.canvas.addEventListener("pointermove",this.#i),this.canvas.addEventListener("pointerup",this.#r),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#f||(this.#f=!0,this.#T(),this.thickness||=x._defaultThickness,this.color||=x._defaultColor||a.AnnotationEditor._defaultLineColor,this.opacity??=x._defaultOpacity),this.currentPath.push([o,m]),this.#c=!1,this.#y(),this.#p=()=>{this.#I(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#L(o,m){const[C,_]=this.currentPath.at(-1);if(this.currentPath.length>1&&o===C&&m===_)return;const P=this.currentPath;let U=this.#l;if(P.push([o,m]),this.#c=!0,P.length<=2){U.moveTo(...P[0]),U.lineTo(o,m);return}P.length===3&&(this.#l=U=new Path2D,U.moveTo(...P[0])),this.#M(U,...P.at(-3),...P.at(-2),o,m)}#_(){if(this.currentPath.length===0)return;const o=this.currentPath.at(-1);this.#l.lineTo(...o)}#F(o,m){this.#p=null,o=Math.min(Math.max(o,0),this.canvas.width),m=Math.min(Math.max(m,0),this.canvas.height),this.#L(o,m),this.#_();let C;if(this.currentPath.length!==1)C=this.#D();else{const V=[o,m];C=[[V,V.slice(),V.slice(),V]]}const _=this.#l,P=this.currentPath;this.currentPath=[],this.#l=new Path2D;const U=()=>{this.allRawPaths.push(P),this.paths.push(C),this.bezierPath2D.push(_),this.rebuild()},H=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#C(),this.#x()),this.#P())};this.addCommands({cmd:U,undo:H,mustExec:!0})}#I(){if(!this.#c)return;this.#c=!1;const o=Math.ceil(this.thickness*this.parentScale),m=this.currentPath.slice(-3),C=m.map(U=>U[0]),_=m.map(U=>U[1]);Math.min(...C)-o,Math.max(...C)+o,Math.min(..._)-o,Math.max(..._)+o;const{ctx:P}=this;P.save(),P.clearRect(0,0,this.canvas.width,this.canvas.height);for(const U of this.bezierPath2D)P.stroke(U);P.stroke(this.#l),P.restore()}#M(o,m,C,_,P,U,H){const V=(m+_)/2,$=(C+P)/2,j=(_+U)/2,at=(P+H)/2;o.bezierCurveTo(V+2*(_-V)/3,$+2*(P-$)/3,j+2*(_-j)/3,at+2*(P-at)/3,j,at)}#D(){const o=this.currentPath;if(o.length<=2)return[[o[0],o[0],o.at(-1),o.at(-1)]];const m=[];let C,[_,P]=o[0];for(C=1;C<o.length-2;C++){const[M,X]=o[C],[ut,tt]=o[C+1],Y=(M+ut)/2,nt=(X+tt)/2,bt=[_+2*(M-_)/3,P+2*(X-P)/3],gt=[Y+2*(M-Y)/3,nt+2*(X-nt)/3];m.push([[_,P],bt,gt,[Y,nt]]),[_,P]=[Y,nt]}const[U,H]=o[C],[V,$]=o[C+1],j=[_+2*(U-_)/3,P+2*(H-P)/3],at=[V+2*(U-V)/3,$+2*(H-$)/3];return m.push([[_,P],j,at,[V,$]]),m}#A(){if(this.isEmpty()){this.#k();return}this.#y();const{canvas:o,ctx:m}=this;m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,o.width,o.height),this.#k();for(const C of this.bezierPath2D)m.stroke(C)}commit(){this.#h||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#h=!0,this.div.classList.add("disabled"),this.#P(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(o){this._focusEventsAllowed&&(super.focusin(o),this.enableEditMode())}canvasPointerdown(o){o.button!==0||!this.isInEditMode()||this.#h||(this.setInForeground(),o.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#g(o.offsetX,o.offsetY))}canvasPointermove(o){o.preventDefault(),this.#L(o.offsetX,o.offsetY)}canvasPointerup(o){o.preventDefault(),this.#R(o)}canvasPointerleave(o){this.#R(o)}#R(o){this.canvas.removeEventListener("pointerleave",this.#n),this.canvas.removeEventListener("pointermove",this.#i),this.canvas.removeEventListener("pointerup",this.#r),this.canvas.addEventListener("pointerdown",this.#s),this.#o&&clearTimeout(this.#o),this.#o=setTimeout(()=>{this.#o=null,this.canvas.removeEventListener("contextmenu",y.noContextMenu)},10),this.#F(o.offsetX,o.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#C(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#x(){this.#d=new ResizeObserver(o=>{const m=o[0].contentRect;m.width&&m.height&&this.setDimensions(m.width,m.height)}),this.#d.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#h}render(){if(this.div)return this.div;let o,m;this.width&&(o=this.x,m=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[C,_,P,U]=this.#w();if(this.setAt(C,_,0,0),this.setDims(P,U),this.#C(),this.width){const[H,V]=this.parentDimensions;this.setAspectRatio(this.width*H,this.height*V),this.setAt(o*H,m*V,this.width*H,this.height*V),this.#f=!0,this.#T(),this.setDims(this.width*H,this.height*V),this.#A(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#x(),this.div}#T(){if(!this.#f)return;const[o,m]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*o),this.canvas.height=Math.ceil(this.height*m),this.#k()}setDimensions(o,m){const C=Math.round(o),_=Math.round(m);if(this.#u===C&&this.#a===_)return;this.#u=C,this.#a=_,this.canvas.style.visibility="hidden";const[P,U]=this.parentDimensions;this.width=o/P,this.height=m/U,this.fixAndSetPosition(),this.#h&&this.#B(o,m),this.#T(),this.#A(),this.canvas.style.visibility="visible",this.fixDims()}#B(o,m){const C=this.#O(),_=(o-C)/this.#e,P=(m-C)/this.#t;this.scaleFactor=Math.min(_,P)}#k(){const o=this.#O()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+o,this.translationY*this.scaleFactor+o)}static#E(o){const m=new Path2D;for(let C=0,_=o.length;C<_;C++){const[P,U,H,V]=o[C];C===0&&m.moveTo(...P),m.bezierCurveTo(U[0],U[1],H[0],H[1],V[0],V[1])}return m}static#N(o,m,C){const[_,P,U,H]=m;switch(C){case 0:for(let V=0,$=o.length;V<$;V+=2)o[V]+=_,o[V+1]=H-o[V+1];break;case 90:for(let V=0,$=o.length;V<$;V+=2){const j=o[V];o[V]=o[V+1]+_,o[V+1]=j+P}break;case 180:for(let V=0,$=o.length;V<$;V+=2)o[V]=U-o[V],o[V+1]+=P;break;case 270:for(let V=0,$=o.length;V<$;V+=2){const j=o[V];o[V]=U-o[V+1],o[V+1]=H-j}break;default:throw new Error("Invalid rotation")}return o}static#U(o,m,C){const[_,P,U,H]=m;switch(C){case 0:for(let V=0,$=o.length;V<$;V+=2)o[V]-=_,o[V+1]=H-o[V+1];break;case 90:for(let V=0,$=o.length;V<$;V+=2){const j=o[V];o[V]=o[V+1]-P,o[V+1]=j-_}break;case 180:for(let V=0,$=o.length;V<$;V+=2)o[V]=U-o[V],o[V+1]-=P;break;case 270:for(let V=0,$=o.length;V<$;V+=2){const j=o[V];o[V]=H-o[V+1],o[V+1]=U-j}break;default:throw new Error("Invalid rotation")}return o}#z(o,m,C,_){const P=[],U=this.thickness/2,H=o*m+U,V=o*C+U;for(const $ of this.paths){const j=[],at=[];for(let M=0,X=$.length;M<X;M++){const[ut,tt,Y,nt]=$[M],bt=o*ut[0]+H,gt=o*ut[1]+V,yt=o*tt[0]+H,Nt=o*tt[1]+V,Ct=o*Y[0]+H,B=o*Y[1]+V,it=o*nt[0]+H,st=o*nt[1]+V;M===0&&(j.push(bt,gt),at.push(bt,gt)),j.push(yt,Nt,Ct,B,it,st),at.push(yt,Nt),M===X-1&&at.push(it,st)}P.push({bezier:x.#N(j,_,this.rotation),points:x.#N(at,_,this.rotation)})}return P}#j(){let o=1/0,m=-1/0,C=1/0,_=-1/0;for(const P of this.paths)for(const[U,H,V,$]of P){const j=i.Util.bezierBoundingBox(...U,...H,...V,...$);o=Math.min(o,j[0]),C=Math.min(C,j[1]),m=Math.max(m,j[2]),_=Math.max(_,j[3])}return[o,C,m,_]}#O(){return this.#h?Math.ceil(this.thickness*this.parentScale):0}#P(o=!1){if(this.isEmpty())return;if(!this.#h){this.#A();return}const m=this.#j(),C=this.#O();this.#e=Math.max(a.AnnotationEditor.MIN_SIZE,m[2]-m[0]),this.#t=Math.max(a.AnnotationEditor.MIN_SIZE,m[3]-m[1]);const _=Math.ceil(C+this.#e*this.scaleFactor),P=Math.ceil(C+this.#t*this.scaleFactor),[U,H]=this.parentDimensions;this.width=_/U,this.height=P/H,this.setAspectRatio(_,P);const V=this.translationX,$=this.translationY;this.translationX=-m[0],this.translationY=-m[1],this.#T(),this.#A(),this.#u=_,this.#a=P,this.setDims(_,P);const j=o?C/this.scaleFactor/2:0;this.translate(V-this.translationX-j,$-this.translationY-j)}static deserialize(o,m,C){if(o instanceof b.InkAnnotationElement)return null;const _=super.deserialize(o,m,C);_.thickness=o.thickness,_.color=i.Util.makeHexColor(...o.color),_.opacity=o.opacity;const[P,U]=_.pageDimensions,H=_.width*P,V=_.height*U,$=_.parentScale,j=o.thickness/2;_.#h=!0,_.#u=Math.round(H),_.#a=Math.round(V);const{paths:at,rect:M,rotation:X}=o;for(let{bezier:tt}of at){tt=x.#U(tt,M,X);const Y=[];_.paths.push(Y);let nt=$*(tt[0]-j),bt=$*(tt[1]-j);for(let yt=2,Nt=tt.length;yt<Nt;yt+=6){const Ct=$*(tt[yt]-j),B=$*(tt[yt+1]-j),it=$*(tt[yt+2]-j),st=$*(tt[yt+3]-j),ft=$*(tt[yt+4]-j),dt=$*(tt[yt+5]-j);Y.push([[nt,bt],[Ct,B],[it,st],[ft,dt]]),nt=ft,bt=dt}const gt=this.#E(Y);_.bezierPath2D.push(gt)}const ut=_.#j();return _.#e=Math.max(a.AnnotationEditor.MIN_SIZE,ut[2]-ut[0]),_.#t=Math.max(a.AnnotationEditor.MIN_SIZE,ut[3]-ut[1]),_.#B(H,V),_}serialize(){if(this.isEmpty())return null;const o=this.getRect(0,0),m=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:m,thickness:this.thickness,opacity:this.opacity,paths:this.#z(this.scaleFactor/this.parentScale,this.translationX,this.translationY,o),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class h extends a.AnnotationEditor{#t=null;#e=null;#i=null;#n=null;#r=null;#s="";#o=null;#l=null;#h=null;#c=!1;#f=!1;static _type="stamp";static _editorType=i.AnnotationEditorType.STAMP;constructor(o){super({...o,name:"stampEditor"}),this.#n=o.bitmapUrl,this.#r=o.bitmapFile}static initialize(o){a.AnnotationEditor.initialize(o)}static get supportedTypes(){const o=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",o.map(m=>`image/${m}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(o){return this.supportedTypes.includes(o)}static paste(o,m){m.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:o.getAsFile()})}#d(o,m=!1){if(!o){this.remove();return}this.#t=o.bitmap,m||(this.#e=o.id,this.#c=o.isSvg),o.file&&(this.#s=o.file.name),this.#p()}#u(){this.#i=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#a(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(m=>this.#d(m,!0)).finally(()=>this.#u());return}if(this.#n){const m=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(m).then(C=>this.#d(C)).finally(()=>this.#u());return}if(this.#r){const m=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(m).then(C=>this.#d(C)).finally(()=>this.#u());return}const o=document.createElement("input");o.type="file",o.accept=h.supportedTypesStr,this.#i=new Promise(m=>{o.addEventListener("change",async()=>{if(!o.files||o.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const C=await this._uiManager.imageManager.getFromFile(o.files[0]);this.#d(C)}m()}),o.addEventListener("cancel",()=>{this.remove(),m()})}).finally(()=>this.#u()),o.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#l?.disconnect(),this.#l=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#a();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#r)}get isResizable(){return!0}render(){if(this.div)return this.div;let o,m;if(this.width&&(o=this.x,m=this.y),super.render(),this.div.hidden=!0,this.#t?this.#p():this.#a(),this.width){const[C,_]=this.parentDimensions;this.setAt(o*C,m*_,this.width*C,this.height*_)}return this.div}#p(){const{div:o}=this;let{width:m,height:C}=this.#t;const[_,P]=this.pageDimensions,U=.75;if(this.width)m=this.width*_,C=this.height*P;else if(m>U*_||C>U*P){const j=Math.min(U*_/m,U*P/C);m*=j,C*=j}const[H,V]=this.parentDimensions;this.setDims(m*H/_,C*V/P),this._uiManager.enableWaiting(!1);const $=this.#o=document.createElement("canvas");o.append($),o.hidden=!1,this.#v(m,C),this.#y(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton(),this.#s&&$.setAttribute("aria-label",this.#s)}#m(o,m){const[C,_]=this.parentDimensions;this.width=o/C,this.height=m/_,this.setDims(o,m),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#h!==null&&clearTimeout(this.#h);const P=200;this.#h=setTimeout(()=>{this.#h=null,this.#v(o,m)},P)}#b(o,m){const{width:C,height:_}=this.#t;let P=C,U=_,H=this.#t;for(;P>2*o||U>2*m;){const V=P,$=U;P>2*o&&(P=P>=16384?Math.floor(P/2)-1:Math.ceil(P/2)),U>2*m&&(U=U>=16384?Math.floor(U/2)-1:Math.ceil(U/2));const j=new OffscreenCanvas(P,U);j.getContext("2d").drawImage(H,0,0,V,$,0,0,P,U),H=j.transferToImageBitmap()}return H}#v(o,m){o=Math.ceil(o),m=Math.ceil(m);const C=this.#o;if(!C||C.width===o&&C.height===m)return;C.width=o,C.height=m;const _=this.#c?this.#t:this.#b(o,m),P=C.getContext("2d");P.filter=this._uiManager.hcmFilter,P.drawImage(_,0,0,_.width,_.height,0,0,o,m)}getImageForAltText(){return this.#o}#w(o){if(o){if(this.#c){const _=this._uiManager.imageManager.getSvgUrl(this.#e);if(_)return _}const m=document.createElement("canvas");return{width:m.width,height:m.height}=this.#t,m.getContext("2d").drawImage(this.#t,0,0),m.toDataURL()}if(this.#c){const[m,C]=this.pageDimensions,_=Math.round(this.width*m*y.PixelsPerInch.PDF_TO_CSS_UNITS),P=Math.round(this.height*C*y.PixelsPerInch.PDF_TO_CSS_UNITS),U=new OffscreenCanvas(_,P);return U.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,_,P),U.transferToImageBitmap()}return structuredClone(this.#t)}#y(){this.#l=new ResizeObserver(o=>{const m=o[0].contentRect;m.width&&m.height&&this.#m(m.width,m.height)}),this.#l.observe(this.div)}static deserialize(o,m,C){if(o instanceof b.StampAnnotationElement)return null;const _=super.deserialize(o,m,C),{rect:P,bitmapUrl:U,bitmapId:H,isSvg:V,accessibilityData:$}=o;H&&C.imageManager.isValidId(H)?_.#e=H:_.#n=U,_.#c=V;const[j,at]=_.pageDimensions;return _.width=(P[2]-P[0])/j,_.height=(P[3]-P[1])/at,$&&(_.altTextData=$),_}serialize(o=!1,m=null){if(this.isEmpty())return null;const C={annotationType:i.AnnotationEditorType.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(o)return C.bitmapUrl=this.#w(!0),C.accessibilityData=this.altTextData,C;const{decorative:_,altText:P}=this.altTextData;if(!_&&P&&(C.accessibilityData={type:"Figure",alt:P}),m===null)return C;m.stamps||=new Map;const U=this.#c?(C.rect[2]-C.rect[0])*(C.rect[3]-C.rect[1]):null;if(!m.stamps.has(this.#e))m.stamps.set(this.#e,{area:U,serialized:C}),C.bitmap=this.#w(!1);else if(this.#c){const H=m.stamps.get(this.#e);U>H.area&&(H.area=U,H.serialized.bitmap.close(),H.serialized.bitmap=this.#w(!1))}return C}}class v{#t;#e=!1;#i=null;#n=this.pointerup.bind(this);#r=this.pointerUpAfterSelection.bind(this);#s=this.pointerdown.bind(this);#o=null;#l=this.selectionStart.bind(this);#h=new Map;#c=!1;#f=!1;#d=!1;#u=null;#a;static _initialized=!1;static#p=new Map([l,x,h,g].map(o=>[o._editorType,o]));constructor({uiManager:o,pageIndex:m,div:C,accessibilityManager:_,annotationLayer:P,drawLayer:U,textLayer:H,viewport:V,l10n:$}){const j=[...v.#p.values()];if(!v._initialized){v._initialized=!0;for(const at of j)at.initialize($)}o.registerEditorTypes(j),this.#a=o,this.pageIndex=m,this.div=C,this.#t=_,this.#i=P,this.viewport=V,this.#u=H,this.drawLayer=U,this.#a.addLayer(this)}get isEmpty(){return this.#h.size===0}updateToolbar(o){this.#a.updateToolbar(o)}updateMode(o=this.#a.getMode()){switch(this.#y(),o){case i.AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;case i.AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case i.AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}if(o!==i.AnnotationEditorType.NONE){const{classList:m}=this.div;for(const C of v.#p.values())m.toggle(`${C._type}Editing`,o===C._editorType);this.div.hidden=!1}}addInkEditorIfNeeded(o){if(this.#a.getMode()!==i.AnnotationEditorType.INK)return;if(!o){for(const C of this.#h.values())if(C.isEmpty()){C.setInBackground();return}}this.#v({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(o){this.#a.setEditingState(o)}addCommands(o){this.#a.addCommands(o)}togglePointerEvents(o=!1){this.div.classList.toggle("disabled",!o)}enable(){this.togglePointerEvents(!0);const o=new Set;for(const C of this.#h.values())C.enableEditing(),C.annotationElementId&&o.add(C.annotationElementId);if(!this.#i)return;const m=this.#i.getEditableAnnotations();for(const C of m){if(C.hide(),this.#a.isDeletedAnnotationElement(C.data.id)||o.has(C.data.id))continue;const _=this.deserialize(C);_&&(this.addOrRebuild(_),_.enableEditing())}}disable(){this.#d=!0,this.togglePointerEvents(!1);const o=new Set;for(const C of this.#h.values()){if(C.disableEditing(),!C.annotationElementId||C.serialize()!==null){o.add(C.annotationElementId);continue}this.getEditableAnnotation(C.annotationElementId)?.show(),C.remove()}if(this.#i){const C=this.#i.getEditableAnnotations();for(const _ of C){const{id:P}=_.data;o.has(P)||this.#a.isDeletedAnnotationElement(P)||_.show()}}this.#y(),this.isEmpty&&(this.div.hidden=!0);const{classList:m}=this.div;for(const C of v.#p.values())m.remove(`${C._type}Editing`);this.disableTextSelection(),this.#d=!1}getEditableAnnotation(o){return this.#i?.getEditableAnnotation(o)||null}setActiveEditor(o){this.#a.getActive()!==o&&this.#a.setActiveEditor(o)}enableTextSelection(){this.#u?.div&&document.addEventListener("selectstart",this.#l)}disableTextSelection(){this.#u?.div&&document.removeEventListener("selectstart",this.#l)}enableClick(){this.div.addEventListener("pointerdown",this.#s),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#n)}attach(o){this.#h.set(o.id,o);const{annotationElementId:m}=o;m&&this.#a.isDeletedAnnotationElement(m)&&this.#a.removeDeletedAnnotationElement(o)}detach(o){this.#h.delete(o.id),this.#t?.removePointerInTextLayer(o.contentDiv),!this.#d&&o.annotationElementId&&this.#a.addDeletedAnnotationElement(o)}remove(o){this.detach(o),this.#a.removeEditor(o),o.div.remove(),o.isAttachedToDOM=!1,this.#f||this.addInkEditorIfNeeded(!1)}changeParent(o){o.parent!==this&&(o.annotationElementId&&(this.#a.addDeletedAnnotationElement(o.annotationElementId),a.AnnotationEditor.deleteAnnotationElement(o),o.annotationElementId=null),this.attach(o),o.parent?.detach(o),o.setParent(this),o.div&&o.isAttachedToDOM&&(o.div.remove(),this.div.append(o.div)))}add(o){if(this.changeParent(o),this.#a.addEditor(o),this.attach(o),!o.isAttachedToDOM){const m=o.render();this.div.append(m),o.isAttachedToDOM=!0}o.fixAndSetPosition(),o.onceAdded(),this.#a.addToAnnotationStorage(o)}moveEditorInDOM(o){if(!o.isAttachedToDOM)return;const{activeElement:m}=document;o.div.contains(m)&&!this.#o&&(o._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,o.div.contains(document.activeElement)?o._focusEventsAllowed=!0:(o.div.addEventListener("focusin",()=>{o._focusEventsAllowed=!0},{once:!0}),m.focus())},0)),o._structTreeParentId=this.#t?.moveElementInDOM(this.div,o.div,o.contentDiv,!0)}addOrRebuild(o){o.needsToBeRebuilt()?(o.parent||=this,o.rebuild()):this.add(o)}addUndoableEditor(o){const m=()=>o._uiManager.rebuild(o),C=()=>{o.remove()};this.addCommands({cmd:m,undo:C,mustExec:!1})}getNextId(){return this.#a.getId()}get#m(){return v.#p.get(this.#a.getMode())}#b(o){const m=this.#m;return m?new m.prototype.constructor(o):null}canCreateNewEmptyEditor(){return this.#m?.canCreateNewEmptyEditor()}pasteEditor(o,m){this.#a.updateToolbar(o),this.#a.updateMode(o);const{offsetX:C,offsetY:_}=this.#w(),P=this.getNextId(),U=this.#b({parent:this,id:P,x:C,y:_,uiManager:this.#a,isCentered:!0,...m});U&&this.add(U)}deserialize(o){return v.#p.get(o.annotationType??o.annotationEditorType)?.deserialize(o,this,this.#a)||null}#v(o,m,C={}){const _=this.getNextId(),P=this.#b({parent:this,id:_,x:o.offsetX,y:o.offsetY,uiManager:this.#a,isCentered:m,...C});return P&&this.add(P),P}#w(){const{x:o,y:m,width:C,height:_}=this.div.getBoundingClientRect(),P=Math.max(0,o),U=Math.max(0,m),H=Math.min(window.innerWidth,o+C),V=Math.min(window.innerHeight,m+_),$=(P+H)/2-o,j=(U+V)/2-m,[at,M]=this.viewport.rotation%180===0?[$,j]:[j,$];return{offsetX:at,offsetY:M}}addNewEditor(){this.#v(this.#w(),!0)}setSelected(o){this.#a.setSelected(o)}toggleSelected(o){this.#a.toggleSelected(o)}isSelected(o){return this.#a.isSelected(o)}unselect(o){this.#a.unselect(o)}selectionStart(o){this.#u?.div.addEventListener("pointerup",this.#r,{once:!0})}pointerUpAfterSelection(o){const m=document.getSelection();if(m.rangeCount===0)return;const C=m.getRangeAt(0);if(C.collapsed||!this.#u?.div.contains(C.commonAncestorContainer))return;const{x:_,y:P,width:U,height:H}=this.#u.div.getBoundingClientRect(),V=C.getClientRects();let $;switch(this.viewport.rotation){case 90:$=(at,M,X,ut)=>({x:(M-P)/H,y:1-(at+X-_)/U,width:ut/H,height:X/U});break;case 180:$=(at,M,X,ut)=>({x:1-(at+X-_)/U,y:1-(M+ut-P)/H,width:X/U,height:ut/H});break;case 270:$=(at,M,X,ut)=>({x:1-(M+ut-P)/H,y:(at-_)/U,width:ut/H,height:X/U});break;default:$=(at,M,X,ut)=>({x:(at-_)/U,y:(M-P)/H,width:X/U,height:ut/H});break}const j=[];for(const{x:at,y:M,width:X,height:ut}of V)X===0||ut===0||j.push($(at,M,X,ut));j.length!==0&&this.#v(o,!1,{boxes:j}),m.empty()}pointerup(o){const{isMac:m}=i.FeatureTest.platform;if(!(o.button!==0||o.ctrlKey&&m)&&o.target===this.div&&this.#c){if(this.#c=!1,!this.#e){this.#e=!0;return}if(this.#a.getMode()===i.AnnotationEditorType.STAMP){this.#a.unselectAll();return}this.#v(o,!1)}}pointerdown(o){if(this.#a.getMode()===i.AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),this.#c){this.#c=!1;return}const{isMac:m}=i.FeatureTest.platform;if(o.button!==0||o.ctrlKey&&m||o.target!==this.div)return;this.#c=!0;const C=this.#a.getActive();this.#e=!C||C.isEmpty()}findNewParent(o,m,C){const _=this.#a.findParent(m,C);return _===null||_===this?!1:(_.changeParent(o),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(const o of this.#h.values())this.#t?.removePointerInTextLayer(o.contentDiv),o.setParent(null),o.isAttachedToDOM=!1,o.div.remove();this.div=null,this.#h.clear(),this.#a.removeLayer(this)}#y(){this.#f=!0;for(const o of this.#h.values())o.isEmpty()&&o.remove();this.#f=!1}render({viewport:o}){this.viewport=o,(0,y.setLayerDimensions)(this.div,o);for(const m of this.#a.getEditors(this.pageIndex))this.add(m);this.updateMode()}update({viewport:o}){this.#a.commitOrRemove();const m=this.viewport.rotation,C=o.rotation;if(this.viewport=o,(0,y.setLayerDimensions)(this.div,{rotation:C}),m!==C)for(const _ of this.#h.values())_.rotate(C);this.updateMode()}get pageDimensions(){const{pageWidth:o,pageHeight:m}=this.viewport.rawDims;return[o,m]}}}),97:((n,e,t)=>{t.d(e,{ColorPicker:()=>b});var i=t(266),a=t(812),r=t(473);class b{#t=this.#d.bind(this);#e=null;#i=null;#n;#r=null;#s=!1;#o=!1;#l;#h=null;static get _keyboardManager(){return(0,i.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["Escape","mac+Escape"],b.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],b.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],b.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],b.prototype._moveToPrevious],[["Home","mac+Home"],b.prototype._moveToBeginning],[["End","mac+End"],b.prototype._moveToEnd]]))}constructor({editor:p=null,uiManager:d=null}){this.#o=!p,this.#h=p?._uiManager||d,this.#l=this.#h._eventBus,this.#n=p?.color||this.#h?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const p=this.#e=document.createElement("button");p.className="colorPicker",p.tabIndex="0",p.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),p.setAttribute("aria-haspopup",!0),p.addEventListener("click",this.#u.bind(this));const d=this.#i=document.createElement("span");return d.className="swatch",d.style.backgroundColor=this.#n,p.append(d),p}renderMainDropdown(){const p=this.#r=this.#c(i.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR);return p.setAttribute("aria-orientation","horizontal"),p.setAttribute("aria-labelledby","highlightColorPickerLabel"),p}#c(p){const d=document.createElement("div");d.addEventListener("contextmenu",r.noContextMenu),d.className="dropdown",d.role="listbox",d.setAttribute("aria-multiselectable",!1),d.setAttribute("aria-orientation","vertical"),d.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[g,y]of this.#h.highlightColors){const x=document.createElement("button");x.tabIndex="0",x.role="option",x.setAttribute("data-color",y),x.title=g,x.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${g}`);const h=document.createElement("span");x.append(h),h.className="swatch",h.style.backgroundColor=y,x.setAttribute("aria-selected",y===this.#n),x.addEventListener("click",this.#f.bind(this,p,y)),d.append(x)}return d.addEventListener("keydown",this.#t),d}#f(p,d,g){g.stopPropagation(),this.#l.dispatch("switchannotationeditorparams",{source:this,type:p,value:d})}_colorSelectFromKeyboard(p){const d=p.target.getAttribute("data-color");d&&this.#f(d,p)}_moveToNext(p){if(p.target===this.#e){this.#r.firstChild?.focus();return}p.target.nextSibling?.focus()}_moveToPrevious(p){p.target.previousSibling?.focus()}_moveToBeginning(){this.#r.firstChild?.focus()}_moveToEnd(){this.#r.lastChild?.focus()}#d(p){b._keyboardManager.exec(this,p)}#u(p){if(this.#r&&!this.#r.classList.contains("hidden")){this.hideDropdown();return}if(this.#e.addEventListener("keydown",this.#t),this.#s=p.detail===0,this.#r){this.#r.classList.remove("hidden");return}const d=this.#r=this.#c(i.AnnotationEditorParamsType.HIGHLIGHT_COLOR);this.#e.append(d)}hideDropdown(){this.#r?.classList.add("hidden")}_hideDropdownFromKeyboard(){this.#o||!this.#r||this.#r.classList.contains("hidden")||(this.hideDropdown(),this.#e.removeEventListener("keydown",this.#t),this.#e.focus({preventScroll:!0,focusVisible:this.#s}))}updateColor(p){if(this.#i&&(this.#i.style.backgroundColor=p),!this.#r)return;const d=this.#h.highlightColors.values();for(const g of this.#r.children)g.setAttribute("aria-selected",d.next().value===p)}destroy(){this.#e?.remove(),this.#e=null,this.#i=null,this.#r?.remove(),this.#r=null}}}),115:((n,e,t)=>{t.d(e,{AnnotationEditor:()=>p});var i=t(812),a=t(266),r=t(473);class b{#t="";#e=!1;#i=null;#n=null;#r=null;#s=!1;#o=null;static _l10nPromise=null;constructor(y){this.#o=y}static initialize(y){b._l10nPromise||=y}async render(){const y=this.#i=document.createElement("button");y.className="altText";const x=await b._l10nPromise.get("pdfjs-editor-alt-text-button-label");y.textContent=x,y.setAttribute("aria-label",x),y.tabIndex="0",y.addEventListener("contextmenu",r.noContextMenu),y.addEventListener("pointerdown",v=>v.stopPropagation());const h=v=>{v.preventDefault(),this.#o._uiManager.editAltText(this.#o)};return y.addEventListener("click",h,{capture:!0}),y.addEventListener("keydown",v=>{v.target===y&&v.key==="Enter"&&(this.#s=!0,h(v))}),await this.#l(),y}finish(){this.#i&&(this.#i.focus({focusVisible:this.#s}),this.#s=!1)}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:y,decorative:x}){this.#t===y&&this.#e===x||(this.#t=y,this.#e=x,this.#l())}toggle(y=!1){this.#i&&(!y&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#i.disabled=!y)}destroy(){this.#i?.remove(),this.#i=null,this.#n=null}async#l(){const y=this.#i;if(!y)return;if(!this.#t&&!this.#e){y.classList.remove("done"),this.#n?.remove();return}y.classList.add("done"),b._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(v=>{y.setAttribute("aria-label",v)});let x=this.#n;if(!x){this.#n=x=document.createElement("span"),x.className="tooltip",x.setAttribute("role","tooltip");const v=x.id=`alt-text-tooltip-${this.#o.id}`;y.setAttribute("aria-describedby",v);const S=100;y.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#n.classList.add("show"),this.#o._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.#o.editorType,data:{action:"alt_text_tooltip"}}})},S)}),y.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n?.classList.remove("show")})}x.innerText=this.#e?await b._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#t,x.parentNode||y.append(x),this.#o.getImageForAltText()?.setAttribute("aria-describedby",x.id)}}class l{#t=null;#e=null;#i;#n=null;constructor(y){this.#i=y}render(){const y=this.#t=document.createElement("div");y.className="editToolbar",y.addEventListener("contextmenu",r.noContextMenu),y.addEventListener("pointerdown",l.#r);const x=this.#n=document.createElement("div");x.className="buttons",y.append(x);const h=this.#i.toolbarPosition;if(h){const{style:v}=y,S=this.#i._uiManager.direction==="ltr"?1-h[0]:h[0];v.insetInlineEnd=`${100*S}%`,v.top=`calc(${100*h[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),y}static#r(y){y.stopPropagation()}#s(y){this.#i._focusEventsAllowed=!1,y.preventDefault(),y.stopPropagation()}#o(y){this.#i._focusEventsAllowed=!0,y.preventDefault(),y.stopPropagation()}#l(y){y.addEventListener("focusin",this.#s.bind(this),{capture:!0}),y.addEventListener("focusout",this.#o.bind(this),{capture:!0}),y.addEventListener("contextmenu",r.noContextMenu)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden")}#h(){const y=document.createElement("button");y.className="delete",y.tabIndex=0,y.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#i.editorType}-button`),this.#l(y),y.addEventListener("click",x=>{this.#i._uiManager.delete()}),this.#n.append(y)}get#c(){const y=document.createElement("div");return y.className="divider",y}addAltTextButton(y){this.#l(y),this.#n.prepend(y,this.#c)}addColorPicker(y){this.#e=y;const x=y.renderButton();this.#l(x),this.#n.prepend(x,this.#c)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class p{#t=null;#e=null;#i=!1;#n=null;#r=null;#s=this.focusin.bind(this);#o=this.focusout.bind(this);#l=null;#h="";#c=!1;#f=!1;#d=!1;#u=!1;#a=null;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#p=!1;#m=p._zIndex++;static _borderLineWidth=-1;static _colorManager=new i.ColorManager;static _zIndex=1;static get _resizerKeyboardManager(){const y=p.prototype._resizeWithKeyboard,x=i.AnnotationEditorUIManager.TRANSLATE_SMALL,h=i.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_resizerKeyboardManager",new i.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],y,{args:[-x,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],y,{args:[-h,0]}],[["ArrowRight","mac+ArrowRight"],y,{args:[x,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],y,{args:[h,0]}],[["ArrowUp","mac+ArrowUp"],y,{args:[0,-x]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],y,{args:[0,-h]}],[["ArrowDown","mac+ArrowDown"],y,{args:[0,x]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],y,{args:[0,h]}],[["Escape","mac+Escape"],p.prototype._stopResizingWithKeyboard]]))}constructor(y){this.constructor===p&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=y.parent,this.id=y.id,this.width=this.height=null,this.pageIndex=y.parent.pageIndex,this.name=y.name,this.div=null,this._uiManager=y.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=y.isCentered,this._structTreeParentId=null;const{rotation:x,rawDims:{pageWidth:h,pageHeight:v,pageX:S,pageY:o}}=this.parent.viewport;this.rotation=x,this.pageRotation=(360+x-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[h,v],this.pageTranslation=[S,o];const[m,C]=this.parentDimensions;this.x=y.x/m,this.y=y.y/C,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(y){const x=new d({id:y.parent.getNextId(),parent:y.parent,uiManager:y._uiManager});x.annotationElementId=y.annotationElementId,x.deleted=!0,x._uiManager.addToAnnotationStorage(x)}static initialize(y,x=null){if(p._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(v=>[v,y.get(v.replaceAll(/([A-Z])/g,S=>`-${S.toLowerCase()}`))])),x?.strings)for(const v of x.strings)p._l10nPromise.set(v,y.get(v));if(p._borderLineWidth!==-1)return;const h=getComputedStyle(document.documentElement);p._borderLineWidth=parseFloat(h.getPropertyValue("--outline-width"))||0}static updateDefaultParams(y,x){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(y){return!1}static paste(y,x){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#p}set _isDraggable(y){this.#p=y,this.div?.classList.toggle("draggable",y)}get isEnterHandled(){return!0}center(){const[y,x]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*x/(y*2),this.y+=this.width*y/(x*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*x/(y*2),this.y-=this.width*y/(x*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(y){this._uiManager.addCommands(y)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#m}setParent(y){y!==null?(this.pageIndex=y.pageIndex,this.pageDimensions=y.pageDimensions):this.#x(),this.parent=y}focusin(y){this._focusEventsAllowed&&(this.#c?this.#c=!1:this.parent.setSelected(this))}focusout(y){!this._focusEventsAllowed||!this.isAttachedToDOM||y.relatedTarget?.closest(`#${this.id}`)||(y.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(y,x,h,v){const[S,o]=this.parentDimensions;[h,v]=this.screenToPageTranslation(h,v),this.x=(y+h)/S,this.y=(x+v)/o,this.fixAndSetPosition()}#b([y,x],h,v){[h,v]=this.screenToPageTranslation(h,v),this.x+=h/y,this.y+=v/x,this.fixAndSetPosition()}translate(y,x){this.#b(this.parentDimensions,y,x)}translateInPage(y,x){this.#b(this.pageDimensions,y,x),this.div.scrollIntoView({block:"nearest"})}drag(y,x){const[h,v]=this.parentDimensions;if(this.x+=y/h,this.y+=x/v,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:_,y:P}=this.div.getBoundingClientRect();this.parent.findNewParent(this,_,P)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:S,y:o}=this;const[m,C]=this.#v();S+=m,o+=C,this.div.style.left=`${(100*S).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#v(){const[y,x]=this.parentDimensions,{_borderLineWidth:h}=p,v=h/y,S=h/x;switch(this.rotation){case 90:return[-v,S];case 180:return[v,S];case 270:return[v,-S];default:return[-v,-S]}}fixAndSetPosition(y=this.rotation){const[x,h]=this.pageDimensions;let{x:v,y:S,width:o,height:m}=this;switch(o*=x,m*=h,v*=x,S*=h,y){case 0:v=Math.max(0,Math.min(x-o,v)),S=Math.max(0,Math.min(h-m,S));break;case 90:v=Math.max(0,Math.min(x-m,v)),S=Math.min(h,Math.max(o,S));break;case 180:v=Math.min(x,Math.max(o,v)),S=Math.min(h,Math.max(m,S));break;case 270:v=Math.min(x,Math.max(m,v)),S=Math.max(0,Math.min(h-o,S));break}this.x=v/=x,this.y=S/=h;const[C,_]=this.#v();v+=C,S+=_;const{style:P}=this.div;P.left=`${(100*v).toFixed(2)}%`,P.top=`${(100*S).toFixed(2)}%`,this.moveInDOM()}static#w(y,x,h){switch(h){case 90:return[x,-y];case 180:return[-y,-x];case 270:return[-x,y];default:return[y,x]}}screenToPageTranslation(y,x){return p.#w(y,x,this.parentRotation)}pageTranslationToScreen(y,x){return p.#w(y,x,360-this.parentRotation)}#y(y){switch(y){case 90:{const[x,h]=this.pageDimensions;return[0,-x/h,h/x,0]}case 180:return[-1,0,0,-1];case 270:{const[x,h]=this.pageDimensions;return[0,x/h,-h/x,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:y,pageDimensions:[x,h]}=this,v=x*y,S=h*y;return a.FeatureTest.isCSSRoundSupported?[Math.round(v),Math.round(S)]:[v,S]}setDims(y,x){const[h,v]=this.parentDimensions;this.div.style.width=`${(100*y/h).toFixed(2)}%`,this.#i||(this.div.style.height=`${(100*x/v).toFixed(2)}%`)}fixDims(){const{style:y}=this.div,{height:x,width:h}=y,v=h.endsWith("%"),S=!this.#i&&x.endsWith("%");if(v&&S)return;const[o,m]=this.parentDimensions;v||(y.width=`${(100*parseFloat(h)/o).toFixed(2)}%`),!this.#i&&!S&&(y.height=`${(100*parseFloat(x)/m).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#g(){if(this.#n)return;this.#n=document.createElement("div"),this.#n.classList.add("resizers");const y=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const x of y){const h=document.createElement("div");this.#n.append(h),h.classList.add("resizer",x),h.setAttribute("data-resizer-name",x),h.addEventListener("pointerdown",this.#L.bind(this,x)),h.addEventListener("contextmenu",r.noContextMenu),h.tabIndex=-1}this.div.prepend(this.#n)}#L(y,x){x.preventDefault();const{isMac:h}=a.FeatureTest.platform;if(x.button!==0||x.ctrlKey&&h)return;this.#e?.toggle(!1);const v=this.#F.bind(this,y),S=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",v,o);const m=this.x,C=this.y,_=this.width,P=this.height,U=this.parent.div.style.cursor,H=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(x.target).cursor;const V=()=>{this.parent.togglePointerEvents(!0),this.#e?.toggle(!0),this._isDraggable=S,window.removeEventListener("pointerup",V),window.removeEventListener("blur",V),window.removeEventListener("pointermove",v,o),this.parent.div.style.cursor=U,this.div.style.cursor=H,this.#_(m,C,_,P)};window.addEventListener("pointerup",V),window.addEventListener("blur",V)}#_(y,x,h,v){const S=this.x,o=this.y,m=this.width,C=this.height;S===y&&o===x&&m===h&&C===v||this.addCommands({cmd:()=>{this.width=m,this.height=C,this.x=S,this.y=o;const[_,P]=this.parentDimensions;this.setDims(_*m,P*C),this.fixAndSetPosition()},undo:()=>{this.width=h,this.height=v,this.x=y,this.y=x;const[_,P]=this.parentDimensions;this.setDims(_*h,P*v),this.fixAndSetPosition()},mustExec:!0})}#F(y,x){const[h,v]=this.parentDimensions,S=this.x,o=this.y,m=this.width,C=this.height,_=p.MIN_SIZE/h,P=p.MIN_SIZE/v,U=T=>Math.round(T*1e4)/1e4,H=this.#y(this.rotation),V=(T,E)=>[H[0]*T+H[2]*E,H[1]*T+H[3]*E],$=this.#y(360-this.rotation),j=(T,E)=>[$[0]*T+$[2]*E,$[1]*T+$[3]*E];let at,M,X=!1,ut=!1;switch(y){case"topLeft":X=!0,at=(T,E)=>[0,0],M=(T,E)=>[T,E];break;case"topMiddle":at=(T,E)=>[T/2,0],M=(T,E)=>[T/2,E];break;case"topRight":X=!0,at=(T,E)=>[T,0],M=(T,E)=>[0,E];break;case"middleRight":ut=!0,at=(T,E)=>[T,E/2],M=(T,E)=>[0,E/2];break;case"bottomRight":X=!0,at=(T,E)=>[T,E],M=(T,E)=>[0,0];break;case"bottomMiddle":at=(T,E)=>[T/2,E],M=(T,E)=>[T/2,0];break;case"bottomLeft":X=!0,at=(T,E)=>[0,E],M=(T,E)=>[T,0];break;case"middleLeft":ut=!0,at=(T,E)=>[0,E/2],M=(T,E)=>[T,E/2];break}const tt=at(m,C),Y=M(m,C);let nt=V(...Y);const bt=U(S+nt[0]),gt=U(o+nt[1]);let yt=1,Nt=1,[Ct,B]=this.screenToPageTranslation(x.movementX,x.movementY);if([Ct,B]=j(Ct/h,B/v),X){const T=Math.hypot(m,C);yt=Nt=Math.max(Math.min(Math.hypot(Y[0]-tt[0]-Ct,Y[1]-tt[1]-B)/T,1/m,1/C),_/m,P/C)}else ut?yt=Math.max(_,Math.min(1,Math.abs(Y[0]-tt[0]-Ct)))/m:Nt=Math.max(P,Math.min(1,Math.abs(Y[1]-tt[1]-B)))/C;const it=U(m*yt),st=U(C*Nt);nt=V(...M(it,st));const ft=bt-nt[0],dt=gt-nt[1];this.width=it,this.height=st,this.x=ft,this.y=dt,this.setDims(h*it,v*st),this.fixAndSetPosition()}altTextFinish(){this.#e?.finish()}async addEditToolbar(){return this.#l||this.#d?this.#l:(this.#l=new l(this),this.div.append(this.#l.render()),this.#e&&this.#l.addAltTextButton(await this.#e.render()),this.#l)}removeEditToolbar(){this.#l&&(this.#l.remove(),this.#l=null,this.#e?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#e||(b.initialize(p._l10nPromise),this.#e=new b(this),await this.addEditToolbar())}get altTextData(){return this.#e?.data}set altTextData(y){this.#e&&(this.#e.data=y)}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#s),this.div.addEventListener("focusout",this.#o);const[y,x]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*x/y).toFixed(2)}%`,this.div.style.maxHeight=`${(100*y/x).toFixed(2)}%`);const[h,v]=this.getInitialTranslation();return this.translate(h,v),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(y){const{isMac:x}=a.FeatureTest.platform;if(y.button!==0||y.ctrlKey&&x){y.preventDefault();return}if(this.#c=!0,this._isDraggable){this.#M(y);return}this.#I(y)}#I(y){const{isMac:x}=a.FeatureTest.platform;y.ctrlKey&&!x||y.shiftKey||y.metaKey&&x?this.parent.toggleSelected(this):this.parent.setSelected(this)}#M(y){const x=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let h,v;x&&(h={passive:!0,capture:!0},v=o=>{const[m,C]=this.screenToPageTranslation(o.movementX,o.movementY);this._uiManager.dragSelectedEditors(m,C)},window.addEventListener("pointermove",v,h));const S=()=>{window.removeEventListener("pointerup",S),window.removeEventListener("blur",S),x&&window.removeEventListener("pointermove",v,h),this.#c=!1,this._uiManager.endDragSession()||this.#I(y)};window.addEventListener("pointerup",S),window.addEventListener("blur",S)}moveInDOM(){this.#a&&clearTimeout(this.#a),this.#a=setTimeout(()=>{this.#a=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(y,x,h){y.changeParent(this),this.x=x,this.y=h,this.fixAndSetPosition()}getRect(y,x,h=this.rotation){const v=this.parentScale,[S,o]=this.pageDimensions,[m,C]=this.pageTranslation,_=y/v,P=x/v,U=this.x*S,H=this.y*o,V=this.width*S,$=this.height*o;switch(h){case 0:return[U+_+m,o-H-P-$+C,U+_+V+m,o-H-P+C];case 90:return[U+P+m,o-H+_+C,U+P+$+m,o-H+_+V+C];case 180:return[U-_-V+m,o-H+P+C,U-_+m,o-H+P+$+C];case 270:return[U-P-$+m,o-H-_-V+C,U-P+m,o-H-_+C];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(y,x){const[h,v,S,o]=y,m=S-h,C=o-v;switch(this.rotation){case 0:return[h,x-o,m,C];case 90:return[h,x-v,C,m];case 180:return[S,x-v,m,C];case 270:return[S,x-o,C,m];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return this.#u}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#s),this.div?.addEventListener("focusout",this.#o)}rotate(y){}serialize(y=!1,x=null){(0,a.unreachable)("An editor must be serializable")}static deserialize(y,x,h){const v=new this.prototype.constructor({parent:x,id:x.getNextId(),uiManager:h});v.rotation=y.rotation;const[S,o]=v.pageDimensions,[m,C,_,P]=v.getRectInCurrentCoords(y.rect,o);return v.x=m/S,v.y=C/o,v.width=_/S,v.height=P/o,v}remove(){this.div.removeEventListener("focusin",this.#s),this.div.removeEventListener("focusout",this.#o),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#a&&(clearTimeout(this.#a),this.#a=null),this.#x(),this.removeEditToolbar()}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#g(),this.#n.classList.remove("hidden"),(0,i.bindEvents)(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(y){if(!this.isResizable||y.target!==this.div||y.key!=="Enter")return;this._uiManager.setSelected(this),this.#r={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const x=this.#n.children;if(!this.#t){this.#t=Array.from(x);const o=this.#D.bind(this),m=this.#A.bind(this);for(const C of this.#t){const _=C.getAttribute("data-resizer-name");C.setAttribute("role","spinbutton"),C.addEventListener("keydown",o),C.addEventListener("blur",m),C.addEventListener("focus",this.#R.bind(this,_)),p._l10nPromise.get(`pdfjs-editor-resizer-label-${_}`).then(P=>C.setAttribute("aria-label",P))}}const h=this.#t[0];let v=0;for(const o of x){if(o===h)break;v++}const S=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(S!==v){if(S<v)for(let m=0;m<v-S;m++)this.#n.append(this.#n.firstChild);else if(S>v)for(let m=0;m<S-v;m++)this.#n.firstChild.before(this.#n.lastChild);let o=0;for(const m of x){const _=this.#t[o++].getAttribute("data-resizer-name");p._l10nPromise.get(`pdfjs-editor-resizer-label-${_}`).then(P=>m.setAttribute("aria-label",P))}}this.#C(0),this.#u=!0,this.#n.firstChild.focus({focusVisible:!0}),y.preventDefault(),y.stopImmediatePropagation()}#D(y){p._resizerKeyboardManager.exec(this,y)}#A(y){this.#u&&y.relatedTarget?.parentNode!==this.#n&&this.#x()}#R(y){this.#h=this.#u?y:""}#C(y){if(this.#t)for(const x of this.#t)x.tabIndex=y}_resizeWithKeyboard(y,x){this.#u&&this.#F(this.#h,{movementX:y,movementY:x})}#x(){if(this.#u=!1,this.#C(-1),this.#r){const{savedX:y,savedY:x,savedWidth:h,savedHeight:v}=this.#r;this.#_(y,x,h,v),this.#r=null}}_stopResizingWithKeyboard(){this.#x(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this.#l){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#l?.show()});return}this.#l?.show()}unselect(){this.#n?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus(),this.#l?.hide()}updateParams(y,x){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(y){this.#f=y,this.parent&&(y?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(y,x){this.#i=!0;const h=y/x,{style:v}=this.div;v.aspectRatio=h,v.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}}class d extends p{constructor(y){super(y),this.annotationElementId=y.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),405:((n,e,t)=>{t.d(e,{Outliner:()=>i});class i{#t;#e=[];#i=[];constructor(r,b=0,l=0,p=!0){let d=1/0,g=-1/0,y=1/0,x=-1/0;const h=10**-4;for(const{x:P,y:U,width:H,height:V}of r){const $=Math.floor((P-b)/h)*h,j=Math.ceil((P+H+b)/h)*h,at=Math.floor((U-b)/h)*h,M=Math.ceil((U+V+b)/h)*h,X=[$,at,M,!0],ut=[j,at,M,!1];this.#e.push(X,ut),d=Math.min(d,$),g=Math.max(g,j),y=Math.min(y,at),x=Math.max(x,M)}const v=g-d+2*l,S=x-y+2*l,o=d-l,m=y-l,C=this.#e.at(p?-1:-2),_=[C[0],C[2]];for(const P of this.#e){const[U,H,V]=P;P[0]=(U-o)/v,P[1]=(H-m)/S,P[2]=(V-m)/S}this.#t={x:o,y:m,width:v,height:S,lastPoint:_}}getOutlines(){this.#e.sort((b,l)=>b[0]-l[0]||b[1]-l[1]||b[2]-l[2]);const r=[];for(const b of this.#e)b[3]?(r.push(...this.#l(b)),this.#s(b)):(this.#o(b),r.push(...this.#l(b)));return this.#n(r)}#n(r){const b=[],l=new Set;for(const g of r){const[y,x,h]=g;b.push([y,x,g],[y,h,g])}b.sort((g,y)=>g[1]-y[1]||g[0]-y[0]);for(let g=0,y=b.length;g<y;g+=2){const x=b[g][2],h=b[g+1][2];x.push(h),h.push(x),l.add(x),l.add(h)}const p=[];let d;for(;l.size>0;){const g=l.values().next().value;let[y,x,h,v,S]=g;l.delete(g);let o=y,m=x;for(d=[y,h],p.push(d);;){let C;if(l.has(v))C=v;else if(l.has(S))C=S;else break;l.delete(C),[y,x,h,v,S]=C,o!==y&&(d.push(o,m,y,m===x?x:h),o=y),m=m===x?h:x}d.push(o,m)}return{outlines:p,box:this.#t}}#r(r){const b=this.#i;let l=0,p=b.length-1;for(;l<=p;){const d=l+p>>1,g=b[d][0];if(g===r)return d;g<r?l=d+1:p=d-1}return p+1}#s([,r,b]){const l=this.#r(r);this.#i.splice(l,0,[r,b])}#o([,r,b]){const l=this.#r(r);for(let p=l;p<this.#i.length;p++){const[d,g]=this.#i[p];if(d!==r)break;if(d===r&&g===b){this.#i.splice(p,1);return}}for(let p=l-1;p>=0;p--){const[d,g]=this.#i[p];if(d!==r)break;if(d===r&&g===b){this.#i.splice(p,1);return}}}#l(r){const[b,l,p]=r,d=[[b,l,p]],g=this.#r(p);for(let y=0;y<g;y++){const[x,h]=this.#i[y];for(let v=0,S=d.length;v<S;v++){const[,o,m]=d[v];if(!(h<=o||m<=x)){if(o>=x){if(m>h)d[v][1]=h;else{if(S===1)return[];d.splice(v,1),v--,S--}continue}d[v][2]=x,m>h&&d.push([b,h,m])}}}return d}}}),812:((n,e,t)=>{t.d(e,{AnnotationEditorUIManager:()=>x,ColorManager:()=>y,KeyboardManager:()=>g,bindEvents:()=>r,opacityToHex:()=>b});var i=t(266),a=t(473);function r(h,v,S){for(const o of S)v.addEventListener(o,h[o].bind(h))}function b(h){return Math.round(Math.min(255,Math.max(1,255*h))).toString(16).padStart(2,"0")}class l{#t=0;getId(){return`${i.AnnotationEditorPrefix}${this.#t++}`}}class p{#t=(0,i.getUuid)();#e=0;#i=null;static get _isSVGFittingCanvas(){const v='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',o=new OffscreenCanvas(1,3).getContext("2d"),m=new Image;m.src=v;const C=m.decode().then(()=>(o.drawImage(m,0,0,1,1,0,0,1,3),new Uint32Array(o.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",C)}async#n(v,S){this.#i||=new Map;let o=this.#i.get(v);if(o===null)return null;if(o?.bitmap)return o.refCounter+=1,o;try{o||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let m;if(typeof S=="string"?(o.url=S,m=await(0,a.fetchData)(S,"blob")):m=o.file=S,m.type==="image/svg+xml"){const C=p._isSVGFittingCanvas,_=new FileReader,P=new Image,U=new Promise((H,V)=>{P.onload=()=>{o.bitmap=P,o.isSvg=!0,H()},_.onload=async()=>{const $=o.svgUrl=_.result;P.src=await C?`${$}#svgView(preserveAspectRatio(none))`:$},P.onerror=_.onerror=V});_.readAsDataURL(m),await U}else o.bitmap=await createImageBitmap(m);o.refCounter=1}catch(m){console.error(m),o=null}return this.#i.set(v,o),o&&this.#i.set(o.id,o),o}async getFromFile(v){const{lastModified:S,name:o,size:m,type:C}=v;return this.#n(`${S}_${o}_${m}_${C}`,v)}async getFromUrl(v){return this.#n(v,v)}async getFromId(v){this.#i||=new Map;const S=this.#i.get(v);return S?S.bitmap?(S.refCounter+=1,S):S.file?this.getFromFile(S.file):this.getFromUrl(S.url):null}getSvgUrl(v){const S=this.#i.get(v);return S?.isSvg?S.svgUrl:null}deleteId(v){this.#i||=new Map;const S=this.#i.get(v);S&&(S.refCounter-=1,S.refCounter===0&&(S.bitmap=null))}isValidId(v){return v.startsWith(`image_${this.#t}_`)}}class d{#t=[];#e=!1;#i;#n=-1;constructor(v=128){this.#i=v}add({cmd:v,undo:S,mustExec:o,type:m=NaN,overwriteIfSameType:C=!1,keepUndo:_=!1}){if(o&&v(),this.#e)return;const P={cmd:v,undo:S,type:m};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(P);return}if(C&&this.#t[this.#n].type===m){_&&(P.undo=this.#t[this.#n].undo),this.#t[this.#n]=P;return}const U=this.#n+1;U===this.#i?this.#t.splice(0,1):(this.#n=U,U<this.#t.length&&this.#t.splice(U)),this.#t.push(P)}undo(){this.#n!==-1&&(this.#e=!0,this.#t[this.#n].undo(),this.#e=!1,this.#n-=1)}redo(){this.#n<this.#t.length-1&&(this.#n+=1,this.#e=!0,this.#t[this.#n].cmd(),this.#e=!1)}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}destroy(){this.#t=null}}class g{constructor(v){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:S}=i.FeatureTest.platform;for(const[o,m,C={}]of v)for(const _ of o){const P=_.startsWith("mac+");S&&P?(this.callbacks.set(_.slice(4),{callback:m,options:C}),this.allKeys.add(_.split("+").at(-1))):!S&&!P&&(this.callbacks.set(_,{callback:m,options:C}),this.allKeys.add(_.split("+").at(-1)))}}#t(v){v.altKey&&this.buffer.push("alt"),v.ctrlKey&&this.buffer.push("ctrl"),v.metaKey&&this.buffer.push("meta"),v.shiftKey&&this.buffer.push("shift"),this.buffer.push(v.key);const S=this.buffer.join("+");return this.buffer.length=0,S}exec(v,S){if(!this.allKeys.has(S.key))return;const o=this.callbacks.get(this.#t(S));if(!o)return;const{callback:m,options:{bubbles:C=!1,args:_=[],checker:P=null}}=o;P&&!P(v,S)||(m.bind(v,..._,S)(),C||(S.stopPropagation(),S.preventDefault()))}}class y{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const v=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(v),(0,i.shadow)(this,"_colors",v)}convert(v){const S=(0,a.getRGB)(v);if(!window.matchMedia("(forced-colors: active)").matches)return S;for(const[o,m]of this._colors)if(m.every((C,_)=>C===S[_]))return y._colorsMapping.get(o);return S}getHexCode(v){const S=this._colors.get(v);return S?i.Util.makeHexColor(...S):v}}class x{#t=null;#e=new Map;#i=new Map;#n=null;#r=null;#s=new d;#o=0;#l=new Set;#h=null;#c=null;#f=new Set;#d=null;#u=null;#a=null;#p=new l;#m=!1;#b=!1;#v=null;#w=null;#y=i.AnnotationEditorType.NONE;#g=new Set;#L=null;#_=this.blur.bind(this);#F=this.focus.bind(this);#I=this.copy.bind(this);#M=this.cut.bind(this);#D=this.paste.bind(this);#A=this.keydown.bind(this);#R=this.onEditingAction.bind(this);#C=this.onPageChanging.bind(this);#x=this.onScaleChanging.bind(this);#T=this.onRotationChanging.bind(this);#B={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#k=[0,0];#E=null;#N=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const v=x.prototype,S=_=>_.#N.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&_.hasSomethingToControl(),o=(_,{target:P})=>{if(P instanceof HTMLInputElement){const{type:U}=P;return U!=="text"&&U!=="number"}return!0},m=this.TRANSLATE_SMALL,C=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new g([[["ctrl+a","mac+meta+a"],v.selectAll,{checker:o}],[["ctrl+z","mac+meta+z"],v.undo,{checker:o}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],v.redo,{checker:o}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],v.delete,{checker:o}],[["Enter","mac+Enter"],v.addNewEditorFromKeyboard,{checker:(_,{target:P})=>!(P instanceof HTMLButtonElement)&&_.#N.contains(P)&&!_.isEnterHandled}],[[" ","mac+ "],v.addNewEditorFromKeyboard,{checker:_=>_.#N.contains(document.activeElement)}],[["Escape","mac+Escape"],v.unselectAll],[["ArrowLeft","mac+ArrowLeft"],v.translateSelectedEditors,{args:[-m,0],checker:S}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],v.translateSelectedEditors,{args:[-C,0],checker:S}],[["ArrowRight","mac+ArrowRight"],v.translateSelectedEditors,{args:[m,0],checker:S}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],v.translateSelectedEditors,{args:[C,0],checker:S}],[["ArrowUp","mac+ArrowUp"],v.translateSelectedEditors,{args:[0,-m],checker:S}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],v.translateSelectedEditors,{args:[0,-C],checker:S}],[["ArrowDown","mac+ArrowDown"],v.translateSelectedEditors,{args:[0,m],checker:S}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],v.translateSelectedEditors,{args:[0,C],checker:S}]]))}constructor(v,S,o,m,C,_,P){this.#N=v,this.#U=S,this.#n=o,this._eventBus=m,this._eventBus._on("editingaction",this.#R),this._eventBus._on("pagechanging",this.#C),this._eventBus._on("scalechanging",this.#x),this._eventBus._on("rotationchanging",this.#T),this.#r=C.annotationStorage,this.#d=C.filterFactory,this.#L=_,this.#a=P||null,this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#P(),this.#j(),this._eventBus._off("editingaction",this.#R),this._eventBus._off("pagechanging",this.#C),this._eventBus._off("scalechanging",this.#x),this._eventBus._off("rotationchanging",this.#T);for(const v of this.#i.values())v.destroy();this.#i.clear(),this.#e.clear(),this.#f.clear(),this.#t=null,this.#g.clear(),this.#s.destroy(),this.#n?.destroy(),this.#u&&(clearTimeout(this.#u),this.#u=null),this.#E&&(clearTimeout(this.#E),this.#E=null)}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",this.#L?this.#d.addHCMFilter(this.#L.foreground,this.#L.background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(this.#N).direction)}get highlightColors(){return(0,i.shadow)(this,"highlightColors",this.#a?new Map(this.#a.split(",").map(v=>v.split("=").map(S=>S.trim()))):null)}setMainHighlightColorPicker(v){this.#w=v}editAltText(v){this.#n?.editAltText(this,v)}onPageChanging({pageNumber:v}){this.#o=v-1}focusMainContainer(){this.#N.focus()}findParent(v,S){for(const o of this.#i.values()){const{x:m,y:C,width:_,height:P}=o.div.getBoundingClientRect();if(v>=m&&v<=m+_&&S>=C&&S<=C+P)return o}return null}disableUserSelect(v=!1){this.#U.classList.toggle("noUserSelect",v)}addShouldRescale(v){this.#f.add(v)}removeShouldRescale(v){this.#f.delete(v)}onScaleChanging({scale:v}){this.commitOrRemove(),this.viewParameters.realScale=v*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const S of this.#f)S.onScaleChanging()}onRotationChanging({pagesRotation:v}){this.commitOrRemove(),this.viewParameters.rotation=v}addToAnnotationStorage(v){!v.isEmpty()&&this.#r&&!this.#r.has(v.id)&&this.#r.setValue(v.id,v)}#z(){window.addEventListener("focus",this.#F),window.addEventListener("blur",this.#_)}#j(){window.removeEventListener("focus",this.#F),window.removeEventListener("blur",this.#_)}blur(){if(!this.hasSelection)return;const{activeElement:v}=document;for(const S of this.#g)if(S.div.contains(v)){this.#v=[S,v],S._focusEventsAllowed=!1;break}}focus(){if(!this.#v)return;const[v,S]=this.#v;this.#v=null,S.addEventListener("focusin",()=>{v._focusEventsAllowed=!0},{once:!0}),S.focus()}#O(){window.addEventListener("keydown",this.#A)}#P(){window.removeEventListener("keydown",this.#A)}#V(){document.addEventListener("copy",this.#I),document.addEventListener("cut",this.#M),document.addEventListener("paste",this.#D)}#G(){document.removeEventListener("copy",this.#I),document.removeEventListener("cut",this.#M),document.removeEventListener("paste",this.#D)}addEditListeners(){this.#O(),this.#V()}removeEditListeners(){this.#P(),this.#G()}copy(v){if(v.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const S=[];for(const o of this.#g){const m=o.serialize(!0);m&&S.push(m)}S.length!==0&&v.clipboardData.setData("application/pdfjs",JSON.stringify(S))}cut(v){this.copy(v),this.delete()}paste(v){v.preventDefault();const{clipboardData:S}=v;for(const C of S.items)for(const _ of this.#c)if(_.isHandlingMimeForPasting(C.type)){_.paste(C,this.currentLayer);return}let o=S.getData("application/pdfjs");if(!o)return;try{o=JSON.parse(o)}catch(C){(0,i.warn)(`paste: "${C.message}".`);return}if(!Array.isArray(o))return;this.unselectAll();const m=this.currentLayer;try{const C=[];for(const U of o){const H=m.deserialize(U);if(!H)return;C.push(H)}const _=()=>{for(const U of C)this.#W(U);this.#X(C)},P=()=>{for(const U of C)U.remove()};this.addCommands({cmd:_,undo:P,mustExec:!0})}catch(C){(0,i.warn)(`paste: "${C.message}".`)}}keydown(v){this.isEditorHandlingKeyboard||x._keyboardManager.exec(this,v)}onEditingAction(v){["undo","redo","delete","selectAll"].includes(v.name)&&this[v.name]()}#S(v){Object.entries(v).some(([o,m])=>this.#B[o]!==m)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#B,v)})}#q(v){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:v})}setEditingState(v){v?(this.#z(),this.#O(),this.#V(),this.#S({isEditing:this.#y!==i.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#j(),this.#P(),this.#G(),this.#S({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(v){if(!this.#c){this.#c=v;for(const S of this.#c)this.#q(S.defaultPropertiesToUpdate)}}getId(){return this.#p.getId()}get currentLayer(){return this.#i.get(this.#o)}getLayer(v){return this.#i.get(v)}get currentPageIndex(){return this.#o}addLayer(v){this.#i.set(v.pageIndex,v),this.#m?v.enable():v.disable()}removeLayer(v){this.#i.delete(v.pageIndex)}updateMode(v,S=null,o=!1){if(this.#y!==v){if(this.#y=v,v===i.AnnotationEditorType.NONE){this.setEditingState(!1),this.#Y();return}this.setEditingState(!0),this.#$(),this.unselectAll();for(const m of this.#i.values())m.updateMode(v);if(!S&&o){this.addNewEditorFromKeyboard();return}if(S){for(const m of this.#e.values())if(m.annotationElementId===S){this.setSelected(m),m.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(v){v!==this.#y&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:v})}updateParams(v,S){if(this.#c){switch(v){case i.AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case i.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:this.#w?.updateColor(S);break}for(const o of this.#g)o.updateParams(v,S);for(const o of this.#c)o.updateDefaultParams(v,S)}}enableWaiting(v=!1){if(this.#b!==v){this.#b=v;for(const S of this.#i.values())v?S.disableClick():S.enableClick(),S.div.classList.toggle("waiting",v)}}#$(){if(!this.#m){this.#m=!0;for(const v of this.#i.values())v.enable()}}#Y(){if(this.unselectAll(),this.#m){this.#m=!1;for(const v of this.#i.values())v.disable()}}getEditors(v){const S=[];for(const o of this.#e.values())o.pageIndex===v&&S.push(o);return S}getEditor(v){return this.#e.get(v)}addEditor(v){this.#e.set(v.id,v)}removeEditor(v){v.div.contains(document.activeElement)&&(this.#u&&clearTimeout(this.#u),this.#u=setTimeout(()=>{this.focusMainContainer(),this.#u=null},0)),this.#e.delete(v.id),this.unselect(v),(!v.annotationElementId||!this.#l.has(v.annotationElementId))&&this.#r?.remove(v.id)}addDeletedAnnotationElement(v){this.#l.add(v.annotationElementId),v.deleted=!0}isDeletedAnnotationElement(v){return this.#l.has(v)}removeDeletedAnnotationElement(v){this.#l.delete(v.annotationElementId),v.deleted=!1}#W(v){const S=this.#i.get(v.pageIndex);S?S.addOrRebuild(v):this.addEditor(v)}setActiveEditor(v){this.#t!==v&&(this.#t=v,v&&this.#q(v.propertiesToUpdate))}toggleSelected(v){if(this.#g.has(v)){this.#g.delete(v),v.unselect(),this.#S({hasSelectedEditor:this.hasSelection});return}this.#g.add(v),v.select(),this.#q(v.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}setSelected(v){for(const S of this.#g)S!==v&&S.unselect();this.#g.clear(),this.#g.add(v),v.select(),this.#q(v.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}isSelected(v){return this.#g.has(v)}get firstSelectedEditor(){return this.#g.values().next().value}unselect(v){v.unselect(),this.#g.delete(v),this.#S({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#g.size!==0}get isEnterHandled(){return this.#g.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#s.undo(),this.#S({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#s.redo(),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(v){this.#s.add(v),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#e.size===0)return!0;if(this.#e.size===1)for(const v of this.#e.values())return v.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const v=[...this.#g],S=()=>{for(const m of v)m.remove()},o=()=>{for(const m of v)this.#W(m)};this.addCommands({cmd:S,undo:o,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#X(v){this.#g.clear();for(const S of v)S.isEmpty()||(this.#g.add(S),S.select());this.#S({hasSelectedEditor:!0})}selectAll(){for(const v of this.#g)v.commit();this.#X(this.#e.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#y!==i.AnnotationEditorType.NONE))&&this.hasSelection){for(const v of this.#g)v.unselect();this.#g.clear(),this.#S({hasSelectedEditor:!1})}}translateSelectedEditors(v,S,o=!1){if(o||this.commitOrRemove(),!this.hasSelection)return;this.#k[0]+=v,this.#k[1]+=S;const[m,C]=this.#k,_=[...this.#g],P=1e3;this.#E&&clearTimeout(this.#E),this.#E=setTimeout(()=>{this.#E=null,this.#k[0]=this.#k[1]=0,this.addCommands({cmd:()=>{for(const U of _)this.#e.has(U.id)&&U.translateInPage(m,C)},undo:()=>{for(const U of _)this.#e.has(U.id)&&U.translateInPage(-m,-C)},mustExec:!1})},P);for(const U of _)U.translateInPage(v,S)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#h=new Map;for(const v of this.#g)this.#h.set(v,{savedX:v.x,savedY:v.y,savedPageIndex:v.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#h)return!1;this.disableUserSelect(!1);const v=this.#h;this.#h=null;let S=!1;for(const[{x:m,y:C,pageIndex:_},P]of v)P.newX=m,P.newY=C,P.newPageIndex=_,S||=m!==P.savedX||C!==P.savedY||_!==P.savedPageIndex;if(!S)return!1;const o=(m,C,_,P)=>{if(this.#e.has(m.id)){const U=this.#i.get(P);U?m._setParentAndPosition(U,C,_):(m.pageIndex=P,m.x=C,m.y=_)}};return this.addCommands({cmd:()=>{for(const[m,{newX:C,newY:_,newPageIndex:P}]of v)o(m,C,_,P)},undo:()=>{for(const[m,{savedX:C,savedY:_,savedPageIndex:P}]of v)o(m,C,_,P)},mustExec:!0}),!0}dragSelectedEditors(v,S){if(this.#h)for(const o of this.#h.keys())o.drag(v,S)}rebuild(v){if(v.parent===null){const S=this.getLayer(v.pageIndex);S?(S.changeParent(v),S.addOrRebuild(v)):(this.addEditor(v),this.addToAnnotationStorage(v),v.rebuild())}else v.parent.addOrRebuild(v)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#g.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(v){return this.#t===v}getActive(){return this.#t}getMode(){return this.#y}get imageManager(){return(0,i.shadow)(this,"imageManager",new p)}}}),171:((n,e,t)=>{t.d(e,{PDFFetchStream:()=>p});var i=t(266),a=t(253);function r(y,x,h){return{method:"GET",headers:y,signal:h.signal,mode:"cors",credentials:x?"include":"same-origin",redirect:"follow"}}function b(y){const x=new Headers;for(const h in y){const v=y[h];v!==void 0&&x.append(h,v)}return x}function l(y){return y instanceof Uint8Array?y.buffer:y instanceof ArrayBuffer?y:((0,i.warn)(`getArrayBuffer - unexpected data format: ${y}`),new Uint8Array(y).buffer)}class p{constructor(x){this.source=x,this.isHttp=/^https?:/i.test(x.url),this.httpHeaders=this.isHttp&&x.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new d(this),this._fullRequestReader}getRangeReader(x,h){if(h<=this._progressiveDataLength)return null;const v=new g(this,x,h);return this._rangeRequestReaders.push(v),v}cancelAllRequests(x){this._fullRequestReader?.cancel(x);for(const h of this._rangeRequestReaders.slice(0))h.cancel(x)}}class d{constructor(x){this._stream=x,this._reader=null,this._loaded=0,this._filename=null;const h=x.source;this._withCredentials=h.withCredentials||!1,this._contentLength=h.length,this._headersCapability=new i.PromiseCapability,this._disableRange=h.disableRange||!1,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._headers=b(this._stream.httpHeaders);const v=h.url;fetch(v,r(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,a.validateResponseStatus)(S.status))throw(0,a.createResponseStatusError)(S.status,v);this._reader=S.body.getReader(),this._headersCapability.resolve();const o=_=>S.headers.get(_),{allowRangeRequests:m,suggestedLength:C}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=C||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:x,done:h}=await this._reader.read();return h?{value:x,done:h}:(this._loaded+=x.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:l(x),done:!1})}cancel(x){this._reader?.cancel(x),this._abortController.abort()}}class g{constructor(x,h,v){this._stream=x,this._reader=null,this._loaded=0;const S=x.source;this._withCredentials=S.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!S.disableStream,this._abortController=new AbortController,this._headers=b(this._stream.httpHeaders),this._headers.append("Range",`bytes=${h}-${v-1}`);const o=S.url;fetch(o,r(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,a.validateResponseStatus)(m.status))throw(0,a.createResponseStatusError)(m.status,o);this._readCapability.resolve(),this._reader=m.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:x,done:h}=await this._reader.read();return h?{value:x,done:h}:(this._loaded+=x.byteLength,this.onProgress?.({loaded:this._loaded}),{value:l(x),done:!1})}cancel(x){this._reader?.cancel(x),this._abortController.abort()}}}),742:((n,e,t)=>{t.d(e,{FontFaceObject:()=>r,FontLoader:()=>a});var i=t(266);class a{#t=new Set;constructor({ownerDocument:l=globalThis.document,styleElement:p=null}){this._document=l,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(l){this.nativeFontFaces.add(l),this._document.fonts.add(l)}removeNativeFontFace(l){this.nativeFontFaces.delete(l),this._document.fonts.delete(l)}insertRule(l){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const p=this.styleElement.sheet;p.insertRule(l,p.cssRules.length)}clear(){for(const l of this.nativeFontFaces)this._document.fonts.delete(l);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:l,_inspectFont:p}){if(!(!l||this.#t.has(l.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:d,src:g,style:y}=l,x=new FontFace(d,g,y);this.addNativeFontFace(x);try{await x.load(),this.#t.add(d),p?.(l)}catch{(0,i.warn)(`Cannot load system font: ${l.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(x)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(l){if(l.attached||l.missingFile&&!l.systemFontInfo)return;if(l.attached=!0,l.systemFontInfo){await this.loadSystemFont(l);return}if(this.isFontLoadingAPISupported){const d=l.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(g){throw(0,i.warn)(`Failed to load font '${d.family}': '${g}'.`),l.disableFontFace=!0,g}}return}const p=l.createFontFaceRule();if(p){if(this.insertRule(p),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const g=this._queueLoadingCallback(d);this._prepareFontLoadEvent(l,g)})}}get isFontLoadingAPISupported(){const l=!!this._document?.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",l)}get isSyncFontLoadingSupported(){let l=!1;return(i.isNodeJS||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(l=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",l)}_queueLoadingCallback(l){function p(){for((0,i.assert)(!g.done,"completeRequest() cannot be called twice."),g.done=!0;d.length>0&&d[0].done;){const y=d.shift();setTimeout(y.callback,0)}}const{loadingRequests:d}=this,g={done:!1,complete:p,callback:l};return d.push(g),g}get _loadTestFont(){const l=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",l)}_prepareFontLoadEvent(l,p){function d(at,M){return at.charCodeAt(M)<<24|at.charCodeAt(M+1)<<16|at.charCodeAt(M+2)<<8|at.charCodeAt(M+3)&255}function g(at,M,X,ut){const tt=at.substring(0,M),Y=at.substring(M+X);return tt+ut+Y}let y,x;const h=this._document.createElement("canvas");h.width=1,h.height=1;const v=h.getContext("2d");let S=0;function o(at,M){if(++S>30){(0,i.warn)("Load test font never loaded."),M();return}if(v.font="30px "+at,v.fillText(".",0,20),v.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(o.bind(null,at,M))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let C=this._loadTestFont;C=g(C,976,m.length,m);const P=16,U=1482184792;let H=d(C,P);for(y=0,x=m.length-3;y<x;y+=4)H=H-U+d(m,y)|0;y<m.length&&(H=H-U+d(m+"XXX",y)|0),C=g(C,P,4,(0,i.string32)(H));const V=`url(data:font/opentype;base64,${btoa(C)});`,$=`@font-face {font-family:"${m}";src:${V}}`;this.insertRule($);const j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(const at of[l.loadedName,m]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=at,j.append(M)}this._document.body.append(j),o(m,()=>{j.remove(),p.complete()})}}class r{constructor(l,{isEvalSupported:p=!0,disableFontFace:d=!1,ignoreErrors:g=!1,inspectFont:y=null}){this.compiledGlyphs=Object.create(null);for(const x in l)this[x]=l[x];this.isEvalSupported=p!==!1,this.disableFontFace=d===!0,this.ignoreErrors=g===!0,this._inspectFont=y}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let l;if(!this.cssFontInfo)l=new FontFace(this.loadedName,this.data,{});else{const p={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(p.style=`oblique ${this.cssFontInfo.italicAngle}deg`),l=new FontFace(this.cssFontInfo.fontFamily,this.data,p)}return this._inspectFont?.(this),l}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const l=(0,i.bytesToString)(this.data),p=`url(data:${this.mimetype};base64,${btoa(l)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${p}}`;else{let g=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(g+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${g}src:${p}}`}return this._inspectFont?.(this,p),d}getPathGenerator(l,p){if(this.compiledGlyphs[p]!==void 0)return this.compiledGlyphs[p];let d;try{d=l.get(this.loadedName+"_path_"+p)}catch(g){if(!this.ignoreErrors)throw g;return(0,i.warn)(`getPathGenerator - ignoring character: "${g}".`),this.compiledGlyphs[p]=function(y,x){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const g=[];for(const y of d){const x=y.args!==void 0?y.args.join(","):"";g.push("c.",y.cmd,"(",x,`);
`)}return this.compiledGlyphs[p]=new Function("c","size",g.join(""))}return this.compiledGlyphs[p]=function(g,y){for(const x of d)x.cmd==="scale"&&(x.args=[y,-y]),g[x.cmd].apply(g,x.args)}}}}),472:((n,e,t)=>{t.d(e,{Metadata:()=>a});var i=t(266);class a{#t;#e;constructor({parsedData:b,rawData:l}){this.#t=b,this.#e=l}getRaw(){return this.#e}get(b){return this.#t.get(b)??null}getAll(){return(0,i.objectFromMap)(this.#t)}has(b){return this.#t.has(b)}}}),474:((n,e,t)=>{t.d(e,{PDFNetworkStream:()=>d});var i=t(266),a=t(253);const r=200,b=206;function l(x){const h=x.response;return typeof h!="string"?h:(0,i.stringToBytes)(h).buffer}class p{constructor(h,v={}){this.url=h,this.isHttp=/^https?:/i.test(h),this.httpHeaders=this.isHttp&&v.httpHeaders||Object.create(null),this.withCredentials=v.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(h,v,S){const o={begin:h,end:v};for(const m in S)o[m]=S[m];return this.request(o)}requestFull(h){return this.request(h)}request(h){const v=new XMLHttpRequest,S=this.currXhrId++,o=this.pendingRequests[S]={xhr:v};v.open("GET",this.url),v.withCredentials=this.withCredentials;for(const m in this.httpHeaders){const C=this.httpHeaders[m];C!==void 0&&v.setRequestHeader(m,C)}return this.isHttp&&"begin"in h&&"end"in h?(v.setRequestHeader("Range",`bytes=${h.begin}-${h.end-1}`),o.expectedStatus=b):o.expectedStatus=r,v.responseType="arraybuffer",h.onError&&(v.onerror=function(m){h.onError(v.status)}),v.onreadystatechange=this.onStateChange.bind(this,S),v.onprogress=this.onProgress.bind(this,S),o.onHeadersReceived=h.onHeadersReceived,o.onDone=h.onDone,o.onError=h.onError,o.onProgress=h.onProgress,v.send(null),S}onProgress(h,v){const S=this.pendingRequests[h];S&&S.onProgress?.(v)}onStateChange(h,v){const S=this.pendingRequests[h];if(!S)return;const o=S.xhr;if(o.readyState>=2&&S.onHeadersReceived&&(S.onHeadersReceived(),delete S.onHeadersReceived),o.readyState!==4||!(h in this.pendingRequests))return;if(delete this.pendingRequests[h],o.status===0&&this.isHttp){S.onError?.(o.status);return}const m=o.status||r;if(!(m===r&&S.expectedStatus===b)&&m!==S.expectedStatus){S.onError?.(o.status);return}const _=l(o);if(m===b){const P=o.getResponseHeader("Content-Range"),U=/bytes (\d+)-(\d+)\/(\d+)/.exec(P);S.onDone({begin:parseInt(U[1],10),chunk:_})}else _?S.onDone({begin:0,chunk:_}):S.onError?.(o.status)}getRequestXhr(h){return this.pendingRequests[h].xhr}isPendingRequest(h){return h in this.pendingRequests}abortRequest(h){const v=this.pendingRequests[h].xhr;delete this.pendingRequests[h],v.abort()}}class d{constructor(h){this._source=h,this._manager=new p(h.url,{httpHeaders:h.httpHeaders,withCredentials:h.withCredentials}),this._rangeChunkSize=h.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(h){const v=this._rangeRequestReaders.indexOf(h);v>=0&&this._rangeRequestReaders.splice(v,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}getRangeReader(h,v){const S=new y(this._manager,h,v);return S.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(S),S}cancelAllRequests(h){this._fullRequestReader?.cancel(h);for(const v of this._rangeRequestReaders.slice(0))v.cancel(h)}}class g{constructor(h,v){this._manager=h;const S={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=v.url,this._fullRequestId=h.requestFull(S),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=v.disableRange||!1,this._contentLength=v.length,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const h=this._fullRequestId,v=this._manager.getRequestXhr(h),S=C=>v.getResponseHeader(C),{allowRangeRequests:o,suggestedLength:m}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(S),this._isRangeSupported&&this._manager.abortRequest(h),this._headersReceivedCapability.resolve()}_onDone(h){if(h&&(this._requests.length>0?this._requests.shift().resolve({value:h.chunk,done:!1}):this._cachedChunks.push(h.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(h){this._storedError=(0,a.createResponseStatusError)(h,this._url),this._headersReceivedCapability.reject(this._storedError);for(const v of this._requests)v.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(h){this.onProgress?.({loaded:h.loaded,total:h.lengthComputable?h.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const h=new i.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0,this._headersReceivedCapability.reject(h);for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class y{constructor(h,v,S){this._manager=h;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=h.url,this._requestId=h.requestRange(v,S,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(h){const v=h.chunk;this._requests.length>0?this._requests.shift().resolve({value:v,done:!1}):this._queuedChunk=v,this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(h){this._storedError=(0,a.createResponseStatusError)(h,this._url);for(const v of this._requests)v.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(h){this.isStreamingSupported||this.onProgress?.({loaded:h.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const v=this._queuedChunk;return this._queuedChunk=null,{value:v,done:!1}}if(this._done)return{value:void 0,done:!0};const h=new i.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),253:((n,e,t)=>{t.d(e,{createResponseStatusError:()=>p,extractFilenameFromHeader:()=>l,validateRangeRequestCapabilities:()=>b,validateResponseStatus:()=>d});var i=t(266);function a(g){let y=!0,x=h("filename\\*","i").exec(g);if(x){x=x[1];let P=m(x);return P=unescape(P),P=C(P),P=_(P),S(P)}if(x=o(g),x){const P=_(x);return S(P)}if(x=h("filename","i").exec(g),x){x=x[1];let P=m(x);return P=_(P),S(P)}function h(P,U){return new RegExp("(?:^|;)\\s*"+P+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',U)}function v(P,U){if(P){if(!/^[\x00-\xFF]+$/.test(U))return U;try{const H=new TextDecoder(P,{fatal:!0}),V=(0,i.stringToBytes)(U);U=H.decode(V),y=!1}catch{}}return U}function S(P){return y&&/[\x80-\xff]/.test(P)&&(P=v("utf-8",P),y&&(P=v("iso-8859-1",P))),P}function o(P){const U=[];let H;const V=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(H=V.exec(P))!==null;){let[,j,at,M]=H;if(j=parseInt(j,10),j in U){if(j===0)break;continue}U[j]=[at,M]}const $=[];for(let j=0;j<U.length&&j in U;++j){let[at,M]=U[j];M=m(M),at&&(M=unescape(M),j===0&&(M=C(M))),$.push(M)}return $.join("")}function m(P){if(P.startsWith('"')){const U=P.slice(1).split('\\"');for(let H=0;H<U.length;++H){const V=U[H].indexOf('"');V!==-1&&(U[H]=U[H].slice(0,V),U.length=H+1),U[H]=U[H].replaceAll(/\\(.)/g,"$1")}P=U.join('"')}return P}function C(P){const U=P.indexOf("'");if(U===-1)return P;const H=P.slice(0,U),$=P.slice(U+1).replace(/^[^']*'/,"");return v(H,$)}function _(P){return!P.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(P)?P:P.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(U,H,V,$){if(V==="q"||V==="Q")return $=$.replaceAll("_"," "),$=$.replaceAll(/=([0-9a-fA-F]{2})/g,function(j,at){return String.fromCharCode(parseInt(at,16))}),v(H,$);try{$=atob($)}catch{}return v(H,$)})}return""}var r=t(473);function b({getResponseHeader:g,isHttp:y,rangeChunkSize:x,disableRange:h}){const v={allowRangeRequests:!1,suggestedLength:void 0},S=parseInt(g("Content-Length"),10);return!Number.isInteger(S)||(v.suggestedLength=S,S<=2*x)||h||!y||g("Accept-Ranges")!=="bytes"||(g("Content-Encoding")||"identity")!=="identity"||(v.allowRangeRequests=!0),v}function l(g){const y=g("Content-Disposition");if(y){let x=a(y);if(x.includes("%"))try{x=decodeURIComponent(x)}catch{}if((0,r.isPdfFile)(x))return x}return null}function p(g,y){return g===404||g===0&&y.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+y+'".'):new i.UnexpectedResponseException(`Unexpected server response (${g}) while retrieving PDF "${y}".`,g)}function d(g){return g===200||g===206}}),498:((n,e,t)=>{t.a(n,async(i,a)=>{try{let x=function(U){const H=g.parse(U);return H.protocol==="file:"||H.host?H:/^[a-z]:[/\\]/i.test(U)?g.parse(`file:///${U}`):(H.host||(H.protocol="file:"),H)},o=function(U,H){return{protocol:U.protocol,auth:U.auth,host:U.hostname,port:U.port,path:U.path,method:"GET",headers:H}};t.d(e,{PDFNodeStream:()=>h});var r=t(266),b=t(253);let l,p,d,g;r.isNodeJS&&(l=await vn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),p=await vn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),d=await vn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),g=await vn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url));const y=/^file:\/\/\/[a-zA-Z]:\//;class h{constructor(H){this.source=H,this.url=x(H.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&H.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _(this):new m(this),this._fullRequestReader}getRangeReader(H,V){if(V<=this._progressiveDataLength)return null;const $=this.isFsUrl?new P(this,H,V):new C(this,H,V);return this._rangeRequestReaders.push($),$}cancelAllRequests(H){this._fullRequestReader?.cancel(H);for(const V of this._rangeRequestReaders.slice(0))V.cancel(H)}}class v{constructor(H){this._url=H.url,this._done=!1,this._storedError=null,this.onProgress=null;const V=H.source;this._contentLength=V.length,this._loaded=0,this._filename=null,this._disableRange=V.disableRange||!1,this._rangeChunkSize=V.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!V.disableStream,this._isRangeSupported=!V.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const H=this._readableStream.read();return H===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=H.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(H).buffer,done:!1})}cancel(H){if(!this._readableStream){this._error(H);return}this._readableStream.destroy(H)}_error(H){this._storedError=H,this._readCapability.resolve()}_setReadableStream(H){this._readableStream=H,H.on("readable",()=>{this._readCapability.resolve()}),H.on("end",()=>{H.destroy(),this._done=!0,this._readCapability.resolve()}),H.on("error",V=>{this._error(V)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class S{constructor(H){this._url=H.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;const V=H.source;this._isStreamingSupported=!V.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const H=this._readableStream.read();return H===null?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=H.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(H).buffer,done:!1})}cancel(H){if(!this._readableStream){this._error(H);return}this._readableStream.destroy(H)}_error(H){this._storedError=H,this._readCapability.resolve()}_setReadableStream(H){this._readableStream=H,H.on("readable",()=>{this._readCapability.resolve()}),H.on("end",()=>{H.destroy(),this._done=!0,this._readCapability.resolve()}),H.on("error",V=>{this._error(V)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class m extends v{constructor(H){super(H);const V=$=>{if($.statusCode===404){const X=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=X,this._headersCapability.reject(X);return}this._headersCapability.resolve(),this._setReadableStream($);const j=X=>this._readableStream.headers[X.toLowerCase()],{allowRangeRequests:at,suggestedLength:M}=(0,b.validateRangeRequestCapabilities)({getResponseHeader:j,isHttp:H.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=at,this._contentLength=M||this._contentLength,this._filename=(0,b.extractFilenameFromHeader)(j)};this._request=null,this._url.protocol==="http:"?this._request=p.request(o(this._url,H.httpHeaders),V):this._request=d.request(o(this._url,H.httpHeaders),V),this._request.on("error",$=>{this._storedError=$,this._headersCapability.reject($)}),this._request.end()}}class C extends S{constructor(H,V,$){super(H),this._httpHeaders={};for(const at in H.httpHeaders){const M=H.httpHeaders[at];M!==void 0&&(this._httpHeaders[at]=M)}this._httpHeaders.Range=`bytes=${V}-${$-1}`;const j=at=>{if(at.statusCode===404){const M=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=M;return}this._setReadableStream(at)};this._request=null,this._url.protocol==="http:"?this._request=p.request(o(this._url,this._httpHeaders),j):this._request=d.request(o(this._url,this._httpHeaders),j),this._request.on("error",at=>{this._storedError=at}),this._request.end()}}class _ extends v{constructor(H){super(H);let V=decodeURIComponent(this._url.path);y.test(this._url.href)&&(V=V.replace(/^\//,"")),l.lstat(V,($,j)=>{if($){$.code==="ENOENT"&&($=new r.MissingPDFException(`Missing PDF "${V}".`)),this._storedError=$,this._headersCapability.reject($);return}this._contentLength=j.size,this._setReadableStream(l.createReadStream(V)),this._headersCapability.resolve()})}}class P extends S{constructor(H,V,$){super(H);let j=decodeURIComponent(this._url.path);y.test(this._url.href)&&(j=j.replace(/^\//,"")),this._setReadableStream(l.createReadStream(j,{start:V,end:$-1}))}}a()}catch(l){a(l)}},1)}),738:((n,e,t)=>{t.a(n,async(i,a)=>{try{t.d(e,{NodeCMapReaderFactory:()=>h,NodeCanvasFactory:()=>x,NodeFilterFactory:()=>y,NodeStandardFontDataFactory:()=>v});var r=t(822),b=t(266);let l,p,d;if(b.isNodeJS){l=await vn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url);try{p=await vn(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url)}catch{}try{d=await vn(()=>import("./path2d-polyfill.esm-BlsVoZcq.js"),[],import.meta.url)}catch{}}const g=function(S){return new Promise((o,m)=>{l.readFile(S,(C,_)=>{if(C||!_){m(new Error(C));return}o(new Uint8Array(_))})})};class y extends r.BaseFilterFactory{}class x extends r.BaseCanvasFactory{_createCanvas(o,m){return p.createCanvas(o,m)}}class h extends r.BaseCMapReaderFactory{_fetchData(o,m){return g(o).then(C=>({cMapData:C,compressionType:m}))}}class v extends r.BaseStandardFontDataFactory{_fetchData(o){return g(o)}}a()}catch(l){a(l)}},1)}),890:((n,e,t)=>{t.d(e,{OptionalContentConfig:()=>l});var i=t(266),a=t(825);const r=Symbol("INTERNAL");class b{#t=!0;constructor(d,g){this.name=d,this.intent=g}get visible(){return this.#t}_setVisible(d,g){d!==r&&(0,i.unreachable)("Internal method `_setVisible` called."),this.#t=g}}class l{#t=null;#e=new Map;#i=null;#n=null;constructor(d){if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,this.#n=d.order;for(const g of d.groups)this.#e.set(g.id,new b(g.name,g.intent));if(d.baseState==="OFF")for(const g of this.#e.values())g._setVisible(r,!1);for(const g of d.on)this.#e.get(g)._setVisible(r,!0);for(const g of d.off)this.#e.get(g)._setVisible(r,!1);this.#i=this.getHash()}}#r(d){const g=d.length;if(g<2)return!0;const y=d[0];for(let x=1;x<g;x++){const h=d[x];let v;if(Array.isArray(h))v=this.#r(h);else if(this.#e.has(h))v=this.#e.get(h).visible;else return(0,i.warn)(`Optional content group not found: ${h}`),!0;switch(y){case"And":if(!v)return!1;break;case"Or":if(v)return!0;break;case"Not":return!v;default:return!0}}return y==="And"}isVisible(d){if(this.#e.size===0)return!0;if(!d)return(0,i.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return this.#e.has(d.id)?this.#e.get(d.id).visible:((0,i.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return this.#r(d.expression);if(!d.policy||d.policy==="AnyOn"){for(const g of d.ids){if(!this.#e.has(g))return(0,i.warn)(`Optional content group not found: ${g}`),!0;if(this.#e.get(g).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const g of d.ids){if(!this.#e.has(g))return(0,i.warn)(`Optional content group not found: ${g}`),!0;if(!this.#e.get(g).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const g of d.ids){if(!this.#e.has(g))return(0,i.warn)(`Optional content group not found: ${g}`),!0;if(!this.#e.get(g).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const g of d.ids){if(!this.#e.has(g))return(0,i.warn)(`Optional content group not found: ${g}`),!0;if(this.#e.get(g).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,i.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,g=!0){if(!this.#e.has(d)){(0,i.warn)(`Optional content group not found: ${d}`);return}this.#e.get(d)._setVisible(r,!!g),this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroups(){return this.#e.size>0?(0,i.objectFromMap)(this.#e):null}getGroup(d){return this.#e.get(d)||null}getHash(){if(this.#t!==null)return this.#t;const d=new a.MurmurHash3_64;for(const[g,y]of this.#e)d.update(`${g}:${y.visible}`);return this.#t=d.hexdigest()}}}),739:((n,e,t)=>{t.d(e,{renderTextLayer:()=>S,updateTextLayer:()=>o});var i=t(266),a=t(473);const r=1e5,b=30,l=.8,p=new Map;function d(m,C){let _;if(C&&i.FeatureTest.isOffscreenCanvasSupported)_=new OffscreenCanvas(m,m).getContext("2d",{alpha:!1});else{const P=document.createElement("canvas");P.width=P.height=m,_=P.getContext("2d",{alpha:!1})}return _}function g(m,C){const _=p.get(m);if(_)return _;const P=d(b,C);P.font=`${b}px ${m}`;const U=P.measureText("");let H=U.fontBoundingBoxAscent,V=Math.abs(U.fontBoundingBoxDescent);if(H){const j=H/(H+V);return p.set(m,j),P.canvas.width=P.canvas.height=0,j}P.strokeStyle="red",P.clearRect(0,0,b,b),P.strokeText("g",0,0);let $=P.getImageData(0,0,b,b).data;V=0;for(let j=$.length-1-3;j>=0;j-=4)if($[j]>0){V=Math.ceil(j/4/b);break}P.clearRect(0,0,b,b),P.strokeText("A",0,b),$=P.getImageData(0,0,b,b).data,H=0;for(let j=0,at=$.length;j<at;j+=4)if($[j]>0){H=b-Math.floor(j/4/b);break}if(P.canvas.width=P.canvas.height=0,H){const j=H/(H+V);return p.set(m,j),j}return p.set(m,l),l}function y(m,C,_){const P=document.createElement("span"),U={angle:0,canvasWidth:0,hasText:C.str!=="",hasEOL:C.hasEOL,fontSize:0};m._textDivs.push(P);const H=i.Util.transform(m._transform,C.transform);let V=Math.atan2(H[1],H[0]);const $=_[C.fontName];$.vertical&&(V+=Math.PI/2);const j=m._fontInspectorEnabled&&$.fontSubstitution||$.fontFamily,at=Math.hypot(H[2],H[3]),M=at*g(j,m._isOffscreenCanvasSupported);let X,ut;V===0?(X=H[4],ut=H[5]-M):(X=H[4]+M*Math.sin(V),ut=H[5]-M*Math.cos(V));const tt="calc(var(--scale-factor)*",Y=P.style;m._container===m._rootContainer?(Y.left=`${(100*X/m._pageWidth).toFixed(2)}%`,Y.top=`${(100*ut/m._pageHeight).toFixed(2)}%`):(Y.left=`${tt}${X.toFixed(2)}px)`,Y.top=`${tt}${ut.toFixed(2)}px)`),Y.fontSize=`${tt}${at.toFixed(2)}px)`,Y.fontFamily=j,U.fontSize=at,P.setAttribute("role","presentation"),P.textContent=C.str,P.dir=C.dir,m._fontInspectorEnabled&&(P.dataset.fontName=$.fontSubstitutionLoadedName||C.fontName),V!==0&&(U.angle=V*(180/Math.PI));let nt=!1;if(C.str.length>1)nt=!0;else if(C.str!==" "&&C.transform[0]!==C.transform[3]){const bt=Math.abs(C.transform[0]),gt=Math.abs(C.transform[3]);bt!==gt&&Math.max(bt,gt)/Math.min(bt,gt)>1.5&&(nt=!0)}nt&&(U.canvasWidth=$.vertical?C.height:C.width),m._textDivProperties.set(P,U),m._isReadableStream&&m._layoutText(P)}function x(m){const{div:C,scale:_,properties:P,ctx:U,prevFontSize:H,prevFontFamily:V}=m,{style:$}=C;let j="";if(P.canvasWidth!==0&&P.hasText){const{fontFamily:at}=$,{canvasWidth:M,fontSize:X}=P;(H!==X||V!==at)&&(U.font=`${X*_}px ${at}`,m.prevFontSize=X,m.prevFontFamily=at);const{width:ut}=U.measureText(C.textContent);ut>0&&(j=`scaleX(${M*_/ut})`)}P.angle!==0&&(j=`rotate(${P.angle}deg) ${j}`),j.length>0&&($.transform=j)}function h(m){if(m._canceled)return;const C=m._textDivs,_=m._capability;if(C.length>r){_.resolve();return}if(!m._isReadableStream)for(const U of C)m._layoutText(U);_.resolve()}class v{constructor({textContentSource:C,container:_,viewport:P,textDivs:U,textDivProperties:H,textContentItemsStr:V,isOffscreenCanvasSupported:$}){this._textContentSource=C,this._isReadableStream=C instanceof ReadableStream,this._container=this._rootContainer=_,this._textDivs=U||[],this._textContentItemsStr=V||[],this._isOffscreenCanvasSupported=$,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=H||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:P.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:d(0,$)};const{pageWidth:j,pageHeight:at,pageX:M,pageY:X}=P.rawDims;this._transform=[1,0,0,-1,-M,X+at],this._pageWidth=j,this._pageHeight=at,(0,a.setLayerDimensions)(_,P),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(C,_){for(const P of C){if(P.str===void 0){if(P.type==="beginMarkedContentProps"||P.type==="beginMarkedContent"){const U=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),P.id!==null&&this._container.setAttribute("id",`${P.id}`),U.append(this._container)}else P.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(P.str),y(this,P,_)}}_layoutText(C){const _=this._layoutTextParams.properties=this._textDivProperties.get(C);if(this._layoutTextParams.div=C,x(this._layoutTextParams),_.hasText&&this._container.append(C),_.hasEOL){const P=document.createElement("br");P.setAttribute("role","presentation"),this._container.append(P)}}_render(){const C=new i.PromiseCapability;let _=Object.create(null);if(this._isReadableStream){const P=()=>{this._reader.read().then(({value:U,done:H})=>{if(H){C.resolve();return}Object.assign(_,U.styles),this._processItems(U.items,_),P()},C.reject)};this._reader=this._textContentSource.getReader(),P()}else if(this._textContentSource){const{items:P,styles:U}=this._textContentSource;this._processItems(P,U),C.resolve()}else throw new Error('No "textContentSource" parameter specified.');C.promise.then(()=>{_=null,h(this)},this._capability.reject)}}function S(m){const C=new v(m);return C._render(),C}function o({container:m,viewport:C,textDivs:_,textDivProperties:P,isOffscreenCanvasSupported:U,mustRotate:H=!0,mustRescale:V=!0}){if(H&&(0,a.setLayerDimensions)(m,{rotation:C.rotation}),V){const $=d(0,U),at={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:$};for(const M of _)at.properties=P.get(M),at.div=M,x(at)}}}),92:((n,e,t)=>{t.d(e,{PDFDataTransportStream:()=>r});var i=t(266),a=t(473);class r{constructor({length:d,initialData:g,progressiveDone:y=!1,contentDispositionFilename:x=null,disableRange:h=!1,disableStream:v=!1},S){if((0,i.assert)(S,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=y,this._contentDispositionFilename=x,g?.length>0){const o=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=S,this._isStreamingSupported=!v,this._isRangeSupported=!h,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((o,m)=>{this._onReceiveData({begin:o,chunk:m})}),this._pdfDataRangeTransport.addProgressListener((o,m)=>{this._onProgress({loaded:o,total:m})}),this._pdfDataRangeTransport.addProgressiveReadListener(o=>{this._onReceiveData({chunk:o})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:d,chunk:g}){const y=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;if(d===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(y):this._queuedChunks.push(y);else{const x=this._rangeReaders.some(function(h){return h._begin!==d?!1:(h._enqueue(y),!0)});(0,i.assert)(x,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(d){d.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:d.loaded}):this._fullRequestReader?.onProgress?.({loaded:d.loaded,total:d.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(d){const g=this._rangeReaders.indexOf(d);g>=0&&this._rangeReaders.splice(g,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const d=this._queuedChunks;return this._queuedChunks=null,new b(this,d,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(d,g){if(g<=this._progressiveDataLength)return null;const y=new l(this,d,g);return this._pdfDataRangeTransport.requestDataRange(d,g),this._rangeReaders.push(y),y}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const g of this._rangeReaders.slice(0))g.cancel(d);this._pdfDataRangeTransport.abort()}}class b{constructor(d,g,y=!1,x=null){this._stream=d,this._done=y||!1,this._filename=(0,a.isPdfFile)(x)?x:null,this._queuedChunks=g||[],this._loaded=0;for(const h of this._queuedChunks)this._loaded+=h.byteLength;this._requests=[],this._headersReady=Promise.resolve(),d._fullRequestReader=this,this.onProgress=null}_enqueue(d){this._done||(this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunks.push(d),this._loaded+=d.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new i.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class l{constructor(d,g,y){this._stream=d,this._begin=g,this._end=y,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(d){if(!this._done){if(this._requests.length===0)this._queuedChunk=d;else{this._requests.shift().resolve({value:d,done:!1});for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new i.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),368:((n,e,t)=>{t.d(e,{GlobalWorkerOptions:()=>i});const i=Object.create(null);i.workerPort=null,i.workerSrc=""}),160:((n,e,t)=>{t.d(e,{XfaLayer:()=>a});var i=t(521);class a{static setupStorage(b,l,p,d,g){const y=d.getValue(l,{value:null});switch(p.name){case"textarea":if(y.value!==null&&(b.textContent=y.value),g==="print")break;b.addEventListener("input",x=>{d.setValue(l,{value:x.target.value})});break;case"input":if(p.attributes.type==="radio"||p.attributes.type==="checkbox"){if(y.value===p.attributes.xfaOn?b.setAttribute("checked",!0):y.value===p.attributes.xfaOff&&b.removeAttribute("checked"),g==="print")break;b.addEventListener("change",x=>{d.setValue(l,{value:x.target.checked?x.target.getAttribute("xfaOn"):x.target.getAttribute("xfaOff")})})}else{if(y.value!==null&&b.setAttribute("value",y.value),g==="print")break;b.addEventListener("input",x=>{d.setValue(l,{value:x.target.value})})}break;case"select":if(y.value!==null){b.setAttribute("value",y.value);for(const x of p.children)x.attributes.value===y.value?x.attributes.selected=!0:x.attributes.hasOwnProperty("selected")&&delete x.attributes.selected}b.addEventListener("input",x=>{const h=x.target.options,v=h.selectedIndex===-1?"":h[h.selectedIndex].value;d.setValue(l,{value:v})});break}}static setAttributes({html:b,element:l,storage:p=null,intent:d,linkService:g}){const{attributes:y}=l,x=b instanceof HTMLAnchorElement;y.type==="radio"&&(y.name=`${y.name}-${d}`);for(const[h,v]of Object.entries(y))if(v!=null)switch(h){case"class":v.length&&b.setAttribute(h,v.join(" "));break;case"dataId":break;case"id":b.setAttribute("data-element-id",v);break;case"style":Object.assign(b.style,v);break;case"textContent":b.textContent=v;break;default:(!x||h!=="href"&&h!=="newWindow")&&b.setAttribute(h,v)}x&&g.addLinkAttributes(b,y.href,y.newWindow),p&&y.dataId&&this.setupStorage(b,y.dataId,l,p)}static render(b){const l=b.annotationStorage,p=b.linkService,d=b.xfaHtml,g=b.intent||"display",y=document.createElement(d.name);d.attributes&&this.setAttributes({html:y,element:d,intent:g,linkService:p});const x=g!=="richText",h=b.div;if(h.append(y),b.viewport){const o=`matrix(${b.viewport.transform.join(",")})`;h.style.transform=o}x&&h.setAttribute("class","xfaLayer xfaFont");const v=[];if(d.children.length===0){if(d.value){const o=document.createTextNode(d.value);y.append(o),x&&i.XfaText.shouldBuildText(d.name)&&v.push(o)}return{textDivs:v}}const S=[[d,-1,y]];for(;S.length>0;){const[o,m,C]=S.at(-1);if(m+1===o.children.length){S.pop();continue}const _=o.children[++S.at(-1)[1]];if(_===null)continue;const{name:P}=_;if(P==="#text"){const H=document.createTextNode(_.value);v.push(H),C.append(H);continue}const U=_?.attributes?.xmlns?document.createElementNS(_.attributes.xmlns,P):document.createElement(P);if(C.append(U),_.attributes&&this.setAttributes({html:U,element:_,storage:l,intent:g,linkService:p}),_.children?.length>0)S.push([_,-1,U]);else if(_.value){const H=document.createTextNode(_.value);x&&i.XfaText.shouldBuildText(P)&&v.push(H),U.append(H)}}for(const o of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))o.setAttribute("readOnly",!0);return{textDivs:v}}static update(b){const l=`matrix(${b.viewport.transform.join(",")})`;b.div.style.transform=l,b.div.hidden=!1}}}),521:((n,e,t)=>{t.d(e,{XfaText:()=>i});class i{static textContent(r){const b=[],l={items:b,styles:Object.create(null)};function p(d){if(!d)return;let g=null;const y=d.name;if(y==="#text")g=d.value;else if(i.shouldBuildText(y))d?.attributes?.textContent?g=d.attributes.textContent:d.value&&(g=d.value);else return;if(g!==null&&b.push({str:g}),!!d.children)for(const x of d.children)p(x)}return p(r),l}static shouldBuildText(r){return!(r==="textarea"||r==="input"||r==="option"||r==="select")}}}),907:((n,e,t)=>{t.a(n,async(i,a)=>{try{t.d(e,{AbortException:()=>r.AbortException,AnnotationEditorLayer:()=>d.AnnotationEditorLayer,AnnotationEditorParamsType:()=>r.AnnotationEditorParamsType,AnnotationEditorType:()=>r.AnnotationEditorType,AnnotationEditorUIManager:()=>g.AnnotationEditorUIManager,AnnotationLayer:()=>y.AnnotationLayer,AnnotationMode:()=>r.AnnotationMode,CMapCompressionType:()=>r.CMapCompressionType,ColorPicker:()=>x.ColorPicker,DOMSVGFactory:()=>l.DOMSVGFactory,DrawLayer:()=>h.DrawLayer,FeatureTest:()=>r.FeatureTest,GlobalWorkerOptions:()=>v.GlobalWorkerOptions,ImageKind:()=>r.ImageKind,InvalidPDFException:()=>r.InvalidPDFException,MissingPDFException:()=>r.MissingPDFException,OPS:()=>r.OPS,Outliner:()=>S.Outliner,PDFDataRangeTransport:()=>b.PDFDataRangeTransport,PDFDateString:()=>l.PDFDateString,PDFWorker:()=>b.PDFWorker,PasswordResponses:()=>r.PasswordResponses,PermissionFlag:()=>r.PermissionFlag,PixelsPerInch:()=>l.PixelsPerInch,PromiseCapability:()=>r.PromiseCapability,RenderingCancelledException:()=>l.RenderingCancelledException,UnexpectedResponseException:()=>r.UnexpectedResponseException,Util:()=>r.Util,VerbosityLevel:()=>r.VerbosityLevel,XfaLayer:()=>o.XfaLayer,build:()=>b.build,createValidAbsoluteUrl:()=>r.createValidAbsoluteUrl,fetchData:()=>l.fetchData,getDocument:()=>b.getDocument,getFilenameFromUrl:()=>l.getFilenameFromUrl,getPdfFilenameFromUrl:()=>l.getPdfFilenameFromUrl,getXfaPageViewport:()=>l.getXfaPageViewport,isDataScheme:()=>l.isDataScheme,isPdfFile:()=>l.isPdfFile,noContextMenu:()=>l.noContextMenu,normalizeUnicode:()=>r.normalizeUnicode,renderTextLayer:()=>p.renderTextLayer,setLayerDimensions:()=>l.setLayerDimensions,shadow:()=>r.shadow,updateTextLayer:()=>p.updateTextLayer,version:()=>b.version});var r=t(266),b=t(406),l=t(473),p=t(739),d=t(629),g=t(812),y=t(640),x=t(97),h=t(423),v=t(368),S=t(405),o=t(160),m=i([b]);b=(m.then?(await m)():m)[0];const C="4.0.379",_="9e14d04fd";a()}catch(C){a(C)}})}),694:((n,e,t)=>{t.d(e,{MessageHandler:()=>l});var i=t(266);const a={DATA:1,ERROR:2},r={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function b(p){switch(p instanceof Error||typeof p=="object"&&p!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),p.name){case"AbortException":return new i.AbortException(p.message);case"MissingPDFException":return new i.MissingPDFException(p.message);case"PasswordException":return new i.PasswordException(p.message,p.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(p.message,p.status);case"UnknownErrorException":return new i.UnknownErrorException(p.message,p.details);default:return new i.UnknownErrorException(p.message,p.toString())}}class l{constructor(d,g,y){this.sourceName=d,this.targetName=g,this.comObj=y,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=x=>{const h=x.data;if(h.targetName!==this.sourceName)return;if(h.stream){this.#e(h);return}if(h.callback){const S=h.callbackId,o=this.callbackCapabilities[S];if(!o)throw new Error(`Cannot resolve callback ${S}`);if(delete this.callbackCapabilities[S],h.callback===a.DATA)o.resolve(h.data);else if(h.callback===a.ERROR)o.reject(b(h.reason));else throw new Error("Unexpected callback case");return}const v=this.actionHandler[h.action];if(!v)throw new Error(`Unknown action from worker: ${h.action}`);if(h.callbackId){const S=this.sourceName,o=h.sourceName;new Promise(function(m){m(v(h.data))}).then(function(m){y.postMessage({sourceName:S,targetName:o,callback:a.DATA,callbackId:h.callbackId,data:m})},function(m){y.postMessage({sourceName:S,targetName:o,callback:a.ERROR,callbackId:h.callbackId,reason:b(m)})});return}if(h.streamId){this.#t(h);return}v(h.data)},y.addEventListener("message",this._onComObjOnMessage)}on(d,g){const y=this.actionHandler;if(y[d])throw new Error(`There is already an actionName called "${d}"`);y[d]=g}send(d,g,y){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:g},y)}sendWithPromise(d,g,y){const x=this.callbackId++,h=new i.PromiseCapability;this.callbackCapabilities[x]=h;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:x,data:g},y)}catch(v){h.reject(v)}return h.promise}sendWithStream(d,g,y,x){const h=this.streamId++,v=this.sourceName,S=this.targetName,o=this.comObj;return new ReadableStream({start:m=>{const C=new i.PromiseCapability;return this.streamControllers[h]={controller:m,startCall:C,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:v,targetName:S,action:d,streamId:h,data:g,desiredSize:m.desiredSize},x),C.promise},pull:m=>{const C=new i.PromiseCapability;return this.streamControllers[h].pullCall=C,o.postMessage({sourceName:v,targetName:S,stream:r.PULL,streamId:h,desiredSize:m.desiredSize}),C.promise},cancel:m=>{(0,i.assert)(m instanceof Error,"cancel must have a valid reason");const C=new i.PromiseCapability;return this.streamControllers[h].cancelCall=C,this.streamControllers[h].isClosed=!0,o.postMessage({sourceName:v,targetName:S,stream:r.CANCEL,streamId:h,reason:b(m)}),C.promise}},y)}#t(d){const g=d.streamId,y=this.sourceName,x=d.sourceName,h=this.comObj,v=this,S=this.actionHandler[d.action],o={enqueue(m,C=1,_){if(this.isCancelled)return;const P=this.desiredSize;this.desiredSize-=C,P>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),h.postMessage({sourceName:y,targetName:x,stream:r.ENQUEUE,streamId:g,chunk:m},_)},close(){this.isCancelled||(this.isCancelled=!0,h.postMessage({sourceName:y,targetName:x,stream:r.CLOSE,streamId:g}),delete v.streamSinks[g])},error(m){(0,i.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,h.postMessage({sourceName:y,targetName:x,stream:r.ERROR,streamId:g,reason:b(m)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[g]=o,new Promise(function(m){m(S(d.data,o))}).then(function(){h.postMessage({sourceName:y,targetName:x,stream:r.START_COMPLETE,streamId:g,success:!0})},function(m){h.postMessage({sourceName:y,targetName:x,stream:r.START_COMPLETE,streamId:g,reason:b(m)})})}#e(d){const g=d.streamId,y=this.sourceName,x=d.sourceName,h=this.comObj,v=this.streamControllers[g],S=this.streamSinks[g];switch(d.stream){case r.START_COMPLETE:d.success?v.startCall.resolve():v.startCall.reject(b(d.reason));break;case r.PULL_COMPLETE:d.success?v.pullCall.resolve():v.pullCall.reject(b(d.reason));break;case r.PULL:if(!S){h.postMessage({sourceName:y,targetName:x,stream:r.PULL_COMPLETE,streamId:g,success:!0});break}S.desiredSize<=0&&d.desiredSize>0&&S.sinkCapability.resolve(),S.desiredSize=d.desiredSize,new Promise(function(o){o(S.onPull?.())}).then(function(){h.postMessage({sourceName:y,targetName:x,stream:r.PULL_COMPLETE,streamId:g,success:!0})},function(o){h.postMessage({sourceName:y,targetName:x,stream:r.PULL_COMPLETE,streamId:g,reason:b(o)})});break;case r.ENQUEUE:if((0,i.assert)(v,"enqueue should have stream controller"),v.isClosed)break;v.controller.enqueue(d.chunk);break;case r.CLOSE:if((0,i.assert)(v,"close should have stream controller"),v.isClosed)break;v.isClosed=!0,v.controller.close(),this.#i(v,g);break;case r.ERROR:(0,i.assert)(v,"error should have stream controller"),v.controller.error(b(d.reason)),this.#i(v,g);break;case r.CANCEL_COMPLETE:d.success?v.cancelCall.resolve():v.cancelCall.reject(b(d.reason)),this.#i(v,g);break;case r.CANCEL:if(!S)break;new Promise(function(o){o(S.onCancel?.(b(d.reason)))}).then(function(){h.postMessage({sourceName:y,targetName:x,stream:r.CANCEL_COMPLETE,streamId:g,success:!0})},function(o){h.postMessage({sourceName:y,targetName:x,stream:r.CANCEL_COMPLETE,streamId:g,reason:b(o)})}),S.sinkCapability.reject(b(d.reason)),S.isCancelled=!0,delete this.streamSinks[g];break;default:throw new Error("Unexpected stream case")}}async#i(d,g){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[g]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}}),825:((n,e,t)=>{t.d(e,{MurmurHash3_64:()=>l});var i=t(266);const a=3285377520,r=4294901760,b=65535;class l{constructor(d){this.h1=d?d&4294967295:a,this.h2=d?d&4294967295:a}update(d){let g,y;if(typeof d=="string"){g=new Uint8Array(d.length*2),y=0;for(let V=0,$=d.length;V<$;V++){const j=d.charCodeAt(V);j<=255?g[y++]=j:(g[y++]=j>>>8,g[y++]=j&255)}}else if((0,i.isArrayBuffer)(d))g=d.slice(),y=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const x=y>>2,h=y-x*4,v=new Uint32Array(g.buffer,0,x);let S=0,o=0,m=this.h1,C=this.h2;const _=3432918353,P=461845907,U=_&b,H=P&b;for(let V=0;V<x;V++)V&1?(S=v[V],S=S*_&r|S*U&b,S=S<<15|S>>>17,S=S*P&r|S*H&b,m^=S,m=m<<13|m>>>19,m=m*5+3864292196):(o=v[V],o=o*_&r|o*U&b,o=o<<15|o>>>17,o=o*P&r|o*H&b,C^=o,C=C<<13|C>>>19,C=C*5+3864292196);switch(S=0,h){case 3:S^=g[x*4+2]<<16;case 2:S^=g[x*4+1]<<8;case 1:S^=g[x*4],S=S*_&r|S*U&b,S=S<<15|S>>>17,S=S*P&r|S*H&b,x&1?m^=S:C^=S}this.h1=m,this.h2=C}hexdigest(){let d=this.h1,g=this.h2;return d^=g>>>1,d=d*3981806797&r|d*36045&b,g=g*4283543511&r|((g<<16|d>>>16)*2950163797&r)>>>16,d^=g>>>1,d=d*444984403&r|d*60499&b,g=g*3301882366&r|((g<<16|d>>>16)*3120437893&r)>>>16,d^=g>>>1,(d>>>0).toString(16).padStart(8,"0")+(g>>>0).toString(16).padStart(8,"0")}}}),266:((n,e,t)=>{t.d(e,{AbortException:()=>it,AnnotationBorderStyleType:()=>m,AnnotationEditorParamsType:()=>x,AnnotationEditorPrefix:()=>g,AnnotationEditorType:()=>y,AnnotationMode:()=>d,AnnotationPrefix:()=>pt,AnnotationType:()=>o,BaseException:()=>nt,CMapCompressionType:()=>_,FONT_IDENTITY_MATRIX:()=>r,FeatureTest:()=>u,FormatError:()=>B,IDENTITY_MATRIX:()=>a,ImageKind:()=>S,InvalidPDFException:()=>yt,LINE_FACTOR:()=>l,MAX_IMAGE_SIZE_TO_CACHE:()=>b,MissingPDFException:()=>Nt,OPS:()=>P,PasswordException:()=>bt,PasswordResponses:()=>U,PermissionFlag:()=>h,PromiseCapability:()=>k,RenderingIntentFlag:()=>p,TextRenderingMode:()=>v,UnexpectedResponseException:()=>Ct,UnknownErrorException:()=>gt,Util:()=>N,VerbosityLevel:()=>C,assert:()=>X,bytesToString:()=>st,createValidAbsoluteUrl:()=>tt,getUuid:()=>Z,getVerbosityLevel:()=>$,info:()=>j,isArrayBuffer:()=>R,isNodeJS:()=>i,normalizeUnicode:()=>K,objectFromMap:()=>T,setVerbosityLevel:()=>V,shadow:()=>Y,string32:()=>dt,stringToBytes:()=>ft,unreachable:()=>M,warn:()=>at});const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),a=[1,0,0,1,0,0],r=[.001,0,0,.001,0,0],b=1e7,l=1.35,p={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},d={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},g="pdfjs_internal_editor_",y={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},x={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32},h={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},v={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},S={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},o={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},m={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},C={ERRORS:0,WARNINGS:1,INFOS:5},_={NONE:0,BINARY:1},P={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},U={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let H=C.WARNINGS;function V(ct){Number.isInteger(ct)&&(H=ct)}function $(){return H}function j(ct){H>=C.INFOS&&console.log(`Info: ${ct}`)}function at(ct){H>=C.WARNINGS&&console.log(`Warning: ${ct}`)}function M(ct){throw new Error(ct)}function X(ct,W){ct||M(W)}function ut(ct){switch(ct?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tt(ct,W=null,rt=null){if(!ct)return null;try{if(rt&&typeof ct=="string"&&(rt.addDefaultProtocol&&ct.startsWith("www.")&&ct.match(/\./g)?.length>=2&&(ct=`http://${ct}`),rt.tryConvertEncoding))try{ct=I(ct)}catch{}const Et=W?new URL(ct,W):new URL(ct);if(ut(Et))return Et}catch{}return null}function Y(ct,W,rt,Et=!1){return Object.defineProperty(ct,W,{value:rt,enumerable:!Et,configurable:!0,writable:!1}),rt}const nt=(function(){function W(rt,Et){this.constructor===W&&M("Cannot initialize BaseException."),this.message=rt,this.name=Et}return W.prototype=new Error,W.constructor=W,W})();class bt extends nt{constructor(W,rt){super(W,"PasswordException"),this.code=rt}}class gt extends nt{constructor(W,rt){super(W,"UnknownErrorException"),this.details=rt}}class yt extends nt{constructor(W){super(W,"InvalidPDFException")}}class Nt extends nt{constructor(W){super(W,"MissingPDFException")}}class Ct extends nt{constructor(W,rt){super(W,"UnexpectedResponseException"),this.status=rt}}class B extends nt{constructor(W){super(W,"FormatError")}}class it extends nt{constructor(W){super(W,"AbortException")}}function st(ct){(typeof ct!="object"||ct?.length===void 0)&&M("Invalid argument for bytesToString");const W=ct.length,rt=8192;if(W<rt)return String.fromCharCode.apply(null,ct);const Et=[];for(let xt=0;xt<W;xt+=rt){const Pt=Math.min(xt+rt,W),jt=ct.subarray(xt,Pt);Et.push(String.fromCharCode.apply(null,jt))}return Et.join("")}function ft(ct){typeof ct!="string"&&M("Invalid argument for stringToBytes");const W=ct.length,rt=new Uint8Array(W);for(let Et=0;Et<W;++Et)rt[Et]=ct.charCodeAt(Et)&255;return rt}function dt(ct){return String.fromCharCode(ct>>24&255,ct>>16&255,ct>>8&255,ct&255)}function T(ct){const W=Object.create(null);for(const[rt,Et]of ct)W[rt]=Et;return W}function E(){const ct=new Uint8Array(4);return ct[0]=1,new Uint32Array(ct.buffer,0,1)[0]===1}function f(){try{return new Function(""),!0}catch{return!1}}class u{static get isLittleEndian(){return Y(this,"isLittleEndian",E())}static get isEvalSupported(){return Y(this,"isEvalSupported",f())}static get isOffscreenCanvasSupported(){return Y(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Y(this,"platform",{isMac:navigator.platform.includes("Mac")}):Y(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return Y(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const w=[...Array(256).keys()].map(ct=>ct.toString(16).padStart(2,"0"));class N{static makeHexColor(W,rt,Et){return`#${w[W]}${w[rt]}${w[Et]}`}static scaleMinMax(W,rt){let Et;W[0]?(W[0]<0&&(Et=rt[0],rt[0]=rt[1],rt[1]=Et),rt[0]*=W[0],rt[1]*=W[0],W[3]<0&&(Et=rt[2],rt[2]=rt[3],rt[3]=Et),rt[2]*=W[3],rt[3]*=W[3]):(Et=rt[0],rt[0]=rt[2],rt[2]=Et,Et=rt[1],rt[1]=rt[3],rt[3]=Et,W[1]<0&&(Et=rt[2],rt[2]=rt[3],rt[3]=Et),rt[2]*=W[1],rt[3]*=W[1],W[2]<0&&(Et=rt[0],rt[0]=rt[1],rt[1]=Et),rt[0]*=W[2],rt[1]*=W[2]),rt[0]+=W[4],rt[1]+=W[4],rt[2]+=W[5],rt[3]+=W[5]}static transform(W,rt){return[W[0]*rt[0]+W[2]*rt[1],W[1]*rt[0]+W[3]*rt[1],W[0]*rt[2]+W[2]*rt[3],W[1]*rt[2]+W[3]*rt[3],W[0]*rt[4]+W[2]*rt[5]+W[4],W[1]*rt[4]+W[3]*rt[5]+W[5]]}static applyTransform(W,rt){const Et=W[0]*rt[0]+W[1]*rt[2]+rt[4],xt=W[0]*rt[1]+W[1]*rt[3]+rt[5];return[Et,xt]}static applyInverseTransform(W,rt){const Et=rt[0]*rt[3]-rt[1]*rt[2],xt=(W[0]*rt[3]-W[1]*rt[2]+rt[2]*rt[5]-rt[4]*rt[3])/Et,Pt=(-W[0]*rt[1]+W[1]*rt[0]+rt[4]*rt[1]-rt[5]*rt[0])/Et;return[xt,Pt]}static getAxialAlignedBoundingBox(W,rt){const Et=this.applyTransform(W,rt),xt=this.applyTransform(W.slice(2,4),rt),Pt=this.applyTransform([W[0],W[3]],rt),jt=this.applyTransform([W[2],W[1]],rt);return[Math.min(Et[0],xt[0],Pt[0],jt[0]),Math.min(Et[1],xt[1],Pt[1],jt[1]),Math.max(Et[0],xt[0],Pt[0],jt[0]),Math.max(Et[1],xt[1],Pt[1],jt[1])]}static inverseTransform(W){const rt=W[0]*W[3]-W[1]*W[2];return[W[3]/rt,-W[1]/rt,-W[2]/rt,W[0]/rt,(W[2]*W[5]-W[4]*W[3])/rt,(W[4]*W[1]-W[5]*W[0])/rt]}static singularValueDecompose2dScale(W){const rt=[W[0],W[2],W[1],W[3]],Et=W[0]*rt[0]+W[1]*rt[2],xt=W[0]*rt[1]+W[1]*rt[3],Pt=W[2]*rt[0]+W[3]*rt[2],jt=W[2]*rt[1]+W[3]*rt[3],Bt=(Et+jt)/2,Rt=Math.sqrt((Et+jt)**2-4*(Et*jt-Pt*xt))/2,Ut=Bt+Rt||1,Mt=Bt-Rt||1;return[Math.sqrt(Ut),Math.sqrt(Mt)]}static normalizeRect(W){const rt=W.slice(0);return W[0]>W[2]&&(rt[0]=W[2],rt[2]=W[0]),W[1]>W[3]&&(rt[1]=W[3],rt[3]=W[1]),rt}static intersect(W,rt){const Et=Math.max(Math.min(W[0],W[2]),Math.min(rt[0],rt[2])),xt=Math.min(Math.max(W[0],W[2]),Math.max(rt[0],rt[2]));if(Et>xt)return null;const Pt=Math.max(Math.min(W[1],W[3]),Math.min(rt[1],rt[3])),jt=Math.min(Math.max(W[1],W[3]),Math.max(rt[1],rt[3]));return Pt>jt?null:[Et,Pt,xt,jt]}static bezierBoundingBox(W,rt,Et,xt,Pt,jt,Bt,Rt){const Ut=[],Mt=[[],[]];let se,Wt,Jt,Ht,ve,Vt,pe,Gt;for(let te=0;te<2;++te){if(te===0?(Wt=6*W-12*Et+6*Pt,se=-3*W+9*Et-9*Pt+3*Bt,Jt=3*Et-3*W):(Wt=6*rt-12*xt+6*jt,se=-3*rt+9*xt-9*jt+3*Rt,Jt=3*xt-3*rt),Math.abs(se)<1e-12){if(Math.abs(Wt)<1e-12)continue;Ht=-Jt/Wt,0<Ht&&Ht<1&&Ut.push(Ht);continue}pe=Wt*Wt-4*Jt*se,Gt=Math.sqrt(pe),!(pe<0)&&(ve=(-Wt+Gt)/(2*se),0<ve&&ve<1&&Ut.push(ve),Vt=(-Wt-Gt)/(2*se),0<Vt&&Vt<1&&Ut.push(Vt))}let Xt=Ut.length,le;const ae=Xt;for(;Xt--;)Ht=Ut[Xt],le=1-Ht,Mt[0][Xt]=le*le*le*W+3*le*le*Ht*Et+3*le*Ht*Ht*Pt+Ht*Ht*Ht*Bt,Mt[1][Xt]=le*le*le*rt+3*le*le*Ht*xt+3*le*Ht*Ht*jt+Ht*Ht*Ht*Rt;return Mt[0][ae]=W,Mt[1][ae]=rt,Mt[0][ae+1]=Bt,Mt[1][ae+1]=Rt,Mt[0].length=Mt[1].length=ae+2,[Math.min(...Mt[0]),Math.min(...Mt[1]),Math.max(...Mt[0]),Math.max(...Mt[1])]}}function I(ct){return decodeURIComponent(escape(ct))}function R(ct){return typeof ct=="object"&&ct?.byteLength!==void 0}class k{#t=!1;constructor(){this.promise=new Promise((W,rt)=>{this.resolve=Et=>{this.#t=!0,W(Et)},this.reject=Et=>{this.#t=!0,rt(Et)}})}get settled(){return this.#t}}let z=null,et=null;function K(ct){return z||(z=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,et=new Map([["","t"]])),ct.replaceAll(z,(W,rt,Et)=>rt?rt.normalize("NFKC"):et.get(Et))}function Z(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ct=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ct);else for(let W=0;W<32;W++)ct[W]=Math.floor(Math.random()*255);return st(ct)}const pt="pdfjs_internal_id_"})},Bl={};function kr(n){var e=Bl[n];if(e!==void 0)return e.exports;var t=Bl[n]={exports:{}};return Pu[n](t,t.exports,kr),t.exports}(()=>{var n=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",e=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",t=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",i=r=>{r&&r.d<1&&(r.d=1,r.forEach(b=>b.r--),r.forEach(b=>b.r--?b.r++:b()))},a=r=>r.map(b=>{if(b!==null&&typeof b=="object"){if(b[n])return b;if(b.then){var l=[];l.d=0,b.then(g=>{p[e]=g,i(l)},g=>{p[t]=g,i(l)});var p={};return p[n]=g=>g(l),p}}var d={};return d[n]=g=>{},d[e]=b,d});kr.a=(r,b,l)=>{var p;l&&((p=[]).d=-1);var d=new Set,g=r.exports,y,x,h,v=new Promise((S,o)=>{h=o,x=S});v[e]=g,v[n]=S=>(p&&S(p),d.forEach(S),v.catch(o=>{})),r.exports=v,b(S=>{y=a(S);var o,m=()=>y.map(_=>{if(_[t])throw _[t];return _[e]}),C=new Promise(_=>{o=()=>_(m),o.r=0;var P=U=>U!==p&&!d.has(U)&&(d.add(U),U&&!U.d&&(o.r++,U.push(o)));y.map(U=>U[n](P))});return o.r?C:m()},S=>(S?h(v[t]=S):x(g),i(p))),p&&p.d<0&&(p.d=0)}})();kr.d=(n,e)=>{for(var t in e)kr.o(e,t)&&!kr.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};kr.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var oe=kr(907);oe=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=oe);oe.AbortException;oe.AnnotationEditorLayer;oe.AnnotationEditorParamsType;oe.AnnotationEditorType;oe.AnnotationEditorUIManager;oe.AnnotationLayer;oe.AnnotationMode;oe.CMapCompressionType;oe.ColorPicker;oe.DOMSVGFactory;oe.DrawLayer;oe.FeatureTest;var yp=oe.GlobalWorkerOptions;oe.ImageKind;oe.InvalidPDFException;oe.MissingPDFException;oe.OPS;oe.Outliner;oe.PDFDataRangeTransport;oe.PDFDateString;oe.PDFWorker;oe.PasswordResponses;oe.PermissionFlag;oe.PixelsPerInch;oe.PromiseCapability;oe.RenderingCancelledException;oe.UnexpectedResponseException;var wp=oe.Util;oe.VerbosityLevel;oe.XfaLayer;oe.build;oe.createValidAbsoluteUrl;oe.fetchData;var Ap=oe.getDocument;oe.getFilenameFromUrl;oe.getPdfFilenameFromUrl;oe.getXfaPageViewport;oe.isDataScheme;oe.isPdfFile;oe.noContextMenu;oe.normalizeUnicode;oe.renderTextLayer;oe.setLayerDimensions;oe.shadow;oe.updateTextLayer;oe.version;function Te(n){"@babel/helpers - typeof";return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(n)}var sn=Uint8Array,ji=Uint16Array,Yo=Int32Array,Jo=new sn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ko=new sn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jl=new sn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qh=function(n,e){for(var t=new ji(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var a=new Yo(t[30]),i=1;i<30;++i)for(var r=t[i];r<t[i+1];++r)a[r]=r-t[i]<<5|i;return{b:t,r:a}},tc=Qh(Jo,2),Tu=tc.b,Bo=tc.r;Tu[28]=258,Bo[258]=28;var _u=Qh(Ko,0),Ul=_u.r,jo=new ji(32768);for(var Be=0;Be<32768;++Be){var er=(Be&43690)>>1|(Be&21845)<<1;er=(er&52428)>>2|(er&13107)<<2,er=(er&61680)>>4|(er&3855)<<4,jo[Be]=((er&65280)>>8|(er&255)<<8)>>1}var Ts=(function(n,e,t){for(var i=n.length,a=0,r=new ji(e);a<i;++a)n[a]&&++r[n[a]-1];var b=new ji(e);for(a=1;a<e;++a)b[a]=b[a-1]+r[a-1]<<1;var l;if(t){l=new ji(1<<e);var p=15-e;for(a=0;a<i;++a)if(n[a])for(var d=a<<4|n[a],g=e-n[a],y=b[n[a]-1]++<<g,x=y|(1<<g)-1;y<=x;++y)l[jo[y]>>p]=d}else for(l=new ji(i),a=0;a<i;++a)n[a]&&(l[a]=jo[b[n[a]-1]++]>>15-n[a]);return l}),_r=new sn(288);for(var Be=0;Be<144;++Be)_r[Be]=8;for(var Be=144;Be<256;++Be)_r[Be]=9;for(var Be=256;Be<280;++Be)_r[Be]=7;for(var Be=280;Be<288;++Be)_r[Be]=8;var Ia=new sn(32);for(var Be=0;Be<32;++Be)Ia[Be]=5;var Fu=Ts(_r,9,0),Iu=Ts(Ia,5,0),ec=function(n){return(n+7)/8|0},Ru=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new sn(n.subarray(e,t))},Dn=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},Ns=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},bo=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var a=t.length,r=t.slice();if(!a)return{t:nc,l:0};if(a==1){var b=new sn(t[0].s+1);return b[t[0].s]=1,{t:b,l:1}}t.sort(function(U,H){return U.f-H.f}),t.push({s:-1,f:25001});var l=t[0],p=t[1],d=0,g=1,y=2;for(t[0]={s:-1,f:l.f+p.f,l,r:p};g!=a-1;)l=t[t[d].f<t[y].f?d++:y++],p=t[d!=g&&t[d].f<t[y].f?d++:y++],t[g++]={s:-1,f:l.f+p.f,l,r:p};for(var x=r[0].s,i=1;i<a;++i)r[i].s>x&&(x=r[i].s);var h=new ji(x+1),v=Uo(t[g-1],h,0);if(v>e){var i=0,S=0,o=v-e,m=1<<o;for(r.sort(function(H,V){return h[V.s]-h[H.s]||H.f-V.f});i<a;++i){var C=r[i].s;if(h[C]>e)S+=m-(1<<v-h[C]),h[C]=e;else break}for(S>>=o;S>0;){var _=r[i].s;h[_]<e?S-=1<<e-h[_]++-1:++i}for(;i>=0&&S;--i){var P=r[i].s;h[P]==e&&(--h[P],++S)}v=e}return{t:new sn(h),l:v}},Uo=function(n,e,t){return n.s==-1?Math.max(Uo(n.l,e,t+1),Uo(n.r,e,t+1)):e[n.s]=t},ql=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ji(++e),i=0,a=n[0],r=1,b=function(p){t[i++]=p},l=1;l<=e;++l)if(n[l]==a&&l!=e)++r;else{if(!a&&r>2){for(;r>138;r-=138)b(32754);r>2&&(b(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(b(a),--r;r>6;r-=6)b(8304);r>2&&(b(r-3<<5|8208),r=0)}for(;r--;)b(a);r=1,a=n[l]}return{c:t.subarray(0,i),n:e}},Ps=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},ic=function(n,e,t){var i=t.length,a=ec(e+2);n[a]=i&255,n[a+1]=i>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var r=0;r<i;++r)n[a+r+4]=t[r];return(a+4+i)*8},Hl=function(n,e,t,i,a,r,b,l,p,d,g){Dn(e,g++,t),++a[256];for(var y=bo(a,15),x=y.t,h=y.l,v=bo(r,15),S=v.t,o=v.l,m=ql(x),C=m.c,_=m.n,P=ql(S),U=P.c,H=P.n,V=new ji(19),$=0;$<C.length;++$)++V[C[$]&31];for(var $=0;$<U.length;++$)++V[U[$]&31];for(var j=bo(V,7),at=j.t,M=j.l,X=19;X>4&&!at[jl[X-1]];--X);var ut=d+5<<3,tt=Ps(a,_r)+Ps(r,Ia)+b,Y=Ps(a,x)+Ps(r,S)+b+14+3*X+Ps(V,at)+2*V[16]+3*V[17]+7*V[18];if(p>=0&&ut<=tt&&ut<=Y)return ic(e,g,n.subarray(p,p+d));var nt,bt,gt,yt;if(Dn(e,g,1+(Y<tt)),g+=2,Y<tt){nt=Ts(x,h,0),bt=x,gt=Ts(S,o,0),yt=S;var Nt=Ts(at,M,0);Dn(e,g,_-257),Dn(e,g+5,H-1),Dn(e,g+10,X-4),g+=14;for(var $=0;$<X;++$)Dn(e,g+3*$,at[jl[$]]);g+=3*X;for(var Ct=[C,U],B=0;B<2;++B)for(var it=Ct[B],$=0;$<it.length;++$){var st=it[$]&31;Dn(e,g,Nt[st]),g+=at[st],st>15&&(Dn(e,g,it[$]>>5&127),g+=it[$]>>12)}}else nt=Fu,bt=_r,gt=Iu,yt=Ia;for(var $=0;$<l;++$){var ft=i[$];if(ft>255){var st=ft>>18&31;Ns(e,g,nt[st+257]),g+=bt[st+257],st>7&&(Dn(e,g,ft>>23&31),g+=Jo[st]);var dt=ft&31;Ns(e,g,gt[dt]),g+=yt[dt],dt>3&&(Ns(e,g,ft>>5&8191),g+=Ko[dt])}else Ns(e,g,nt[ft]),g+=bt[ft]}return Ns(e,g,nt[256]),g+bt[256]},Mu=new Yo([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nc=new sn(0),Du=function(n,e,t,i,a,r){var b=r.z||n.length,l=new sn(i+b+5*(1+Math.ceil(b/7e3))+a),p=l.subarray(i,l.length-a),d=r.l,g=(r.r||0)&7;if(e){g&&(p[0]=r.r>>3);for(var y=Mu[e-1],x=y>>13,h=y&8191,v=(1<<t)-1,S=r.p||new ji(32768),o=r.h||new ji(v+1),m=Math.ceil(t/3),C=2*m,_=function(R){return(n[R]^n[R+1]<<m^n[R+2]<<C)&v},P=new Yo(25e3),U=new ji(288),H=new ji(32),V=0,$=0,j=r.i||0,at=0,M=r.w||0,X=0;j+2<b;++j){var ut=_(j),tt=j&32767,Y=o[ut];if(S[tt]=Y,o[ut]=tt,M<=j){var nt=b-j;if((V>7e3||at>24576)&&(nt>423||!d)){g=Hl(n,p,0,P,U,H,$,at,X,j-X,g),at=V=$=0,X=j;for(var bt=0;bt<286;++bt)U[bt]=0;for(var bt=0;bt<30;++bt)H[bt]=0}var gt=2,yt=0,Nt=h,Ct=tt-Y&32767;if(nt>2&&ut==_(j-Ct))for(var B=Math.min(x,nt)-1,it=Math.min(32767,j),st=Math.min(258,nt);Ct<=it&&--Nt&&tt!=Y;){if(n[j+gt]==n[j+gt-Ct]){for(var ft=0;ft<st&&n[j+ft]==n[j+ft-Ct];++ft);if(ft>gt){if(gt=ft,yt=Ct,ft>B)break;for(var dt=Math.min(Ct,ft-2),T=0,bt=0;bt<dt;++bt){var E=j-Ct+bt&32767,f=S[E],u=E-f&32767;u>T&&(T=u,Y=E)}}}tt=Y,Y=S[tt],Ct+=tt-Y&32767}if(yt){P[at++]=268435456|Bo[gt]<<18|Ul[yt];var w=Bo[gt]&31,N=Ul[yt]&31;$+=Jo[w]+Ko[N],++U[257+w],++H[N],M=j+gt,++V}else P[at++]=n[j],++U[n[j]]}}for(j=Math.max(j,M);j<b;++j)P[at++]=n[j],++U[n[j]];g=Hl(n,p,d,P,U,H,$,at,X,j-X,g),d||(r.r=g&7|p[g/8|0]<<3,g-=7,r.h=o,r.p=S,r.i=j,r.w=M)}else{for(var j=r.w||0;j<b+d;j+=65535){var I=j+65535;I>=b&&(p[g/8|0]=d,I=b),g=ic(p,g+1,n.subarray(j,I))}r.i=b}return Ru(l,0,i+ec(g)+a)},rc=function(){var n=1,e=0;return{p:function(t){for(var i=n,a=e,r=t.length|0,b=0;b!=r;){for(var l=Math.min(b+2655,r);b<l;++b)a+=i+=t[b];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}n=i,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Ou=function(n,e,t,i,a){if(!a&&(a={l:1},e.dictionary)){var r=e.dictionary.subarray(-32768),b=new sn(r.length+n.length);b.set(r),b.set(n,r.length),n=b,a.w=r.length}return Du(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,a)},sc=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Bu=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=rc();a.p(e.dictionary),sc(n,2,a.d())}};function qo(n,e){e||(e={});var t=rc();t.p(n);var i=Ou(n,e,e.dictionary?6:2,4);return Bu(i,e),sc(i,i.length-4,t.d()),i}var ju=typeof TextDecoder<"u"&&new TextDecoder,Uu=0;try{ju.decode(nc,{stream:!0}),Uu=1}catch{}function qu(n){if(Array.isArray(n))return n}function Hu(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,a,r,b,l=[],p=!0,d=!1;try{if(r=(t=t.call(n)).next,e!==0)for(;!(p=(i=r.call(t)).done)&&(l.push(i.value),l.length!==e);p=!0);}catch(g){d=!0,a=g}finally{try{if(!p&&t.return!=null&&(b=t.return(),Object(b)!==b))return}finally{if(d)throw a}}return l}}function zl(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function zu(n,e){if(n){if(typeof n=="string")return zl(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zl(n,e):void 0}}function Vu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vl(n,e){return qu(n)||Hu(n,e)||zu(n,e)||Vu()}function Gl(n,e="utf8"){return new TextDecoder(e).decode(n)}const Gu=new TextEncoder;function Wu(n){return Gu.encode(n)}const Xu=1024*8,$u=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),vo={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Zo{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Xu,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,r=e.byteLength-a;let b=a;(ArrayBuffer.isView(e)||e instanceof Zo)&&(e.byteLength!==e.buffer.byteLength&&(b=e.byteOffset+a),e=e.buffer),i?this.lastWrittenByte=r:this.lastWrittenByte=0,this.buffer=e,this.length=r,this.byteLength=r,this.byteOffset=b,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,b,r),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=vo[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,r=this.buffer.slice(a,a+i);if(this.littleEndian===$u&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+i));l.reverse();const p=new vo[t](l.buffer);return this.offset+=i,p.reverse(),p}const b=new vo[t](r);return this.offset+=i,b}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return Gl(this.readBytes(e))}decodeText(e=1,t="utf8"){return Gl(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Wu(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Qr(n){let e=n.length;for(;--e>=0;)n[e]=0}const Yu=3,Ju=258,ac=29,Ku=256,Zu=Ku+1+ac,oc=30,Qu=512,td=new Array((Zu+2)*2);Qr(td);const ed=new Array(oc*2);Qr(ed);const id=new Array(Qu);Qr(id);const nd=new Array(Ju-Yu+1);Qr(nd);const rd=new Array(ac);Qr(rd);const sd=new Array(oc);Qr(sd);const ad=(n,e,t,i)=>{let a=n&65535|0,r=n>>>16&65535|0,b=0;for(;t!==0;){b=t>2e3?2e3:t,t-=b;do a=a+e[i++]|0,r=r+a|0;while(--b);a%=65521,r%=65521}return a|r<<16|0};var Ho=ad;const od=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},ld=new Uint32Array(od()),hd=(n,e,t,i)=>{const a=ld,r=i+t;n^=-1;for(let b=i;b<r;b++)n=n>>>8^a[(n^e[b])&255];return n^-1};var mn=hd,zo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lc={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const cd=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ud=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)cd(t,i)&&(n[i]=t[i])}}return n},dd=n=>{let e=0;for(let i=0,a=n.length;i<a;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,a=0,r=n.length;i<r;i++){let b=n[i];t.set(b,a),a+=b.length}return t},hc={assign:ud,flattenChunks:dd};let cc=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cc=!1}const Ds=new Uint8Array(256);for(let n=0;n<256;n++)Ds[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ds[254]=Ds[254]=1;var fd=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,a,r,b=n.length,l=0;for(a=0;a<b;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<b&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),r=0,a=0;r<l;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<b&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?e[r++]=t:t<2048?(e[r++]=192|t>>>6,e[r++]=128|t&63):t<65536?(e[r++]=224|t>>>12,e[r++]=128|t>>>6&63,e[r++]=128|t&63):(e[r++]=240|t>>>18,e[r++]=128|t>>>12&63,e[r++]=128|t>>>6&63,e[r++]=128|t&63);return e};const pd=(n,e)=>{if(e<65534&&n.subarray&&cc)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var gd=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,a;const r=new Array(t*2);for(a=0,i=0;i<t;){let b=n[i++];if(b<128){r[a++]=b;continue}let l=Ds[b];if(l>4){r[a++]=65533,i+=l-1;continue}for(b&=l===2?31:l===3?15:7;l>1&&i<t;)b=b<<6|n[i++]&63,l--;if(l>1){r[a++]=65533;continue}b<65536?r[a++]=b:(b-=65536,r[a++]=55296|b>>10&1023,r[a++]=56320|b&1023)}return pd(r,a)},md=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Ds[n[t]]>e?t:e},Vo={string2buf:fd,buf2string:gd,utf8border:md};function bd(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var vd=bd;const xa=16209,yd=16191;var wd=function(e,t){let i,a,r,b,l,p,d,g,y,x,h,v,S,o,m,C,_,P,U,H,V,$,j,at;const M=e.state;i=e.next_in,j=e.input,a=i+(e.avail_in-5),r=e.next_out,at=e.output,b=r-(t-e.avail_out),l=r+(e.avail_out-257),p=M.dmax,d=M.wsize,g=M.whave,y=M.wnext,x=M.window,h=M.hold,v=M.bits,S=M.lencode,o=M.distcode,m=(1<<M.lenbits)-1,C=(1<<M.distbits)-1;t:do{v<15&&(h+=j[i++]<<v,v+=8,h+=j[i++]<<v,v+=8),_=S[h&m];e:for(;;){if(P=_>>>24,h>>>=P,v-=P,P=_>>>16&255,P===0)at[r++]=_&65535;else if(P&16){U=_&65535,P&=15,P&&(v<P&&(h+=j[i++]<<v,v+=8),U+=h&(1<<P)-1,h>>>=P,v-=P),v<15&&(h+=j[i++]<<v,v+=8,h+=j[i++]<<v,v+=8),_=o[h&C];i:for(;;){if(P=_>>>24,h>>>=P,v-=P,P=_>>>16&255,P&16){if(H=_&65535,P&=15,v<P&&(h+=j[i++]<<v,v+=8,v<P&&(h+=j[i++]<<v,v+=8)),H+=h&(1<<P)-1,H>p){e.msg="invalid distance too far back",M.mode=xa;break t}if(h>>>=P,v-=P,P=r-b,H>P){if(P=H-P,P>g&&M.sane){e.msg="invalid distance too far back",M.mode=xa;break t}if(V=0,$=x,y===0){if(V+=d-P,P<U){U-=P;do at[r++]=x[V++];while(--P);V=r-H,$=at}}else if(y<P){if(V+=d+y-P,P-=y,P<U){U-=P;do at[r++]=x[V++];while(--P);if(V=0,y<U){P=y,U-=P;do at[r++]=x[V++];while(--P);V=r-H,$=at}}}else if(V+=y-P,P<U){U-=P;do at[r++]=x[V++];while(--P);V=r-H,$=at}for(;U>2;)at[r++]=$[V++],at[r++]=$[V++],at[r++]=$[V++],U-=3;U&&(at[r++]=$[V++],U>1&&(at[r++]=$[V++]))}else{V=r-H;do at[r++]=at[V++],at[r++]=at[V++],at[r++]=at[V++],U-=3;while(U>2);U&&(at[r++]=at[V++],U>1&&(at[r++]=at[V++]))}}else if((P&64)===0){_=o[(_&65535)+(h&(1<<P)-1)];continue i}else{e.msg="invalid distance code",M.mode=xa;break t}break}}else if((P&64)===0){_=S[(_&65535)+(h&(1<<P)-1)];continue e}else if(P&32){M.mode=yd;break t}else{e.msg="invalid literal/length code",M.mode=xa;break t}break}}while(i<a&&r<l);U=v>>3,i-=U,v-=U<<3,h&=(1<<v)-1,e.next_in=i,e.next_out=r,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=r<l?257+(l-r):257-(r-l),M.hold=h,M.bits=v};const $r=15,Wl=852,Xl=592,$l=0,yo=1,Yl=2,Ad=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),xd=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Sd=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ld=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Cd=(n,e,t,i,a,r,b,l)=>{const p=l.bits;let d=0,g=0,y=0,x=0,h=0,v=0,S=0,o=0,m=0,C=0,_,P,U,H,V,$=null,j;const at=new Uint16Array($r+1),M=new Uint16Array($r+1);let X=null,ut,tt,Y;for(d=0;d<=$r;d++)at[d]=0;for(g=0;g<i;g++)at[e[t+g]]++;for(h=p,x=$r;x>=1&&at[x]===0;x--);if(h>x&&(h=x),x===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,l.bits=1,0;for(y=1;y<x&&at[y]===0;y++);for(h<y&&(h=y),o=1,d=1;d<=$r;d++)if(o<<=1,o-=at[d],o<0)return-1;if(o>0&&(n===$l||x!==1))return-1;for(M[1]=0,d=1;d<$r;d++)M[d+1]=M[d]+at[d];for(g=0;g<i;g++)e[t+g]!==0&&(b[M[e[t+g]]++]=g);if(n===$l?($=X=b,j=20):n===yo?($=Ad,X=xd,j=257):($=Sd,X=Ld,j=0),C=0,g=0,d=y,V=r,v=h,S=0,U=-1,m=1<<h,H=m-1,n===yo&&m>Wl||n===Yl&&m>Xl)return 1;for(;;){ut=d-S,b[g]+1<j?(tt=0,Y=b[g]):b[g]>=j?(tt=X[b[g]-j],Y=$[b[g]-j]):(tt=96,Y=0),_=1<<d-S,P=1<<v,y=P;do P-=_,a[V+(C>>S)+P]=ut<<24|tt<<16|Y|0;while(P!==0);for(_=1<<d-1;C&_;)_>>=1;if(_!==0?(C&=_-1,C+=_):C=0,g++,--at[d]===0){if(d===x)break;d=e[t+b[g]]}if(d>h&&(C&H)!==U){for(S===0&&(S=h),V+=y,v=d-S,o=1<<v;v+S<x&&(o-=at[v+S],!(o<=0));)v++,o<<=1;if(m+=1<<v,n===yo&&m>Wl||n===Yl&&m>Xl)return 1;U=C&H,a[U]=h<<24|v<<16|V-r|0}}return C!==0&&(a[V+C]=d-S<<24|64<<16|0),l.bits=h,0};var _s=Cd;const kd=0,uc=1,dc=2,{Z_FINISH:Jl,Z_BLOCK:Ed,Z_TREES:Sa,Z_OK:Fr,Z_STREAM_END:Nd,Z_NEED_DICT:Pd,Z_STREAM_ERROR:$i,Z_DATA_ERROR:fc,Z_MEM_ERROR:pc,Z_BUF_ERROR:Td,Z_DEFLATED:Kl}=lc,Da=16180,Zl=16181,Ql=16182,th=16183,eh=16184,ih=16185,nh=16186,rh=16187,sh=16188,ah=16189,Ra=16190,On=16191,wo=16192,oh=16193,Ao=16194,lh=16195,hh=16196,ch=16197,uh=16198,La=16199,Ca=16200,dh=16201,fh=16202,ph=16203,gh=16204,mh=16205,xo=16206,bh=16207,vh=16208,je=16209,gc=16210,mc=16211,_d=852,Fd=592,Id=15,Rd=Id,yh=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Md(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ir=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Da||e.mode>mc?1:0},bc=n=>{if(Ir(n))return $i;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Da,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_d),e.distcode=e.distdyn=new Int32Array(Fd),e.sane=1,e.back=-1,Fr},vc=n=>{if(Ir(n))return $i;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,bc(n)},yc=(n,e)=>{let t;if(Ir(n))return $i;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?$i:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,vc(n))},wc=(n,e)=>{if(!n)return $i;const t=new Md;n.state=t,t.strm=n,t.window=null,t.mode=Da;const i=yc(n,e);return i!==Fr&&(n.state=null),i},Dd=n=>wc(n,Rd);let wh=!0,So,Lo;const Od=n=>{if(wh){So=new Int32Array(512),Lo=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(_s(uc,n.lens,0,288,So,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;_s(dc,n.lens,0,32,Lo,0,n.work,{bits:5}),wh=!1}n.lencode=So,n.lenbits=9,n.distcode=Lo,n.distbits=5},Ac=(n,e,t,i)=>{let a;const r=n.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),i>=r.wsize?(r.window.set(e.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>i&&(a=i),r.window.set(e.subarray(t-i,t-i+a),r.wnext),i-=a,i?(r.window.set(e.subarray(t-i,t),0),r.wnext=i,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},Bd=(n,e)=>{let t,i,a,r,b,l,p,d,g,y,x,h,v,S,o=0,m,C,_,P,U,H,V,$;const j=new Uint8Array(4);let at,M;const X=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ir(n)||!n.output||!n.input&&n.avail_in!==0)return $i;t=n.state,t.mode===On&&(t.mode=wo),b=n.next_out,a=n.output,p=n.avail_out,r=n.next_in,i=n.input,l=n.avail_in,d=t.hold,g=t.bits,y=l,x=p,$=Fr;t:for(;;)switch(t.mode){case Da:if(t.wrap===0){t.mode=wo;break}for(;g<16;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,j[0]=d&255,j[1]=d>>>8&255,t.check=mn(t.check,j,2,0),d=0,g=0,t.mode=Zl;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=je;break}if((d&15)!==Kl){n.msg="unknown compression method",t.mode=je;break}if(d>>>=4,g-=4,V=(d&15)+8,t.wbits===0&&(t.wbits=V),V>15||V>t.wbits){n.msg="invalid window size",t.mode=je;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?ah:On,d=0,g=0;break;case Zl:for(;g<16;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==Kl){n.msg="unknown compression method",t.mode=je;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=je;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(j[0]=d&255,j[1]=d>>>8&255,t.check=mn(t.check,j,2,0)),d=0,g=0,t.mode=Ql;case Ql:for(;g<32;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(j[0]=d&255,j[1]=d>>>8&255,j[2]=d>>>16&255,j[3]=d>>>24&255,t.check=mn(t.check,j,4,0)),d=0,g=0,t.mode=th;case th:for(;g<16;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(j[0]=d&255,j[1]=d>>>8&255,t.check=mn(t.check,j,2,0)),d=0,g=0,t.mode=eh;case eh:if(t.flags&1024){for(;g<16;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(j[0]=d&255,j[1]=d>>>8&255,t.check=mn(t.check,j,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=ih;case ih:if(t.flags&1024&&(h=t.length,h>l&&(h=l),h&&(t.head&&(V=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(r,r+h),V)),t.flags&512&&t.wrap&4&&(t.check=mn(t.check,i,h,r)),l-=h,r+=h,t.length-=h),t.length))break t;t.length=0,t.mode=nh;case nh:if(t.flags&2048){if(l===0)break t;h=0;do V=i[r+h++],t.head&&V&&t.length<65536&&(t.head.name+=String.fromCharCode(V));while(V&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=mn(t.check,i,h,r)),l-=h,r+=h,V)break t}else t.head&&(t.head.name=null);t.length=0,t.mode=rh;case rh:if(t.flags&4096){if(l===0)break t;h=0;do V=i[r+h++],t.head&&V&&t.length<65536&&(t.head.comment+=String.fromCharCode(V));while(V&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=mn(t.check,i,h,r)),l-=h,r+=h,V)break t}else t.head&&(t.head.comment=null);t.mode=sh;case sh:if(t.flags&512){for(;g<16;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=je;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=On;break;case ah:for(;g<32;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}n.adler=t.check=yh(d),d=0,g=0,t.mode=Ra;case Ra:if(t.havedict===0)return n.next_out=b,n.avail_out=p,n.next_in=r,n.avail_in=l,t.hold=d,t.bits=g,Pd;n.adler=t.check=1,t.mode=On;case On:if(e===Ed||e===Sa)break t;case wo:if(t.last){d>>>=g&7,g-=g&7,t.mode=xo;break}for(;g<3;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=oh;break;case 1:if(Od(t),t.mode=La,e===Sa){d>>>=2,g-=2;break t}break;case 2:t.mode=hh;break;case 3:n.msg="invalid block type",t.mode=je}d>>>=2,g-=2;break;case oh:for(d>>>=g&7,g-=g&7;g<32;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=je;break}if(t.length=d&65535,d=0,g=0,t.mode=Ao,e===Sa)break t;case Ao:t.mode=lh;case lh:if(h=t.length,h){if(h>l&&(h=l),h>p&&(h=p),h===0)break t;a.set(i.subarray(r,r+h),b),l-=h,r+=h,p-=h,b+=h,t.length-=h;break}t.mode=On;break;case hh:for(;g<14;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=je;break}t.have=0,t.mode=ch;case ch:for(;t.have<t.ncode;){for(;g<3;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}t.lens[X[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[X[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,at={bits:t.lenbits},$=_s(kd,t.lens,0,19,t.lencode,0,t.work,at),t.lenbits=at.bits,$){n.msg="invalid code lengths set",t.mode=je;break}t.have=0,t.mode=uh;case uh:for(;t.have<t.nlen+t.ndist;){for(;o=t.lencode[d&(1<<t.lenbits)-1],m=o>>>24,C=o>>>16&255,_=o&65535,!(m<=g);){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if(_<16)d>>>=m,g-=m,t.lens[t.have++]=_;else{if(_===16){for(M=m+2;g<M;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if(d>>>=m,g-=m,t.have===0){n.msg="invalid bit length repeat",t.mode=je;break}V=t.lens[t.have-1],h=3+(d&3),d>>>=2,g-=2}else if(_===17){for(M=m+3;g<M;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}d>>>=m,g-=m,V=0,h=3+(d&7),d>>>=3,g-=3}else{for(M=m+7;g<M;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}d>>>=m,g-=m,V=0,h=11+(d&127),d>>>=7,g-=7}if(t.have+h>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=je;break}for(;h--;)t.lens[t.have++]=V}}if(t.mode===je)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=je;break}if(t.lenbits=9,at={bits:t.lenbits},$=_s(uc,t.lens,0,t.nlen,t.lencode,0,t.work,at),t.lenbits=at.bits,$){n.msg="invalid literal/lengths set",t.mode=je;break}if(t.distbits=6,t.distcode=t.distdyn,at={bits:t.distbits},$=_s(dc,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,at),t.distbits=at.bits,$){n.msg="invalid distances set",t.mode=je;break}if(t.mode=La,e===Sa)break t;case La:t.mode=Ca;case Ca:if(l>=6&&p>=258){n.next_out=b,n.avail_out=p,n.next_in=r,n.avail_in=l,t.hold=d,t.bits=g,wd(n,x),b=n.next_out,a=n.output,p=n.avail_out,r=n.next_in,i=n.input,l=n.avail_in,d=t.hold,g=t.bits,t.mode===On&&(t.back=-1);break}for(t.back=0;o=t.lencode[d&(1<<t.lenbits)-1],m=o>>>24,C=o>>>16&255,_=o&65535,!(m<=g);){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if(C&&(C&240)===0){for(P=m,U=C,H=_;o=t.lencode[H+((d&(1<<P+U)-1)>>P)],m=o>>>24,C=o>>>16&255,_=o&65535,!(P+m<=g);){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}d>>>=P,g-=P,t.back+=P}if(d>>>=m,g-=m,t.back+=m,t.length=_,C===0){t.mode=mh;break}if(C&32){t.back=-1,t.mode=On;break}if(C&64){n.msg="invalid literal/length code",t.mode=je;break}t.extra=C&15,t.mode=dh;case dh:if(t.extra){for(M=t.extra;g<M;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=fh;case fh:for(;o=t.distcode[d&(1<<t.distbits)-1],m=o>>>24,C=o>>>16&255,_=o&65535,!(m<=g);){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if((C&240)===0){for(P=m,U=C,H=_;o=t.distcode[H+((d&(1<<P+U)-1)>>P)],m=o>>>24,C=o>>>16&255,_=o&65535,!(P+m<=g);){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}d>>>=P,g-=P,t.back+=P}if(d>>>=m,g-=m,t.back+=m,C&64){n.msg="invalid distance code",t.mode=je;break}t.offset=_,t.extra=C&15,t.mode=ph;case ph:if(t.extra){for(M=t.extra;g<M;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=je;break}t.mode=gh;case gh:if(p===0)break t;if(h=x-p,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=je;break}h>t.wnext?(h-=t.wnext,v=t.wsize-h):v=t.wnext-h,h>t.length&&(h=t.length),S=t.window}else S=a,v=b-t.offset,h=t.length;h>p&&(h=p),p-=h,t.length-=h;do a[b++]=S[v++];while(--h);t.length===0&&(t.mode=Ca);break;case mh:if(p===0)break t;a[b++]=t.length,p--,t.mode=Ca;break;case xo:if(t.wrap){for(;g<32;){if(l===0)break t;l--,d|=i[r++]<<g,g+=8}if(x-=p,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?mn(t.check,a,x,b-x):Ho(t.check,a,x,b-x)),x=p,t.wrap&4&&(t.flags?d:yh(d))!==t.check){n.msg="incorrect data check",t.mode=je;break}d=0,g=0}t.mode=bh;case bh:if(t.wrap&&t.flags){for(;g<32;){if(l===0)break t;l--,d+=i[r++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=je;break}d=0,g=0}t.mode=vh;case vh:$=Nd;break t;case je:$=fc;break t;case gc:return pc;case mc:default:return $i}return n.next_out=b,n.avail_out=p,n.next_in=r,n.avail_in=l,t.hold=d,t.bits=g,(t.wsize||x!==n.avail_out&&t.mode<je&&(t.mode<xo||e!==Jl))&&Ac(n,n.output,n.next_out,x-n.avail_out),y-=n.avail_in,x-=n.avail_out,n.total_in+=y,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?mn(t.check,a,x,n.next_out-x):Ho(t.check,a,x,n.next_out-x)),n.data_type=t.bits+(t.last?64:0)+(t.mode===On?128:0)+(t.mode===La||t.mode===Ao?256:0),(y===0&&x===0||e===Jl)&&$===Fr&&($=Td),$},jd=n=>{if(Ir(n))return $i;let e=n.state;return e.window&&(e.window=null),n.state=null,Fr},Ud=(n,e)=>{if(Ir(n))return $i;const t=n.state;return(t.wrap&2)===0?$i:(t.head=e,e.done=!1,Fr)},qd=(n,e)=>{const t=e.length;let i,a,r;return Ir(n)||(i=n.state,i.wrap!==0&&i.mode!==Ra)?$i:i.mode===Ra&&(a=1,a=Ho(a,e,t,0),a!==i.check)?fc:(r=Ac(n,e,t,t),r?(i.mode=gc,pc):(i.havedict=1,Fr))};var Hd=vc,zd=yc,Vd=bc,Gd=Dd,Wd=wc,Xd=Bd,$d=jd,Yd=Ud,Jd=qd,Kd="pako inflate (from Nodeca project)",Bn={inflateReset:Hd,inflateReset2:zd,inflateResetKeep:Vd,inflateInit:Gd,inflateInit2:Wd,inflate:Xd,inflateEnd:$d,inflateGetHeader:Yd,inflateSetDictionary:Jd,inflateInfo:Kd};function Zd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Qd=Zd;const xc=Object.prototype.toString,{Z_NO_FLUSH:tf,Z_FINISH:ef,Z_OK:Os,Z_STREAM_END:Co,Z_NEED_DICT:ko,Z_STREAM_ERROR:nf,Z_DATA_ERROR:Ah,Z_MEM_ERROR:rf}=lc;function js(n){this.options=hc.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vd,this.strm.avail_out=0;let t=Bn.inflateInit2(this.strm,e.windowBits);if(t!==Os)throw new Error(zo[t]);if(this.header=new Qd,Bn.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Vo.string2buf(e.dictionary):xc.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Bn.inflateSetDictionary(this.strm,e.dictionary),t!==Os)))throw new Error(zo[t])}js.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let r,b,l;if(this.ended)return!1;for(e===~~e?b=e:b=e===!0?ef:tf,xc.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),r=Bn.inflate(t,b),r===ko&&a&&(r=Bn.inflateSetDictionary(t,a),r===Os?r=Bn.inflate(t,b):r===Ah&&(r=ko));t.avail_in>0&&r===Co&&t.state.wrap>0&&n[t.next_in]!==0;)Bn.inflateReset(t),r=Bn.inflate(t,b);switch(r){case nf:case Ah:case ko:case rf:return this.onEnd(r),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||r===Co))if(this.options.to==="string"){let p=Vo.utf8border(t.output,t.next_out),d=t.next_out-p,g=Vo.buf2string(t.output,p);t.next_out=d,t.avail_out=i-d,d&&t.output.set(t.output.subarray(p,p+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===Os&&l===0)){if(r===Co)return r=Bn.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};js.prototype.onData=function(n){this.chunks.push(n)};js.prototype.onEnd=function(n){n===Os&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hc.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function sf(n,e){const t=new js(e);if(t.push(n),t.err)throw t.msg||zo[t.err];return t.result}var af=js,of=sf,lf={Inflate:af,inflate:of};const{Inflate:hf,inflate:cf}=lf;var xh=hf,uf=cf;const Sc=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Sc[n]=e}const Sh=4294967295;function df(n,e,t){let i=n;for(let a=0;a<t;a++)i=Sc[(i^e[a])&255]^i>>>8;return i}function ff(n,e){return(df(Sh,n,e)^Sh)>>>0}function Lh(n,e,t){const i=n.readUint32(),a=ff(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${a}`)}function Lc(n,e,t){for(let i=0;i<t;i++)e[i]=n[i]}function Cc(n,e,t,i){let a=0;for(;a<i;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-i]&255}function kc(n,e,t,i){let a=0;if(t.length===0)for(;a<i;a++)e[a]=n[a];else for(;a<i;a++)e[a]=n[a]+t[a]&255}function Ec(n,e,t,i,a){let r=0;if(t.length===0){for(;r<a;r++)e[r]=n[r];for(;r<i;r++)e[r]=n[r]+(e[r-a]>>1)&255}else{for(;r<a;r++)e[r]=n[r]+(t[r]>>1)&255;for(;r<i;r++)e[r]=n[r]+(e[r-a]+t[r]>>1)&255}}function Nc(n,e,t,i,a){let r=0;if(t.length===0){for(;r<a;r++)e[r]=n[r];for(;r<i;r++)e[r]=n[r]+e[r-a]&255}else{for(;r<a;r++)e[r]=n[r]+t[r]&255;for(;r<i;r++)e[r]=n[r]+pf(e[r-a],t[r],t[r-a])&255}}function pf(n,e,t){const i=n+e-t,a=Math.abs(i-n),r=Math.abs(i-e),b=Math.abs(i-t);return a<=r&&a<=b?n:r<=b?e:t}function gf(n,e,t,i,a,r){switch(n){case 0:Lc(e,t,a);break;case 1:Cc(e,t,a,r);break;case 2:kc(e,t,i,a);break;case 3:Ec(e,t,i,a,r);break;case 4:Nc(e,t,i,a,r);break;default:throw new Error(`Unsupported filter: ${n}`)}}const mf=new Uint16Array([255]),bf=new Uint8Array(mf.buffer),vf=bf[0]===255;function yf(n){const{data:e,width:t,height:i,channels:a,depth:r}=n,b=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(r/8)*a,p=new Uint8Array(i*t*l);let d=0;for(let g=0;g<7;g++){const y=b[g],x=Math.ceil((t-y.x)/y.xStep),h=Math.ceil((i-y.y)/y.yStep);if(x<=0||h<=0)continue;const v=x*l,S=new Uint8Array(v);for(let o=0;o<h;o++){const m=e[d++],C=e.subarray(d,d+v);d+=v;const _=new Uint8Array(v);gf(m,C,_,S,v,l),S.set(_);for(let P=0;P<x;P++){const U=y.x+P*y.xStep,H=y.y+o*y.yStep;if(!(U>=t||H>=i))for(let V=0;V<l;V++)p[(H*t+U)*l+V]=_[P*l+V]}}}if(r===16){const g=new Uint16Array(p.buffer);if(vf)for(let y=0;y<g.length;y++)g[y]=wf(g[y]);return g}else return p}function wf(n){return(n&255)<<8|n>>8&255}const Af=new Uint16Array([255]),xf=new Uint8Array(Af.buffer),Sf=xf[0]===255,Lf=new Uint8Array(0);function Ch(n){const{data:e,width:t,height:i,channels:a,depth:r}=n,b=Math.ceil(r/8)*a,l=Math.ceil(r/8*a*t),p=new Uint8Array(i*l);let d=Lf,g=0,y,x;for(let h=0;h<i;h++){switch(y=e.subarray(g+1,g+1+l),x=p.subarray(h*l,(h+1)*l),e[g]){case 0:Lc(y,x,l);break;case 1:Cc(y,x,l,b);break;case 2:kc(y,x,d,l);break;case 3:Ec(y,x,d,l,b);break;case 4:Nc(y,x,d,l,b);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=x,g+=l+1}if(r===16){const h=new Uint16Array(p.buffer);if(Sf)for(let v=0;v<h.length;v++)h[v]=Cf(h[v]);return h}else return p}function Cf(n){return(n&255)<<8|n>>8&255}const _a=Uint8Array.of(137,80,78,71,13,10,26,10);function kh(n){if(!kf(n.readBytes(_a.length)))throw new Error("wrong PNG signature")}function kf(n){if(n.length<_a.length)return!1;for(let e=0;e<_a.length;e++)if(n[e]!==_a[e])return!1;return!0}const Ef="tEXt",Nf=0,Pc=new TextDecoder("latin1");function Pf(n){if(_f(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Tf=/^[\u0000-\u00FF]*$/;function _f(n){if(!Tf.test(n))throw new Error("invalid latin1 text")}function Ff(n,e,t){const i=Tc(e);n[i]=If(e,t-i.length-1)}function Tc(n){for(n.mark();n.readByte()!==Nf;);const e=n.offset;n.reset();const t=Pc.decode(n.readBytes(e-n.offset-1));return n.skip(1),Pf(t),t}function If(n,e){return Pc.decode(n.readBytes(e))}const Bi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Eo={UNKNOWN:-1,DEFLATE:0},Eh={UNKNOWN:-1,ADAPTIVE:0},No={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ka={NONE:0,BACKGROUND:1,PREVIOUS:2},Po={SOURCE:0,OVER:1};class Rf extends Zo{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new xh,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Eo.UNKNOWN,this._filterMethod=Eh.UNKNOWN,this._interlaceMethod=No.UNKNOWN,this._colorType=Bi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kh(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(kh(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Ef:Ff(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Lh(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Lh(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Mf(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case Bi.GREYSCALE:i=1;break;case Bi.TRUECOLOUR:i=3;break;case Bi.INDEXED_COLOUR:i=1;break;case Bi.GREYSCALE_ALPHA:i=2;break;case Bi.TRUECOLOUR_ALPHA:i=4;break;case Bi.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Eo.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<t;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Bi.GREYSCALE:case Bi.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Bi.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Bi.UNKNOWN:case Bi.GREYSCALE_ALPHA:case Bi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=Tc(this),i=this.readUint8();if(i!==Eo.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:uf(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=Ch({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(i,a,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case ka.NONE:break;case ka.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let r=0;r<this._png.width;r++){const b=(a*e.width+r)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[b+l]=0}break;case ka.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,a=(r,b)=>{const l=((r+t.yOffset)*this._png.width+t.xOffset+b)*this._png.channels,p=(r*t.width+b)*this._png.channels;return{index:l,frameIndex:p}};switch(t.blendOp){case Po.SOURCE:for(let r=0;r<t.height;r++)for(let b=0;b<t.width;b++){const{index:l,frameIndex:p}=a(r,b);for(let d=0;d<this._png.channels;d++)e.data[l+d]=t.data[p+d]}break;case Po.OVER:for(let r=0;r<t.height;r++)for(let b=0;b<t.width;b++){const{index:l,frameIndex:p}=a(r,b);for(let d=0;d<this._png.channels;d++){const g=t.data[p+this._png.channels-1]/i,y=d%(this._png.channels-1)===0?1:t.data[p+d],x=Math.floor(g*y+(1-g)*e.data[l+d]);e.data[l+d]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Eh.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===No.NO_INTERLACE)this._png.data=Ch({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===No.ADAM7)this._png.data=yf({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ka.NONE,blendOp:Po.SOURCE,data:e}),this._inflator=new xh,this._writingDataChunks=!1}}function Mf(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Nh;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Nh||(Nh={}));function Df(n,e){return new Rf(n,e).decode()}var he=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function To(){he.console&&typeof he.console.log=="function"&&he.console.log.apply(he.console,arguments)}var Re={log:To,warn:function(n){he.console&&(typeof he.console.warn=="function"?he.console.warn.apply(he.console,arguments):To.call(null,arguments))},error:function(n){he.console&&(typeof he.console.error=="function"?he.console.error.apply(he.console,arguments):To(n))}};function _o(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Lr(i.response,e,t)},i.onerror=function(){Re.error("could not download file")},i.send()}function Ph(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ea(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Lr=he.saveAs||((typeof window>"u"?"undefined":Te(window))!=="object"||window!==he?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=he.URL||he.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Ph(a.href)?_o(n,e,t):Ea(a,a.target="_blank"):Ea(a)):(a.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ea(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Ph(n))_o(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Ea(i)})}else navigator.msSaveOrOpenBlob((function(a,r){return r===void 0?r={autoBom:!1}:Te(r)!=="object"&&(Re.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return _o(n,e,t);var a=n.type==="application/octet-stream",r=/constructor/i.test(he.HTMLElement)||he.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||a&&r)&&(typeof FileReader>"u"?"undefined":Te(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var g=l.result;g=b?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=g:location=g,i=null},l.readAsDataURL(n)}else{var p=he.URL||he.webkitURL,d=p.createObjectURL(n);i?i.location=d:location.href=d,i=null,setTimeout(function(){p.revokeObjectURL(d)},4e4)}});function _c(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<t.length;i++){var a=t[i].re,r=t[i].process,b=a.exec(n);b&&(e=r(b),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),p=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),p.length==1&&(p="0"+p),d.length==1&&(d="0"+d),"#"+l+p+d}}var Fa=he.atob.bind(he),Th=he.btoa.bind(he);function Fo(n,e){var t=n[0],i=n[1],a=n[2],r=n[3];t=vi(t,i,a,r,e[0],7,-680876936),r=vi(r,t,i,a,e[1],12,-389564586),a=vi(a,r,t,i,e[2],17,606105819),i=vi(i,a,r,t,e[3],22,-1044525330),t=vi(t,i,a,r,e[4],7,-176418897),r=vi(r,t,i,a,e[5],12,1200080426),a=vi(a,r,t,i,e[6],17,-1473231341),i=vi(i,a,r,t,e[7],22,-45705983),t=vi(t,i,a,r,e[8],7,1770035416),r=vi(r,t,i,a,e[9],12,-1958414417),a=vi(a,r,t,i,e[10],17,-42063),i=vi(i,a,r,t,e[11],22,-1990404162),t=vi(t,i,a,r,e[12],7,1804603682),r=vi(r,t,i,a,e[13],12,-40341101),a=vi(a,r,t,i,e[14],17,-1502002290),t=yi(t,i=vi(i,a,r,t,e[15],22,1236535329),a,r,e[1],5,-165796510),r=yi(r,t,i,a,e[6],9,-1069501632),a=yi(a,r,t,i,e[11],14,643717713),i=yi(i,a,r,t,e[0],20,-373897302),t=yi(t,i,a,r,e[5],5,-701558691),r=yi(r,t,i,a,e[10],9,38016083),a=yi(a,r,t,i,e[15],14,-660478335),i=yi(i,a,r,t,e[4],20,-405537848),t=yi(t,i,a,r,e[9],5,568446438),r=yi(r,t,i,a,e[14],9,-1019803690),a=yi(a,r,t,i,e[3],14,-187363961),i=yi(i,a,r,t,e[8],20,1163531501),t=yi(t,i,a,r,e[13],5,-1444681467),r=yi(r,t,i,a,e[2],9,-51403784),a=yi(a,r,t,i,e[7],14,1735328473),t=wi(t,i=yi(i,a,r,t,e[12],20,-1926607734),a,r,e[5],4,-378558),r=wi(r,t,i,a,e[8],11,-2022574463),a=wi(a,r,t,i,e[11],16,1839030562),i=wi(i,a,r,t,e[14],23,-35309556),t=wi(t,i,a,r,e[1],4,-1530992060),r=wi(r,t,i,a,e[4],11,1272893353),a=wi(a,r,t,i,e[7],16,-155497632),i=wi(i,a,r,t,e[10],23,-1094730640),t=wi(t,i,a,r,e[13],4,681279174),r=wi(r,t,i,a,e[0],11,-358537222),a=wi(a,r,t,i,e[3],16,-722521979),i=wi(i,a,r,t,e[6],23,76029189),t=wi(t,i,a,r,e[9],4,-640364487),r=wi(r,t,i,a,e[12],11,-421815835),a=wi(a,r,t,i,e[15],16,530742520),t=Ai(t,i=wi(i,a,r,t,e[2],23,-995338651),a,r,e[0],6,-198630844),r=Ai(r,t,i,a,e[7],10,1126891415),a=Ai(a,r,t,i,e[14],15,-1416354905),i=Ai(i,a,r,t,e[5],21,-57434055),t=Ai(t,i,a,r,e[12],6,1700485571),r=Ai(r,t,i,a,e[3],10,-1894986606),a=Ai(a,r,t,i,e[10],15,-1051523),i=Ai(i,a,r,t,e[1],21,-2054922799),t=Ai(t,i,a,r,e[8],6,1873313359),r=Ai(r,t,i,a,e[15],10,-30611744),a=Ai(a,r,t,i,e[6],15,-1560198380),i=Ai(i,a,r,t,e[13],21,1309151649),t=Ai(t,i,a,r,e[4],6,-145523070),r=Ai(r,t,i,a,e[11],10,-1120210379),a=Ai(a,r,t,i,e[2],15,718787259),i=Ai(i,a,r,t,e[9],21,-343485551),n[0]=rr(t,n[0]),n[1]=rr(i,n[1]),n[2]=rr(a,n[2]),n[3]=rr(r,n[3])}function Oa(n,e,t,i,a,r){return e=rr(rr(e,n),rr(i,r)),rr(e<<a|e>>>32-a,t)}function vi(n,e,t,i,a,r,b){return Oa(e&t|~e&i,n,e,a,r,b)}function yi(n,e,t,i,a,r,b){return Oa(e&i|t&~i,n,e,a,r,b)}function wi(n,e,t,i,a,r,b){return Oa(e^t^i,n,e,a,r,b)}function Ai(n,e,t,i,a,r,b){return Oa(t^(e|~i),n,e,a,r,b)}function Fc(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Fo(i,Of(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Fo(i,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Fo(i,a),i}function Of(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var _h="0123456789abcdef".split("");function Bf(n){for(var e="",t=0;t<4;t++)e+=_h[n>>8*t+4&15]+_h[n>>8*t&15];return e}function jf(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Go(n){return Fc(n).map(jf).join("")}var Uf=(function(n){for(var e=0;e<n.length;e++)n[e]=Bf(n[e]);return n.join("")})(Fc("hello"))!="5d41402abc4b2a76b9719d911017c592";function rr(n,e){if(Uf){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Wo(n,e){var t,i,a,r;if(n!==t){for(var b=(a=n,r=1+(256/n.length|0),new Array(r+1).join(a)),l=[],p=0;p<256;p++)l[p]=p;var d=0;for(p=0;p<256;p++){var g=l[p];d=(d+g+b.charCodeAt(p))%256,l[p]=l[d],l[d]=g}t=n,i=l}else l=i;var y=e.length,x=0,h=0,v="";for(p=0;p<y;p++)h=(h+(g=l[x=(x+1)%256]))%256,l[x]=l[h],l[h]=g,b=l[(l[x]+l[h])%256],v+=String.fromCharCode(e.charCodeAt(p)^b);return v}var Fh={print:4,modify:8,copy:16,"annot-forms":32};function Kr(n,e,t,i){this.v=1,this.r=2;var a=192;n.forEach(function(l){if(Fh.perm!==void 0)throw new Error("Invalid permission: "+l);a+=Fh[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(e+this.padding).substr(0,32),b=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,b),this.P=-(1+(255^a)),this.encryptionKey=Go(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Wo(this.encryptionKey,this.padding)}function Zr(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var a=n.charCodeAt(i);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[i]}return e}function Ih(n){if(Te(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,a){if(a=a||!1,typeof t!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var r=Math.random().toString(35);return e[t][r]=[i,!!a],r},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var r in e[t]){var b=e[t][r];try{b[0].apply(n,i)}catch(l){he.console&&Re.error("jsPDF PubSub Error",l.message,l)}b[1]&&a.push(r)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Bs(n){if(!(this instanceof Bs))return new Bs(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Ic(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function nr(n,e,t,i,a){if(!(this instanceof nr))return new nr(n,e,t,i,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,Ic.call(this,i,a)}function Cr(n,e,t,i,a){if(!(this instanceof Cr))return new Cr(n,e,t,i,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Ic.call(this,i,a)}function ie(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],r=arguments[3],b=[],l=1,p=16,d="S",g=null;Te(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,a=n.format||a,r=n.compress||n.compressPdf||r,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(p=n.floatPrecision),d=n.defaultPathOperation||"S"),b=n.filters||(r===!0?["FlateEncode"]:b),i=i||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,x={},h={internal:{},__private__:{}};h.__private__.PubSub=Ih;var v="1.3",S=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(A){v=A};var o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return o};var m=h.__private__.getPageFormat=function(A){return o[A]};a=a||"a4";var C="compat",_="advanced",P=C;function U(){this.saveGraphicsState(),k(new ne(Ut,0,0,-Ut,0,pr()*Ut).toString()+" cm"),this.setFontSize(this.getFontSize()/Ut),d="n",P=_}function H(){this.restoreGraphicsState(),d="S",P=C}var V=h.__private__.combineFontStyleAndFontWeight=function(A,D){if(A=="bold"&&D=="normal"||A=="bold"&&D==400||A=="normal"&&D=="italic"||A=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(A=D==400||D==="normal"?A==="italic"?"italic":"normal":D!=700&&D!=="bold"||A!=="normal"?(D==700?"bold":D)+""+A:"bold"),A};h.advancedAPI=function(A){var D=P===C;return D&&U.call(this),typeof A!="function"||(A(this),D&&H.call(this)),this},h.compatAPI=function(A){var D=P===_;return D&&H.call(this),typeof A!="function"||(A(this),D&&U.call(this)),this},h.isAdvancedAPI=function(){return P===_};var $,j=function(A){if(P!==_)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},at=h.roundToPrecision=h.__private__.roundToPrecision=function(A,D){var ht=e||D;if(isNaN(A)||isNaN(ht))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ht).replace(/0+$/,"")};$=h.hpf=h.__private__.hpf=typeof p=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return at(A,p)}:p==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return at(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return at(A,16)};var M=h.f2=h.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return at(A,2)},X=h.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return at(A,3)},ut=h.scale=h.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return P===C?A*Ut:P===_?A:void 0},tt=function(A){return ut((function(D){return P===C?pr()-D:P===_?D:void 0})(A))};h.__private__.setPrecision=h.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Y,nt="00000000000000000000000000000000",bt=h.__private__.getFileId=function(){return nt},gt=h.__private__.setFileId=function(A){return nt=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():nt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(ti=new Kr(g.userPermissions,g.userPassword,g.ownerPassword,nt)),nt};h.setFileId=function(A){return gt(A),this},h.getFileId=function(){return bt()};var yt=h.__private__.convertDateToPDFDate=function(A){var D=A.getTimezoneOffset(),ht=D<0?"+":"-",mt=Math.floor(Math.abs(D/60)),At=Math.abs(D%60),Ft=[ht,st(mt),"'",st(At),"'"].join("");return["D:",A.getFullYear(),st(A.getMonth()+1),st(A.getDate()),st(A.getHours()),st(A.getMinutes()),st(A.getSeconds()),Ft].join("")},Nt=h.__private__.convertPDFDateToDate=function(A){var D=parseInt(A.substr(2,4),10),ht=parseInt(A.substr(6,2),10)-1,mt=parseInt(A.substr(8,2),10),At=parseInt(A.substr(10,2),10),Ft=parseInt(A.substr(12,2),10),Dt=parseInt(A.substr(14,2),10);return new Date(D,ht,mt,At,Ft,Dt,0)},Ct=h.__private__.setCreationDate=function(A){var D;if(A===void 0&&(A=new Date),A instanceof Date)D=yt(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=A}return Y=D},B=h.__private__.getCreationDate=function(A){var D=Y;return A==="jsDate"&&(D=Nt(Y)),D};h.setCreationDate=function(A){return Ct(A),this},h.getCreationDate=function(A){return B(A)};var it,st=h.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ft=h.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},dt=0,T=[],E=[],f=0,u=[],w=[],N=!1,I=E;h.__private__.setCustomOutputDestination=function(A){N=!0,I=A};var R=function(A){N||(I=A)};h.__private__.resetCustomOutputDestination=function(){N=!1,I=E};var k=h.__private__.out=function(A){return A=A.toString(),f+=A.length+1,I.push(A),I},z=h.__private__.write=function(A){return k(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},et=h.__private__.getArrayBuffer=function(A){for(var D=A.length,ht=new ArrayBuffer(D),mt=new Uint8Array(ht);D--;)mt[D]=A.charCodeAt(D);return ht},K=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return K};var Z=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(A){return Z=P===_?A/Ut:A,this};var pt,ct=h.__private__.getFontSize=h.getFontSize=function(){return P===C?Z:Z*Ut},W=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(A){return W=A,this},h.__private__.getR2L=h.getR2L=function(){return W};var rt,Et=h.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))pt=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');pt=A}else pt=parseInt(A,10)};h.__private__.getZoomMode=function(){return pt};var xt,Pt=h.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');rt=A};h.__private__.getPageMode=function(){return rt};var jt=h.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');xt=A};h.__private__.getLayoutMode=function(){return xt},h.__private__.setDisplayMode=h.setDisplayMode=function(A,D,ht){return Et(A),jt(D),Pt(ht),this};var Bt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(A){if(Object.keys(Bt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Bt[A]},h.__private__.getDocumentProperties=function(){return Bt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(A){for(var D in Bt)Bt.hasOwnProperty(D)&&A[D]&&(Bt[D]=A[D]);return this},h.__private__.setDocumentProperty=function(A,D){if(Object.keys(Bt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Bt[A]=D};var Rt,Ut,Mt,se,Wt,Jt={},Ht={},ve=[],Vt={},pe={},Gt={},Xt={},le=null,ae=0,te=[],ye=new Ih(h),Ui=n.hotfixes||[],Le={},_e={},xi=[],ne=function A(D,ht,mt,At,Ft,Dt){if(!(this instanceof A))return new A(D,ht,mt,At,Ft,Dt);isNaN(D)&&(D=1),isNaN(ht)&&(ht=0),isNaN(mt)&&(mt=0),isNaN(At)&&(At=1),isNaN(Ft)&&(Ft=0),isNaN(Dt)&&(Dt=0),this._matrix=[D,ht,mt,At,Ft,Dt]};Object.defineProperty(ne.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ne.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ne.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ne.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ne.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ne.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ne.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ne.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ne.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ne.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ne.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ne.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ne.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ne.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ne.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ne.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ne.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(A)},ne.prototype.multiply=function(A){var D=A.sx*this.sx+A.shy*this.shx,ht=A.sx*this.shy+A.shy*this.sy,mt=A.shx*this.sx+A.sy*this.shx,At=A.shx*this.shy+A.sy*this.sy,Ft=A.tx*this.sx+A.ty*this.shx+this.tx,Dt=A.tx*this.shy+A.ty*this.sy+this.ty;return new ne(D,ht,mt,At,Ft,Dt)},ne.prototype.decompose=function(){var A=this.sx,D=this.shy,ht=this.shx,mt=this.sy,At=this.tx,Ft=this.ty,Dt=Math.sqrt(A*A+D*D),Kt=(A/=Dt)*ht+(D/=Dt)*mt;ht-=A*Kt,mt-=D*Kt;var ee=Math.sqrt(ht*ht+mt*mt);return Kt/=ee,A*(mt/=ee)<D*(ht/=ee)&&(A=-A,D=-D,Kt=-Kt,Dt=-Dt),{scale:new ne(Dt,0,0,ee,0,0),translate:new ne(1,0,0,1,At,Ft),rotate:new ne(A,D,-D,A,0,0),skew:new ne(1,0,Kt,1,0,0)}},ne.prototype.toString=function(A){return this.join(" ")},ne.prototype.inversed=function(){var A=this.sx,D=this.shy,ht=this.shx,mt=this.sy,At=this.tx,Ft=this.ty,Dt=1/(A*mt-D*ht),Kt=mt*Dt,ee=-D*Dt,ce=-ht*Dt,ge=A*Dt;return new ne(Kt,ee,ce,ge,-Kt*At-ce*Ft,-ee*At-ge*Ft)},ne.prototype.applyToPoint=function(A){var D=A.x*this.sx+A.y*this.shx+this.tx,ht=A.x*this.shy+A.y*this.sy+this.ty;return new Cn(D,ht)},ne.prototype.applyToRectangle=function(A){var D=this.applyToPoint(A),ht=this.applyToPoint(new Cn(A.x+A.w,A.y+A.h));return new ls(D.x,D.y,ht.x-D.x,ht.y-D.y)},ne.prototype.clone=function(){var A=this.sx,D=this.shy,ht=this.shx,mt=this.sy,At=this.tx,Ft=this.ty;return new ne(A,D,ht,mt,At,Ft)},h.Matrix=ne;var gi=h.matrixMult=function(A,D){return D.multiply(A)},Ce=new ne(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ce;var oi=function(A,D){if(!pe[A]){var ht=(D instanceof nr?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);D.id=ht,pe[A]=ht,Vt[ht]=D,ye.publish("addPattern",D)}};h.ShadingPattern=nr,h.TilingPattern=Cr,h.addShadingPattern=function(A,D){return j("addShadingPattern()"),oi(A,D),this},h.beginTilingPattern=function(A){j("beginTilingPattern()"),hs(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},h.endTilingPattern=function(A,D){j("endTilingPattern()"),D.stream=w[it].join(`
`),oi(A,D),ye.publish("endTilingPattern",D),xi.pop().restore()};var mi,Ee=h.__private__.newObject=function(){var A=li();return hi(A,!0),A},li=h.__private__.newObjectDeferred=function(){return dt++,T[dt]=function(){return f},dt},hi=function(A,D){return D=typeof D=="boolean"&&D,T[A]=f,D&&k(A+" 0 obj"),A},or=h.__private__.newAdditionalObject=function(){var A={objId:li(),content:""};return u.push(A),A},jn=li(),Yi=li(),ln=h.__private__.decodeColorString=function(A){var D=A.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var ht=parseFloat(D[0]);D=[ht,ht,ht,"r"]}for(var mt="#",At=0;At<3;At++)mt+=("0"+Math.floor(255*parseFloat(D[At])).toString(16)).slice(-2);return mt},Ji=h.__private__.encodeColorString=function(A){var D;typeof A=="string"&&(A={ch1:A});var ht=A.ch1,mt=A.ch2,At=A.ch3,Ft=A.ch4,Dt=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ht=="string"&&ht.charAt(0)!=="#"){var Kt=new _c(ht);if(Kt.ok)ht=Kt.toHex();else if(!/^\d*\.?\d*$/.test(ht))throw new Error('Invalid color "'+ht+'" passed to jsPDF.encodeColorString.')}if(typeof ht=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ht)&&(ht="#"+ht[1]+ht[1]+ht[2]+ht[2]+ht[3]+ht[3]),typeof ht=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ht)){var ee=parseInt(ht.substr(1),16);ht=ee>>16&255,mt=ee>>8&255,At=255&ee}if(mt===void 0||Ft===void 0&&ht===mt&&mt===At)D=typeof ht=="string"?ht+" "+Dt[0]:A.precision===2?M(ht/255)+" "+Dt[0]:X(ht/255)+" "+Dt[0];else if(Ft===void 0||Te(Ft)==="object"){if(Ft&&!isNaN(Ft.a)&&Ft.a===0)return["1.","1.","1.",Dt[1]].join(" ");D=typeof ht=="string"?[ht,mt,At,Dt[1]].join(" "):A.precision===2?[M(ht/255),M(mt/255),M(At/255),Dt[1]].join(" "):[X(ht/255),X(mt/255),X(At/255),Dt[1]].join(" ")}else D=typeof ht=="string"?[ht,mt,At,Ft,Dt[2]].join(" "):A.precision===2?[M(ht),M(mt),M(At),M(Ft),Dt[2]].join(" "):[X(ht),X(mt),X(At),X(Ft),Dt[2]].join(" ");return D},Ki=h.__private__.getFilters=function(){return b},qi=h.__private__.putStream=function(A){var D=(A=A||{}).data||"",ht=A.filters||Ki(),mt=A.alreadyAppliedFilters||[],At=A.addLength1||!1,Ft=D.length,Dt=A.objectId,Kt=function(ei){return ei};if(g!==null&&Dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Kt=ti.encryptor(Dt,0));var ee={};ht===!0&&(ht=["FlateEncode"]);var ce=A.additionalKeyValues||[],ge=(ee=ie.API.processDataByFilters!==void 0?ie.API.processDataByFilters(D,ht):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(mt)?mt.join(" "):mt.toString());if(ee.data.length!==0&&(ce.push({key:"Length",value:ee.data.length}),At===!0&&ce.push({key:"Length1",value:Ft})),ge.length!=0)if(ge.split("/").length-1==1)ce.push({key:"Filter",value:ge});else{ce.push({key:"Filter",value:"["+ge+"]"});for(var xe=0;xe<ce.length;xe+=1)if(ce[xe].key==="DecodeParms"){for(var Ue=[],Ze=0;Ze<ee.reverseChain.split("/").length-1;Ze+=1)Ue.push("null");Ue.push(ce[xe].value),ce[xe].value="["+Ue.join(" ")+"]"}}k("<<");for(var Me=0;Me<ce.length;Me++)k("/"+ce[Me].key+" "+ce[Me].value);k(">>"),ee.data.length!==0&&(k("stream"),k(Kt(ee.data)),k("endstream"))},lr=h.__private__.putPage=function(A){var D=A.number,ht=A.data,mt=A.objId,At=A.contentsObjId;hi(mt,!0),k("<</Type /Page"),k("/Parent "+A.rootDictionaryObjId+" 0 R"),k("/Resources "+A.resourceDictionaryObjId+" 0 R"),k("/MediaBox ["+parseFloat($(A.mediaBox.bottomLeftX))+" "+parseFloat($(A.mediaBox.bottomLeftY))+" "+$(A.mediaBox.topRightX)+" "+$(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&k("/CropBox ["+$(A.cropBox.bottomLeftX)+" "+$(A.cropBox.bottomLeftY)+" "+$(A.cropBox.topRightX)+" "+$(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&k("/BleedBox ["+$(A.bleedBox.bottomLeftX)+" "+$(A.bleedBox.bottomLeftY)+" "+$(A.bleedBox.topRightX)+" "+$(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&k("/TrimBox ["+$(A.trimBox.bottomLeftX)+" "+$(A.trimBox.bottomLeftY)+" "+$(A.trimBox.topRightX)+" "+$(A.trimBox.topRightY)+"]"),A.artBox!==null&&k("/ArtBox ["+$(A.artBox.bottomLeftX)+" "+$(A.artBox.bottomLeftY)+" "+$(A.artBox.topRightX)+" "+$(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&k("/UserUnit "+A.userUnit),ye.publish("putPage",{objId:mt,pageContext:te[D],pageNumber:D,page:ht}),k("/Contents "+At+" 0 R"),k(">>"),k("endobj");var Ft=ht.join(`
`);return P===_&&(Ft+=`
Q`),hi(At,!0),qi({data:Ft,filters:Ki(),objectId:At}),k("endobj"),mt},hn=h.__private__.putPages=function(){var A,D,ht=[];for(A=1;A<=ae;A++)te[A].objId=li(),te[A].contentsObjId=li();for(A=1;A<=ae;A++)ht.push(lr({number:A,data:w[A],objId:te[A].objId,contentsObjId:te[A].contentsObjId,mediaBox:te[A].mediaBox,cropBox:te[A].cropBox,bleedBox:te[A].bleedBox,trimBox:te[A].trimBox,artBox:te[A].artBox,userUnit:te[A].userUnit,rootDictionaryObjId:jn,resourceDictionaryObjId:Yi}));hi(jn,!0),k("<</Type /Pages");var mt="/Kids [";for(D=0;D<ae;D++)mt+=ht[D]+" 0 R ";k(mt+"]"),k("/Count "+ae),k(">>"),k("endobj"),ye.publish("postPutPages")},hr=function(A){ye.publish("putFont",{font:A,out:k,newObject:Ee,putStream:qi}),A.isAlreadyPutted!==!0&&(A.objectNumber=Ee(),k("<<"),k("/Type /Font"),k("/BaseFont /"+Zr(A.postScriptName)),k("/Subtype /Type1"),typeof A.encoding=="string"&&k("/Encoding /"+A.encoding),k("/FirstChar 32"),k("/LastChar 255"),k(">>"),k("endobj"))},Mr=function(A){A.objectNumber=Ee();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[$(A.x),$(A.y),$(A.x+A.width),$(A.y+A.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ht=A.pages[1].join(`
`);qi({data:ht,additionalKeyValues:D,objectId:A.objectNumber}),k("endobj")},Dr=function(A,D){D||(D=21);var ht=Ee(),mt=(function(Dt,Kt){var ee,ce=[],ge=1/(Kt-1);for(ee=0;ee<1;ee+=ge)ce.push(ee);if(ce.push(1),Dt[0].offset!=0){var xe={offset:0,color:Dt[0].color};Dt.unshift(xe)}if(Dt[Dt.length-1].offset!=1){var Ue={offset:1,color:Dt[Dt.length-1].color};Dt.push(Ue)}for(var Ze="",Me=0,ei=0;ei<ce.length;ei++){for(ee=ce[ei];ee>Dt[Me+1].offset;)Me++;var Qe=Dt[Me].offset,ci=(ee-Qe)/(Dt[Me+1].offset-Qe),Nn=Dt[Me].color,Qi=Dt[Me+1].color;Ze+=ft(Math.round((1-ci)*Nn[0]+ci*Qi[0]).toString(16))+ft(Math.round((1-ci)*Nn[1]+ci*Qi[1]).toString(16))+ft(Math.round((1-ci)*Nn[2]+ci*Qi[2]).toString(16))}return Ze.trim()})(A.colors,D),At=[];At.push({key:"FunctionType",value:"0"}),At.push({key:"Domain",value:"[0.0 1.0]"}),At.push({key:"Size",value:"["+D+"]"}),At.push({key:"BitsPerSample",value:"8"}),At.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),At.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qi({data:mt,additionalKeyValues:At,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ht}),k("endobj"),A.objectNumber=Ee(),k("<< /ShadingType "+A.type),k("/ColorSpace /DeviceRGB");var Ft="/Coords ["+$(parseFloat(A.coords[0]))+" "+$(parseFloat(A.coords[1]))+" ";A.type===2?Ft+=$(parseFloat(A.coords[2]))+" "+$(parseFloat(A.coords[3])):Ft+=$(parseFloat(A.coords[2]))+" "+$(parseFloat(A.coords[3]))+" "+$(parseFloat(A.coords[4]))+" "+$(parseFloat(A.coords[5])),k(Ft+="]"),A.matrix&&k("/Matrix ["+A.matrix.toString()+"]"),k("/Function "+ht+" 0 R"),k("/Extend [true true]"),k(">>"),k("endobj")},Or=function(A,D){var ht=li(),mt=Ee();D.push({resourcesOid:ht,objectOid:mt}),A.objectNumber=mt;var At=[];At.push({key:"Type",value:"/Pattern"}),At.push({key:"PatternType",value:"1"}),At.push({key:"PaintType",value:"1"}),At.push({key:"TilingType",value:"1"}),At.push({key:"BBox",value:"["+A.boundingBox.map($).join(" ")+"]"}),At.push({key:"XStep",value:$(A.xStep)}),At.push({key:"YStep",value:$(A.yStep)}),At.push({key:"Resources",value:ht+" 0 R"}),A.matrix&&At.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),qi({data:A.stream,additionalKeyValues:At,objectId:A.objectNumber}),k("endobj")},Ba=function(A){for(var D in A.objectNumber=Ee(),k("<<"),A)switch(D){case"opacity":k("/ca "+M(A[D]));break;case"stroke-opacity":k("/CA "+M(A[D]))}k(">>"),k("endobj")},ts=function(A){hi(A.resourcesOid,!0),k("<<"),k("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var D in k("/Font <<"),Jt)Jt.hasOwnProperty(D)&&(y===!1||y===!0&&x.hasOwnProperty(D))&&k("/"+D+" "+Jt[D].objectNumber+" 0 R");k(">>")})(),(function(){if(Object.keys(Vt).length>0){for(var D in k("/Shading <<"),Vt)Vt.hasOwnProperty(D)&&Vt[D]instanceof nr&&Vt[D].objectNumber>=0&&k("/"+D+" "+Vt[D].objectNumber+" 0 R");ye.publish("putShadingPatternDict"),k(">>")}})(),(function(D){if(Object.keys(Vt).length>0){for(var ht in k("/Pattern <<"),Vt)Vt.hasOwnProperty(ht)&&Vt[ht]instanceof h.TilingPattern&&Vt[ht].objectNumber>=0&&Vt[ht].objectNumber<D&&k("/"+ht+" "+Vt[ht].objectNumber+" 0 R");ye.publish("putTilingPatternDict"),k(">>")}})(A.objectOid),(function(){if(Object.keys(Gt).length>0){var D;for(D in k("/ExtGState <<"),Gt)Gt.hasOwnProperty(D)&&Gt[D].objectNumber>=0&&k("/"+D+" "+Gt[D].objectNumber+" 0 R");ye.publish("putGStateDict"),k(">>")}})(),(function(){for(var D in k("/XObject <<"),Le)Le.hasOwnProperty(D)&&Le[D].objectNumber>=0&&k("/"+D+" "+Le[D].objectNumber+" 0 R");ye.publish("putXobjectDict"),k(">>")})(),k(">>"),k("endobj")},Us=function(A){Ht[A.fontName]=Ht[A.fontName]||{},Ht[A.fontName][A.fontStyle]=A.id},qs=function(A,D,ht,mt,At){var Ft={id:"F"+(Object.keys(Jt).length+1).toString(10),postScriptName:A,fontName:D,fontStyle:ht,encoding:mt,isStandardFont:At||!1,metadata:{}};return ye.publish("addFont",{font:Ft,instance:this}),Jt[Ft.id]=Ft,Us(Ft),Ft.id},Hi=h.__private__.pdfEscape=h.pdfEscape=function(A,D){return(function(ht,mt){var At,Ft,Dt,Kt,ee,ce,ge,xe,Ue;if(Dt=(mt=mt||{}).sourceEncoding||"Unicode",ee=mt.outputEncoding,(mt.autoencode||ee)&&Jt[Rt].metadata&&Jt[Rt].metadata[Dt]&&Jt[Rt].metadata[Dt].encoding&&(Kt=Jt[Rt].metadata[Dt].encoding,!ee&&Jt[Rt].encoding&&(ee=Jt[Rt].encoding),!ee&&Kt.codePages&&(ee=Kt.codePages[0]),typeof ee=="string"&&(ee=Kt[ee]),ee)){for(ge=!1,ce=[],At=0,Ft=ht.length;At<Ft;At++)(xe=ee[ht.charCodeAt(At)])?ce.push(String.fromCharCode(xe)):ce.push(ht[At]),ce[At].charCodeAt(0)>>8&&(ge=!0);ht=ce.join("")}for(At=ht.length;ge===void 0&&At!==0;)ht.charCodeAt(At-1)>>8&&(ge=!0),At--;if(!ge)return ht;for(ce=mt.noBOM?[]:[254,255],At=0,Ft=ht.length;At<Ft;At++){if((Ue=(xe=ht.charCodeAt(At))>>8)>>8)throw new Error("Character at position "+At+" of string '"+ht+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ce.push(Ue),ce.push(xe-(Ue<<8))}return String.fromCharCode.apply(void 0,ce)})(A,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},es=h.__private__.beginPage=function(A){w[++ae]=[],te[ae]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},zs(ae),R(w[it])},Hs=function(A,D){var ht,mt,At;switch(t=D||t,typeof A=="string"&&(ht=m(A.toLowerCase()),Array.isArray(ht)&&(mt=ht[0],At=ht[1])),Array.isArray(A)&&(mt=A[0]*Ut,At=A[1]*Ut),isNaN(mt)&&(mt=a[0],At=a[1]),(mt>14400||At>14400)&&(Re.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),mt=Math.min(14400,mt),At=Math.min(14400,At)),a=[mt,At],t.substr(0,1)){case"l":At>mt&&(a=[At,mt]);break;case"p":mt>At&&(a=[At,mt])}es(a),ue(rs),k(qr),as!==0&&k(as+" J"),os!==0&&k(os+" j"),ye.publish("addPage",{pageNumber:ae})},is=function(A){A>0&&A<=ae&&(w.splice(A,1),te.splice(A,1),ae--,it>ae&&(it=ae),this.setPage(it))},zs=function(A){A>0&&A<=ae&&(it=A)},Vs=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return w.length-1},Gs=function(A,D,ht){var mt,At=void 0;return ht=ht||{},A=A!==void 0?A:Jt[Rt].fontName,D=D!==void 0?D:Jt[Rt].fontStyle,mt=A.toLowerCase(),Ht[mt]!==void 0&&Ht[mt][D]!==void 0?At=Ht[mt][D]:Ht[A]!==void 0&&Ht[A][D]!==void 0?At=Ht[A][D]:ht.disableWarning===!1&&Re.warn("Unable to look up font label for font '"+A+"', '"+D+"'. Refer to getFontList() for available fonts."),At||ht.noFallback||(At=Ht.times[D])==null&&(At=Ht.times.normal),At},cn=h.__private__.putInfo=function(){var A=Ee(),D=function(mt){return mt};for(var ht in g!==null&&(D=ti.encryptor(A,0)),k("<<"),k("/Producer ("+Hi(D("jsPDF "+ie.version))+")"),Bt)Bt.hasOwnProperty(ht)&&Bt[ht]&&k("/"+ht.substr(0,1).toUpperCase()+ht.substr(1)+" ("+Hi(D(Bt[ht]))+")");k("/CreationDate ("+Hi(D(Y))+")"),k(">>"),k("endobj")},Br=h.__private__.putCatalog=function(A){var D=(A=A||{}).rootDictionaryObjId||jn;switch(Ee(),k("<<"),k("/Type /Catalog"),k("/Pages "+D+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":k("/OpenAction [3 0 R /FitH null]");break;case"fullheight":k("/OpenAction [3 0 R /FitV null]");break;case"fullpage":k("/OpenAction [3 0 R /Fit]");break;case"original":k("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ht=""+pt;ht.substr(ht.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&k("/OpenAction [3 0 R /XYZ null null "+M(pt)+"]")}switch(xt||(xt="continuous"),xt){case"continuous":k("/PageLayout /OneColumn");break;case"single":k("/PageLayout /SinglePage");break;case"two":case"twoleft":k("/PageLayout /TwoColumnLeft");break;case"tworight":k("/PageLayout /TwoColumnRight")}rt&&k("/PageMode /"+rt),ye.publish("putCatalog"),k(">>"),k("endobj")},ja=h.__private__.putTrailer=function(){k("trailer"),k("<<"),k("/Size "+(dt+1)),k("/Root "+dt+" 0 R"),k("/Info "+(dt-1)+" 0 R"),g!==null&&k("/Encrypt "+ti.oid+" 0 R"),k("/ID [ <"+nt+"> <"+nt+"> ]"),k(">>")},Ke=h.__private__.putHeader=function(){k("%PDF-"+v),k("%")},Ws=h.__private__.putXRef=function(){var A="0000000000";k("xref"),k("0 "+(dt+1)),k("0000000000 65535 f ");for(var D=1;D<=dt;D++)typeof T[D]=="function"?k((A+T[D]()).slice(-10)+" 00000 n "):T[D]!==void 0?k((A+T[D]).slice(-10)+" 00000 n "):k("0000000000 00000 n ")},un=h.__private__.buildDocument=function(){var A;dt=0,f=0,E=[],T=[],u=[],jn=li(),Yi=li(),R(E),ye.publish("buildDocument"),Ke(),hn(),(function(){ye.publish("putAdditionalObjects");for(var ht=0;ht<u.length;ht++){var mt=u[ht];hi(mt.objId,!0),k(mt.content),k("endobj")}ye.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var ht in Jt)Jt.hasOwnProperty(ht)&&(y===!1||y===!0&&x.hasOwnProperty(ht))&&hr(Jt[ht])})(),(function(){var ht;for(ht in Gt)Gt.hasOwnProperty(ht)&&Ba(Gt[ht])})(),(function(){for(var ht in Le)Le.hasOwnProperty(ht)&&Mr(Le[ht])})(),(function(ht){var mt;for(mt in Vt)Vt.hasOwnProperty(mt)&&(Vt[mt]instanceof nr?Dr(Vt[mt]):Vt[mt]instanceof Cr&&Or(Vt[mt],ht))})(A),ye.publish("putResources"),A.forEach(ts),ts({resourcesOid:Yi,objectOid:Number.MAX_SAFE_INTEGER}),ye.publish("postPutResources"),g!==null&&(ti.oid=Ee(),k("<<"),k("/Filter /Standard"),k("/V "+ti.v),k("/R "+ti.r),k("/U <"+ti.toHexString(ti.U)+">"),k("/O <"+ti.toHexString(ti.O)+">"),k("/P "+ti.P),k(">>"),k("endobj")),cn(),Br();var D=f;return Ws(),ja(),k("startxref"),k(""+D),k("%%EOF"),R(w[it]),E.join(`
`)},jr=h.__private__.getBlob=function(A){return new Blob([et(A)],{type:"application/pdf"})},Xs=h.output=h.__private__.output=(mi=function(A,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",A){case void 0:return un();case"save":h.save(D.filename);break;case"arraybuffer":return et(un());case"blob":return jr(un());case"bloburi":case"bloburl":if(he.URL!==void 0&&typeof he.URL.createObjectURL=="function")return he.URL&&he.URL.createObjectURL(jr(un()))||void 0;Re.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ht="",mt=un();try{ht=Th(mt)}catch{ht=Th(unescape(encodeURIComponent(mt)))}return"data:application/pdf;filename="+D.filename+";base64,"+ht;case"pdfobjectnewwindow":if(Object.prototype.toString.call(he)==="[object Window]"){var At="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(At=D.pdfObjectUrl,Ft="");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+At+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",Kt=he.open();return Kt!==null&&Kt.document.write(Dt),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(he)==="[object Window]"){var ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',ce=he.open();if(ce!==null){ce.document.write(ee);var ge=this;ce.document.documentElement.querySelector("#pdfViewer").onload=function(){ce.document.title=D.filename,ce.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ge.output("bloburl"))}}return ce}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(he)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Ue=he.open();if(Ue!==null&&(Ue.document.write(xe),Ue.document.title=D.filename),Ue||typeof safari>"u")return Ue;break;case"datauri":case"dataurl":return he.document.location.href=this.output("datauristring",D);default:return null}},mi.foo=function(){try{return mi.apply(this,arguments)}catch(ht){var A=ht.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var D="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ht.message;if(!he.console)throw new Error(D);he.console.error(D,ht),he.alert&&alert(D)}},mi.foo.bar=mi,mi.foo),zi=function(A){return Array.isArray(Ui)===!0&&Ui.indexOf(A)>-1};switch(i){case"pt":Ut=1;break;case"mm":Ut=72/25.4;break;case"cm":Ut=72/2.54;break;case"in":Ut=72;break;case"px":Ut=zi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ut=12;break;case"ex":Ut=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ut=i}var ti=null;Ct(),gt();var An=h.__private__.getPageInfo=h.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:te[A].objId,pageNumber:A,pageContext:te[A]}},$s=h.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in te)if(te[D].objId===A)break;return An(D)},Ua=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:te[it].objId,pageNumber:it,pageContext:te[it]}};h.addPage=function(){return Hs.apply(this,arguments),this},h.setPage=function(){return zs.apply(this,arguments),R.call(this,w[it]),this},h.insertPage=function(A){return this.addPage(),this.movePage(it,A),this},h.movePage=function(A,D){var ht,mt;if(A>D){ht=w[A],mt=te[A];for(var At=A;At>D;At--)w[At]=w[At-1],te[At]=te[At-1];w[D]=ht,te[D]=mt,this.setPage(D)}else if(A<D){ht=w[A],mt=te[A];for(var Ft=A;Ft<D;Ft++)w[Ft]=w[Ft+1],te[Ft]=te[Ft+1];w[D]=ht,te[D]=mt,this.setPage(D)}return this},h.deletePage=function(){return is.apply(this,arguments),this},h.__private__.text=h.text=function(A,D,ht,mt,At){var Ft,Dt,Kt,ee,ce,ge,xe,Ue,Ze,Me=(mt=mt||{}).scope||this;if(typeof A=="number"&&typeof D=="number"&&(typeof ht=="string"||Array.isArray(ht))){var ei=ht;ht=D,D=A,A=ei}if(arguments[3]instanceof ne==0?(Kt=arguments[4],ee=arguments[5],Te(xe=arguments[3])==="object"&&xe!==null||(typeof Kt=="string"&&(ee=Kt,Kt=null),typeof xe=="string"&&(ee=xe,xe=null),typeof xe=="number"&&(Kt=xe,xe=null),mt={flags:xe,angle:Kt,align:ee})):(j("The transform parameter of text() with a Matrix value"),Ze=At),isNaN(D)||isNaN(ht)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Me;var Qe,ci="",Nn=typeof mt.lineHeightFactor=="number"?mt.lineHeightFactor:ur,Qi=Me.internal.scaleFactor;function Pn(ke){return ke=ke.split("	").join(Array(mt.TabLen||9).join(" ")),Hi(ke,xe)}function us(ke){for(var Fe,Ge=ke.concat(),ii=[],Fn=Ge.length;Fn--;)typeof(Fe=Ge.shift())=="string"?ii.push(Fe):Array.isArray(ke)&&(Fe.length===1||Fe[1]===void 0&&Fe[2]===void 0)?ii.push(Fe[0]):ii.push([Fe[0],Fe[1],Fe[2]]);return ii}function zr(ke,Fe){var Ge;if(typeof ke=="string")Ge=Fe(ke)[0];else if(Array.isArray(ke)){for(var ii,Fn,As=ke.concat(),Wr=[],sa=As.length;sa--;)typeof(ii=As.shift())=="string"?Wr.push(Fe(ii)[0]):Array.isArray(ii)&&typeof ii[0]=="string"&&(Fn=Fe(ii[0],ii[1],ii[2]),Wr.push([Fn[0],Fn[1],Fn[2]]));Ge=Wr}return Ge}var Un=!1,gr=!0;if(typeof A=="string")Un=!0;else if(Array.isArray(A)){var mr=A.concat();Dt=[];for(var qn,ui=mr.length;ui--;)(typeof(qn=mr.shift())!="string"||Array.isArray(qn)&&typeof qn[0]!="string")&&(gr=!1);Un=gr}if(Un===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var br=Z/Me.internal.scaleFactor,vr=br*(Nn-1);switch(mt.baseline){case"bottom":ht-=vr;break;case"top":ht+=br-vr;break;case"hanging":ht+=br-2*vr;break;case"middle":ht+=br/2-vr}if((ge=mt.maxWidth||0)>0&&(typeof A=="string"?A=Me.splitTextToSize(A,ge):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(ke,Fe){return ke.concat(Me.splitTextToSize(Fe,ge))},[]))),Ft={text:A,x:D,y:ht,options:mt,mutex:{pdfEscape:Hi,activeFontKey:Rt,fonts:Jt,activeFontSize:Z}},ye.publish("preProcessText",Ft),A=Ft.text,Kt=(mt=Ft.options).angle,Ze instanceof ne==0&&Kt&&typeof Kt=="number"){Kt*=Math.PI/180,mt.rotationDirection===0&&(Kt=-Kt),P===_&&(Kt=-Kt);var ds=Math.cos(Kt),fs=Math.sin(Kt);Ze=new ne(ds,fs,-fs,ds,0,0)}else Kt&&Kt instanceof ne&&(Ze=Kt);P!==_||Ze||(Ze=Ce),(ce=mt.charSpace||Ln)!==void 0&&(ci+=$(ut(ce))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ue=mt.horizontalScale)!==void 0&&(ci+=$(100*Ue)+` Tz
`),mt.lang;var Si=-1,Tn=mt.renderingMode!==void 0?mt.renderingMode:mt.stroke,Vr=Me.internal.getCurrentPageInfo().pageContext;switch(Tn){case 0:case!1:case"fill":Si=0;break;case 1:case!0:case"stroke":Si=1;break;case 2:case"fillThenStroke":Si=2;break;case 3:case"invisible":Si=3;break;case 4:case"fillAndAddForClipping":Si=4;break;case 5:case"strokeAndAddPathForClipping":Si=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Si=6;break;case 7:case"addToPathForClipping":Si=7}var na=Vr.usedRenderingMode!==void 0?Vr.usedRenderingMode:-1;Si!==-1?ci+=Si+` Tr
`:na!==-1&&(ci+=`0 Tr
`),Si!==-1&&(Vr.usedRenderingMode=Si),ee=mt.align||"left";var Vi,yr=Z*Nn,ps=Me.internal.pageSize.getWidth(),gs=Jt[Rt];ce=mt.charSpace||Ln,ge=mt.maxWidth||0,xe=Object.assign({autoencode:!0,noBOM:!0},mt.flags);var Hn=[],wr=function(ke){return Me.getStringUnitWidth(ke,{font:gs,charSpace:ce,fontSize:Z,doKerning:!1})*Z/Qi};if(Object.prototype.toString.call(A)==="[object Array]"){var Ti;Dt=us(A),ee!=="left"&&(Vi=Dt.map(wr));var _i,zn=0;if(ee==="right"){D-=Vi[0],A=[],ui=Dt.length;for(var _n=0;_n<ui;_n++)_n===0?(_i=xn(D),Ti=Sn(ht)):(_i=ut(zn-Vi[_n]),Ti=-yr),A.push([Dt[_n],_i,Ti]),zn=Vi[_n]}else if(ee==="center"){D-=Vi[0]/2,A=[],ui=Dt.length;for(var Vn=0;Vn<ui;Vn++)Vn===0?(_i=xn(D),Ti=Sn(ht)):(_i=ut((zn-Vi[Vn])/2),Ti=-yr),A.push([Dt[Vn],_i,Ti]),zn=Vi[Vn]}else if(ee==="left"){A=[],ui=Dt.length;for(var ms=0;ms<ui;ms++)A.push(Dt[ms])}else if(ee==="justify"&&gs.encoding==="Identity-H"){A=[],ui=Dt.length,ge=ge!==0?ge:ps;for(var Gr=0,Ve=0;Ve<ui;Ve++)if(Ti=Ve===0?Sn(ht):-yr,_i=Ve===0?xn(D):Gr,Ve<ui-1){var ra=ut((ge-Vi[Ve])/(Dt[Ve].split(" ").length-1)),fn=Dt[Ve].split(" ");A.push([fn[0]+" ",_i,Ti]),Gr=0;for(var pn=1;pn<fn.length;pn++){var bs=(wr(fn[pn-1]+" "+fn[pn])-wr(fn[pn]))*Qi+ra;pn==fn.length-1?A.push([fn[pn],bs,0]):A.push([fn[pn]+" ",bs,0]),Gr-=bs}}else A.push([Dt[Ve],_i,Ti]);A.push(["",Gr,0])}else{if(ee!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],ui=Dt.length,ge=ge!==0?ge:ps,Ve=0;Ve<ui;Ve++){Ti=Ve===0?Sn(ht):-yr,_i=Ve===0?xn(D):0;var vs=Dt[Ve].split(" ").length-1,ys=vs>0?(ge-Vi[Ve])/vs:0;Ve<ui-1?Hn.push($(ut(ys))):Hn.push(0),A.push([Dt[Ve],_i,Ti])}}}(typeof mt.R2L=="boolean"?mt.R2L:W)===!0&&(A=zr(A,function(ke,Fe,Ge){return[ke.split("").reverse().join(""),Fe,Ge]})),Ft={text:A,x:D,y:ht,options:mt,mutex:{pdfEscape:Hi,activeFontKey:Rt,fonts:Jt,activeFontSize:Z}},ye.publish("postProcessText",Ft),A=Ft.text,Qe=Ft.mutex.isHex||!1;var ws=Jt[Rt].encoding;ws!=="WinAnsiEncoding"&&ws!=="StandardEncoding"||(A=zr(A,function(ke,Fe,Ge){return[Pn(ke),Fe,Ge]})),Dt=us(A),A=[];for(var Gn,Wn,Xn,Ar=Array.isArray(Dt[0])?1:0,$n="",xr=function(ke,Fe,Ge){var ii="";return Ge instanceof ne?(Ge=typeof mt.angle=="number"?gi(Ge,new ne(1,0,0,1,ke,Fe)):gi(new ne(1,0,0,1,ke,Fe),Ge),P===_&&(Ge=gi(new ne(1,0,0,-1,0,0),Ge)),ii=Ge.join(" ")+` Tm
`):ii=$(ke)+" "+$(Fe)+` Td
`,ii},Gi=0;Gi<Dt.length;Gi++){switch($n="",Ar){case 1:Xn=(Qe?"<":"(")+Dt[Gi][0]+(Qe?">":")"),Gn=parseFloat(Dt[Gi][1]),Wn=parseFloat(Dt[Gi][2]);break;case 0:Xn=(Qe?"<":"(")+Dt[Gi]+(Qe?">":")"),Gn=xn(D),Wn=Sn(ht)}Hn!==void 0&&Hn[Gi]!==void 0&&($n=Hn[Gi]+` Tw
`),Gi===0?A.push($n+xr(Gn,Wn,Ze)+Xn):Ar===0?A.push($n+Xn):Ar===1&&A.push($n+xr(Gn,Wn,Ze)+Xn)}A=Ar===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var gn=`BT
/`;return gn+=Rt+" "+Z+` Tf
`,gn+=$(Z*Nn)+` TL
`,gn+=dr+`
`,gn+=ci,gn+=A,k(gn+="ET"),x[Rt]=!0,Me};var qa=h.__private__.clip=h.clip=function(A){return k(A==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return qa("evenodd")},h.__private__.discardPath=h.discardPath=function(){return k("n"),this};var dn=h.__private__.isValidStyle=function(A){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(D=!0),D};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(A){return dn(A)&&(d=A),this};var Ys=h.__private__.getStyle=h.getStyle=function(A){var D=d;switch(A){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=A}return D},Js=h.close=function(){return k("h"),this};h.stroke=function(){return k("S"),this},h.fill=function(A){return Ur("f",A),this},h.fillEvenOdd=function(A){return Ur("f*",A),this},h.fillStroke=function(A){return Ur("B",A),this},h.fillStrokeEvenOdd=function(A){return Ur("B*",A),this};var Ur=function(A,D){Te(D)==="object"?za(D,A):k(A)},cr=function(A){A===null||P===_&&A===void 0||(A=Ys(A),k(A))};function Ha(A,D,ht,mt,At){var Ft=new Cr(D||this.boundingBox,ht||this.xStep,mt||this.yStep,this.gState,At||this.matrix);Ft.stream=this.stream;var Dt=A+"$$"+this.cloneIndex+++"$$";return oi(Dt,Ft),Ft}var za=function(A,D){var ht=pe[A.key],mt=Vt[ht];if(mt instanceof nr)k("q"),k(Va(D)),mt.gState&&h.setGState(mt.gState),k(A.matrix.toString()+" cm"),k("/"+ht+" sh"),k("Q");else if(mt instanceof Cr){var At=new ne(1,0,0,-1,0,pr());A.matrix&&(At=At.multiply(A.matrix||Ce),ht=Ha.call(mt,A.key,A.boundingBox,A.xStep,A.yStep,At).id),k("q"),k("/Pattern cs"),k("/"+ht+" scn"),mt.gState&&h.setGState(mt.gState),k(D),k("Q")}},Va=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ns=h.moveTo=function(A,D){return k($(ut(A))+" "+$(tt(D))+" m"),this},Ks=h.lineTo=function(A,D){return k($(ut(A))+" "+$(tt(D))+" l"),this},Zi=h.curveTo=function(A,D,ht,mt,At,Ft){return k([$(ut(A)),$(tt(D)),$(ut(ht)),$(tt(mt)),$(ut(At)),$(tt(Ft)),"c"].join(" ")),this};h.__private__.line=h.line=function(A,D,ht,mt,At){if(isNaN(A)||isNaN(D)||isNaN(ht)||isNaN(mt)||!dn(At))throw new Error("Invalid arguments passed to jsPDF.line");return P===C?this.lines([[ht-A,mt-D]],A,D,[1,1],At||"S"):this.lines([[ht-A,mt-D]],A,D,[1,1]).stroke()},h.__private__.lines=h.lines=function(A,D,ht,mt,At,Ft){var Dt,Kt,ee,ce,ge,xe,Ue,Ze,Me,ei,Qe,ci;if(typeof A=="number"&&(ci=ht,ht=D,D=A,A=ci),mt=mt||[1,1],Ft=Ft||!1,isNaN(D)||isNaN(ht)||!Array.isArray(A)||!Array.isArray(mt)||!dn(At)||typeof Ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ns(D,ht),Dt=mt[0],Kt=mt[1],ce=A.length,ei=D,Qe=ht,ee=0;ee<ce;ee++)(ge=A[ee]).length===2?(ei=ge[0]*Dt+ei,Qe=ge[1]*Kt+Qe,Ks(ei,Qe)):(xe=ge[0]*Dt+ei,Ue=ge[1]*Kt+Qe,Ze=ge[2]*Dt+ei,Me=ge[3]*Kt+Qe,ei=ge[4]*Dt+ei,Qe=ge[5]*Kt+Qe,Zi(xe,Ue,Ze,Me,ei,Qe));return Ft&&Js(),cr(At),this},h.path=function(A){for(var D=0;D<A.length;D++){var ht=A[D],mt=ht.c;switch(ht.op){case"m":ns(mt[0],mt[1]);break;case"l":Ks(mt[0],mt[1]);break;case"c":Zi.apply(this,mt);break;case"h":Js()}}return this},h.__private__.rect=h.rect=function(A,D,ht,mt,At){if(isNaN(A)||isNaN(D)||isNaN(ht)||isNaN(mt)||!dn(At))throw new Error("Invalid arguments passed to jsPDF.rect");return P===C&&(mt=-mt),k([$(ut(A)),$(tt(D)),$(ut(ht)),$(ut(mt)),"re"].join(" ")),cr(At),this},h.__private__.triangle=h.triangle=function(A,D,ht,mt,At,Ft,Dt){if(isNaN(A)||isNaN(D)||isNaN(ht)||isNaN(mt)||isNaN(At)||isNaN(Ft)||!dn(Dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ht-A,mt-D],[At-ht,Ft-mt],[A-At,D-Ft]],A,D,[1,1],Dt,!0),this},h.__private__.roundedRect=h.roundedRect=function(A,D,ht,mt,At,Ft,Dt){if(isNaN(A)||isNaN(D)||isNaN(ht)||isNaN(mt)||isNaN(At)||isNaN(Ft)||!dn(Dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return At=Math.min(At,.5*ht),Ft=Math.min(Ft,.5*mt),this.lines([[ht-2*At,0],[At*Kt,0,At,Ft-Ft*Kt,At,Ft],[0,mt-2*Ft],[0,Ft*Kt,-At*Kt,Ft,-At,Ft],[2*At-ht,0],[-At*Kt,0,-At,-Ft*Kt,-At,-Ft],[0,2*Ft-mt],[0,-Ft*Kt,At*Kt,-Ft,At,-Ft]],A+At,D,[1,1],Dt,!0),this},h.__private__.ellipse=h.ellipse=function(A,D,ht,mt,At){if(isNaN(A)||isNaN(D)||isNaN(ht)||isNaN(mt)||!dn(At))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*ht,Dt=4/3*(Math.SQRT2-1)*mt;return ns(A+ht,D),Zi(A+ht,D-Dt,A+Ft,D-mt,A,D-mt),Zi(A-Ft,D-mt,A-ht,D-Dt,A-ht,D),Zi(A-ht,D+Dt,A-Ft,D+mt,A,D+mt),Zi(A+Ft,D+mt,A+ht,D+Dt,A+ht,D),cr(At),this},h.__private__.circle=h.circle=function(A,D,ht,mt){if(isNaN(A)||isNaN(D)||isNaN(ht)||!dn(mt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,D,ht,ht,mt)},h.setFont=function(A,D,ht){return ht&&(D=V(D,ht)),Rt=Gs(A,D,{disableWarning:!1}),this};var Ga=h.__private__.getFont=h.getFont=function(){return Jt[Gs.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var A,D,ht={};for(A in Ht)if(Ht.hasOwnProperty(A))for(D in ht[A]=[],Ht[A])Ht[A].hasOwnProperty(D)&&ht[A].push(D);return ht},h.addFont=function(A,D,ht,mt,At){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ft.indexOf(arguments[3])!==-1?At=arguments[3]:arguments[3]&&Ft.indexOf(arguments[3])==-1&&(ht=V(ht,mt)),qs.call(this,A,D,ht,At=At||"Identity-H")};var ur,rs=n.lineWidth||.200025,Wa=h.__private__.getLineWidth=h.getLineWidth=function(){return rs},ue=h.__private__.setLineWidth=h.setLineWidth=function(A){return rs=A,k($(ut(A))+" w"),this};h.__private__.setLineDash=ie.API.setLineDash=ie.API.setLineDashPattern=function(A,D){if(A=A||[],D=D||0,isNaN(D)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ht){return $(ut(ht))}).join(" "),D=$(ut(D)),k("["+A+"] "+D+" d"),this};var Xa=h.__private__.getLineHeight=h.getLineHeight=function(){return Z*ur};h.__private__.getLineHeight=h.getLineHeight=function(){return Z*ur};var $a=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(ur=A),this},Ya=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ur};$a(n.lineHeight);var xn=h.__private__.getHorizontalCoordinate=function(A){return ut(A)},Sn=h.__private__.getVerticalCoordinate=function(A){return P===_?A:te[it].mediaBox.topRightY-te[it].mediaBox.bottomLeftY-ut(A)},Ja=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(A){return $(xn(A))},Ka=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(A){return $(Sn(A))},qr=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ln(qr)},h.__private__.setStrokeColor=h.setDrawColor=function(A,D,ht,mt){return qr=Ji({ch1:A,ch2:D,ch3:ht,ch4:mt,pdfColorType:"draw",precision:2}),k(qr),this};var ss=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ln(ss)},h.__private__.setFillColor=h.setFillColor=function(A,D,ht,mt){return ss=Ji({ch1:A,ch2:D,ch3:ht,ch4:mt,pdfColorType:"fill",precision:2}),k(ss),this};var dr=n.textColor||"0 g",Za=h.__private__.getTextColor=h.getTextColor=function(){return ln(dr)};h.__private__.setTextColor=h.setTextColor=function(A,D,ht,mt){return dr=Ji({ch1:A,ch2:D,ch3:ht,ch4:mt,pdfColorType:"text",precision:3}),this};var Ln=n.charSpace,Qa=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ln||0)};h.__private__.setCharSpace=h.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ln=A,this};var as=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(A){var D=h.CapJoinStyles[A];if(D===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return as=D,k(D+" J"),this};var os=0;h.__private__.setLineJoin=h.setLineJoin=function(A){var D=h.CapJoinStyles[A];if(D===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return os=D,k(D+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return k($(ut(A))+" M"),this},h.GState=Bs,h.setGState=function(A){(A=typeof A=="string"?Gt[Xt[A]]:Zs(null,A)).equals(le)||(k("/"+A.id+" gs"),le=A)};var Zs=function(A,D){if(!A||!Xt[A]){var ht=!1;for(var mt in Gt)if(Gt.hasOwnProperty(mt)&&Gt[mt].equals(D)){ht=!0;break}if(ht)D=Gt[mt];else{var At="GS"+(Object.keys(Gt).length+1).toString(10);Gt[At]=D,D.id=At}return A&&(Xt[A]=D.id),ye.publish("addGState",D),D}};h.addGState=function(A,D){return Zs(A,D),this},h.saveGraphicsState=function(){return k("q"),ve.push({key:Rt,size:Z,color:dr}),this},h.restoreGraphicsState=function(){k("Q");var A=ve.pop();return Rt=A.key,Z=A.size,dr=A.color,le=null,this},h.setCurrentTransformationMatrix=function(A){return k(A.toString()+" cm"),this},h.comment=function(A){return k("#"+A),this};var Cn=function(A,D){var ht=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ht},set:function(Ft){isNaN(Ft)||(ht=parseFloat(Ft))}});var mt=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return mt},set:function(Ft){isNaN(Ft)||(mt=parseFloat(Ft))}});var At="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return At},set:function(Ft){At=Ft.toString()}}),this},ls=function(A,D,ht,mt){Cn.call(this,A,D),this.type="rect";var At=ht||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return At},set:function(Dt){isNaN(Dt)||(At=parseFloat(Dt))}});var Ft=mt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(Dt){isNaN(Dt)||(Ft=parseFloat(Dt))}}),this},Hr=function(){this.page=ae,this.currentPage=it,this.pages=w.slice(0),this.pagesContext=te.slice(0),this.x=Mt,this.y=se,this.matrix=Wt,this.width=cs(it),this.height=ta(it),this.outputDestination=I,this.id="",this.objectNumber=-1};Hr.prototype.restore=function(){ae=this.page,it=this.currentPage,te=this.pagesContext,w=this.pages,Mt=this.x,se=this.y,Wt=this.matrix,Qs(it,this.width),kn(it,this.height),I=this.outputDestination};var hs=function(A,D,ht,mt,At){xi.push(new Hr),ae=it=0,w=[],Mt=A,se=D,Wt=At,es([ht,mt])};for(var fr in h.beginFormObject=function(A,D,ht,mt,At){return hs(A,D,ht,mt,At),this},h.endFormObject=function(A){return(function(D){if(_e[D])xi.pop().restore();else{var ht=new Hr,mt="Xo"+(Object.keys(Le).length+1).toString(10);ht.id=mt,_e[D]=mt,Le[mt]=ht,ye.publish("addFormObject",ht),xi.pop().restore()}})(A),this},h.doFormObject=function(A,D){var ht=Le[_e[A]];return k("q"),k(D.toString()+" cm"),k("/"+ht.id+" Do"),k("Q"),this},h.getFormObject=function(A){var D=Le[_e[A]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},h.save=function(A,D){return A=A||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Lr(jr(un()),A),typeof Lr.unload=="function"&&he.setTimeout&&setTimeout(Lr.unload,911),this):new Promise(function(ht,mt){try{var At=Lr(jr(un()),A);typeof Lr.unload=="function"&&he.setTimeout&&setTimeout(Lr.unload,911),ht(At)}catch(Ft){mt(Ft.message)}})},ie.API)ie.API.hasOwnProperty(fr)&&(fr==="events"&&ie.API.events.length?(function(A,D){var ht,mt,At;for(At=D.length-1;At!==-1;At--)ht=D[At][0],mt=D[At][1],A.subscribe.apply(A,[ht].concat(typeof mt=="function"?[mt]:mt))})(ye,ie.API.events):h[fr]=ie.API[fr]);function cs(A){return te[A].mediaBox.topRightX-te[A].mediaBox.bottomLeftX}function Qs(A,D){te[A].mediaBox.topRightX=D+te[A].mediaBox.bottomLeftX}function ta(A){return te[A].mediaBox.topRightY-te[A].mediaBox.bottomLeftY}function kn(A,D){te[A].mediaBox.topRightY=D+te[A].mediaBox.bottomLeftY}var En=h.getPageWidth=function(A){return cs(A=A||it)/Ut},ea=h.setPageWidth=function(A,D){Qs(A,D*Ut)},pr=h.getPageHeight=function(A){return ta(A=A||it)/Ut},ia=h.setPageHeight=function(A,D){kn(A,D*Ut)};return h.internal={pdfEscape:Hi,getStyle:Ys,getFont:Ga,getFontSize:ct,getCharSpace:Qa,getTextColor:Za,getLineHeight:Xa,getLineHeightFactor:Ya,getLineWidth:Wa,write:z,getHorizontalCoordinate:xn,getVerticalCoordinate:Sn,getCoordinateString:Ja,getVerticalCoordinateString:Ka,collections:{},newObject:Ee,newAdditionalObject:or,newObjectDeferred:li,newObjectDeferredBegin:hi,getFilters:Ki,putStream:qi,events:ye,scaleFactor:Ut,pageSize:{getWidth:function(){return En(it)},setWidth:function(A){ea(it,A)},getHeight:function(){return pr(it)},setHeight:function(A){ia(it,A)}},encryptionOptions:g,encryption:ti,getEncryptor:function(A){return g!==null?ti.encryptor(A,0):function(D){return D}},output:Xs,getNumberOfPages:Vs,get pages(){return w},out:k,f2:M,f3:X,getPageInfo:An,getPageInfoByObjId:$s,getCurrentPageInfo:Ua,getPDFVersion:S,Point:Cn,Rectangle:ls,Matrix:ne,hasHotfix:zi},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return En(it)},set:function(A){ea(it,A)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return pr(it)},set:function(A){ia(it,A)},enumerable:!0,configurable:!0}),function(A){for(var D=0,ht=K.length;D<ht;D++){var mt=qs.call(this,A[D][0],A[D][1],A[D][2],K[D][3],!0);y===!1&&(x[mt]=!0);var At=A[D][0].split("-");Us({id:mt,fontName:At[0],fontStyle:At[1]||""})}ye.publish("addFonts",{fonts:Jt,dictionary:Ht})}.call(h,K),Rt="F1",Hs(a,t),ye.publish("initialized"),h}Kr.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Kr.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Kr.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Kr.prototype.processOwnerPassword=function(n,e){return Wo(Go(e).substr(0,5),n)},Kr.prototype.encryptor=function(n,e){var t=Go(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Wo(t,i)}},Bs.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Te(n)!==Te(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},ie.API={events:[]},ie.version="3.0.4";var ze=ie.API,Qo=1,Rr=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yr=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},de=function(n){return n.toFixed(2)},ir=function(n){return n.toFixed(5)};ze.__acroform__={};var Pi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Rh=function(n){return n*Qo},bn=function(n){var e=new Mc,t=Yt.internal.getHeight(n)||0,i=Yt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(de(i)),Number(de(t))],e},qf=ze.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Hf=ze.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},zf=ze.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},$e=ze.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zf(n,e-1)},Ye=ze.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qf(n,e-1)},Je=ze.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Hf(n,e-1)},Vf=ze.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,a=n[0],r=n[1],b=n[2],l=n[3],p={};return p.lowerLeft_X=t(a)||0,p.lowerLeft_Y=i(r+l)||0,p.upperRight_X=t(a+b)||0,p.upperRight_Y=i(r)||0,[Number(de(p.lowerLeft_X)),Number(de(p.lowerLeft_Y)),Number(de(p.upperRight_X)),Number(de(p.upperRight_Y))]},Gf=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=Xo(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+de(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var r=bn(n);return r.scope=n.scope,r.stream=e.join(`
`),r}},Xo=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(M){return M.split(`
`)}):a.map(function(M){return[M]});var r=t,b=Yt.internal.getHeight(n)||0;b=b<0?-b:b;var l=Yt.internal.getWidth(n)||0;l=l<0?-l:l;var p=function(M,X,ut){if(M+1<a.length){var tt=X+" "+a[M+1][0];return Na(tt,n,ut).width<=l-4}return!1};r++;t:for(;r>0;){e="",r--;var d,g,y=Na("3",n,r).height,x=n.multiline?b-r:(b-y)/2,h=x+=2,v=0,S=0,o=0;if(r<=0){e=`(...) Tj
`,e+="% Width of Text: "+Na(e,n,r=12).width+", FieldWidth:"+l+`
`;break}for(var m="",C=0,_=0;_<a.length;_++)if(a.hasOwnProperty(_)){var P=!1;if(a[_].length!==1&&o!==a[_].length-1){if((y+2)*(C+2)+2>b)continue t;m+=a[_][o],P=!0,S=_,_--}else{m=(m+=a[_][o]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var U=parseInt(_),H=p(U,m,r),V=_>=a.length-1;if(H&&!V){m+=" ",o=0;continue}if(H||V){if(V)S=U;else if(n.multiline&&(y+2)*(C+2)+2>b)continue t}else{if(!n.multiline||(y+2)*(C+2)+2>b)continue t;S=U}}for(var $="",j=v;j<=S;j++){var at=a[j];if(n.multiline){if(j===S){$+=at[o]+" ",o=(o+1)%at.length;continue}if(j===v){$+=at[at.length-1]+" ";continue}}$+=at[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,g=Na($,n,r).width,n.textAlign){case"right":d=l-g-2;break;case"center":d=(l-g)/2;break;default:d=2}e+=de(d)+" "+de(h)+` Td
`,e+="("+Rr($)+`) Tj
`,e+=-de(d)+` 0 Td
`,h=-(r+2),g=0,v=P?S:S+1,C++,m=""}break}return i.text=e,i.fontSize=r,i},Na=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},Wf={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xf=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},$f=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(an.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Wf)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Qo=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Dc,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var r=i[a];r.objId=void 0,r.hasAnnotation&&Xf(r,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,a){var r=!i;for(var b in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(b)){var l=i[b],p=[],d=l.Rect;if(l.Rect&&(l.Rect=Vf(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Yt.createDefaultAppearanceStream(l),Te(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(p=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var g=Gf(l);p.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(l.appearanceStreamContent){var y="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var h=l.appearanceStreamContent[x];if(y+="/"+x+" ",y+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var b in h)if(h.hasOwnProperty(b)){var v=h[b];typeof v=="function"&&(v=v.call(a,l)),y+="/"+b+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(a,l)),y+="/"+b+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);y+=">>"}p.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:p,objectId:l.objId}),a.internal.out("endobj")}r&&(function(S,o){for(var m in S)if(S.hasOwnProperty(m)){var C=m,_=S[m];o.internal.newObjectDeferredBegin(_.objId,!0),Te(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete S[C]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},Rc=ze.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(b){return b};if(Array.isArray(n)){for(var a="[",r=0;r<n.length;r++)switch(r!==0&&(a+=" "),Te(n[r])){case"boolean":case"number":case"object":a+=n[r].toString();break;case"string":n[r].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),a+="("+Rr(i(n[r].toString()))+")"):a+=n[r].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Io=function(n,e,t){var i=function(a){return a};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Rr(i(n))+")"},yn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};yn.prototype.toString=function(){return this.objId+" 0 R"},yn.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},yn.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],a=this[i];a&&(Array.isArray(a)?n.push({key:i,value:Rc(a,this.objId,this.scope)}):a instanceof yn?(a.scope=this.scope,n.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:i,value:a}))}return n};var Mc=function(){yn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Pi(Mc,yn);var Dc=function(){yn.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Rr(t(n))+")"}},set:function(t){n=t}})};Pi(Dc,yn);var an=function n(){yn.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$e(e,3)},set:function(m){m?this.F=Ye(e,3):this.F=Je(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');t=m}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(m){i=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(m){i[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(m){i[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(m){i[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(m){i[3]=m}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof Ma)return;r="FieldObject"+n.FieldNum++}var m=function(C){return C};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Rr(m(r))+")"},set:function(m){r=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(m){r=m}});var b="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return b},set:function(m){b=m}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){p=m}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Qo:d},set:function(m){d=m}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(m){g=m}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Ma||this instanceof sr))return Io(y,this.objId,this.scope)},set:function(m){m=m.toString(),y=m}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ai==0?Io(x,this.objId,this.scope):x},set:function(m){m=m.toString(),x=this instanceof ai==0?m.substr(0,1)==="("?Yr(m.substr(1,m.length-2)):Yr(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?Yr(x.substr(1,x.length-1)):x},set:function(m){m=m.toString(),x=this instanceof ai==1?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ai==0?Io(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof ai==0?m.substr(0,1)==="("?Yr(m.substr(1,m.length-2)):Yr(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?Yr(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof ai==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(m){m=!!m,S=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(m){v=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,1)},set:function(m){m?this.Ff=Ye(this.Ff,1):this.Ff=Je(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,2)},set:function(m){m?this.Ff=Ye(this.Ff,2):this.Ff=Je(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,3)},set:function(m){m?this.Ff=Ye(this.Ff,3):this.Ff=Je(this.Ff,3)}});var o=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(o!==null)return o},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');o=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(o){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:o=2;break;case"center":case 1:o=1;break;default:o=0}}})};Pi(an,yn);var Er=function(){an.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Rc(e,this.objId,this.scope)},set:function(t){var i,a;a=[],typeof(i=t)=="string"&&(a=(function(r,b,l){l||(l=1);for(var p,d=[];p=b.exec(r);)d.push(p[l]);return d})(i,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,18)},set:function(t){t?this.Ff=Ye(this.Ff,18):this.Ff=Je(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ye(this.Ff,19):this.Ff=Je(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,20)},set:function(t){t?(this.Ff=Ye(this.Ff,20),e.sort()):this.Ff=Je(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,22)},set:function(t){t?this.Ff=Ye(this.Ff,22):this.Ff=Je(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,23)},set:function(t){t?this.Ff=Ye(this.Ff,23):this.Ff=Je(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,27)},set:function(t){t?this.Ff=Ye(this.Ff,27):this.Ff=Je(this.Ff,27)}}),this.hasAppearanceStream=!1};Pi(Er,an);var Nr=function(){Er.call(this),this.fontName="helvetica",this.combo=!1};Pi(Nr,Er);var Pr=function(){Nr.call(this),this.combo=!0};Pi(Pr,Nr);var Fs=function(){Pr.call(this),this.edit=!0};Pi(Fs,Pr);var ai=function(){an.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,15)},set:function(t){t?this.Ff=Ye(this.Ff,15):this.Ff=Je(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,16)},set:function(t){t?this.Ff=Ye(this.Ff,16):this.Ff=Je(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,17)},set:function(t){t?this.Ff=Ye(this.Ff,17):this.Ff=Je(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,26)},set:function(t){t?this.Ff=Ye(this.Ff,26):this.Ff=Je(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(r){return r};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,a=[];for(i in a.push("<<"),e)a.push("/"+i+" ("+Rr(t(e[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Te(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Pi(ai,an);var Is=function(){ai.call(this),this.pushButton=!0};Pi(Is,ai);var Tr=function(){ai.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Pi(Tr,ai);var Ma=function(){var n,e;an.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var r,b=[];for(r in b.push("<<"),i)b.push("/"+r+" ("+Rr(a(i[r]))+")");return b.push(">>"),b.join(`
`)},set:function(a){Te(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Pi(Ma,an),Tr.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Tr.prototype.createOption=function(n){var e=new Ma;return e.Parent=this,e.optionName=n,this.Kids.push(e),Yf.call(this.scope,e),e};var Rs=function(){ai.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yt.CheckBox.createAppearanceStream()};Pi(Rs,ai);var sr=function(){an.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,13)},set:function(e){e?this.Ff=Ye(this.Ff,13):this.Ff=Je(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,21)},set:function(e){e?this.Ff=Ye(this.Ff,21):this.Ff=Je(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,23)},set:function(e){e?this.Ff=Ye(this.Ff,23):this.Ff=Je(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,24)},set:function(e){e?this.Ff=Ye(this.Ff,24):this.Ff=Je(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,25)},set:function(e){e?this.Ff=Ye(this.Ff,25):this.Ff=Je(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,26)},set:function(e){e?this.Ff=Ye(this.Ff,26):this.Ff=Je(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Pi(sr,an);var Ms=function(){sr.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$e(this.Ff,14)},set:function(n){n?this.Ff=Ye(this.Ff,14):this.Ff=Je(this.Ff,14)}}),this.password=!0};Pi(Ms,sr);var Yt={CheckBox:{createAppearanceStream:function(){return{N:{On:Yt.CheckBox.YesNormal},D:{On:Yt.CheckBox.YesPushDown,Off:Yt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=bn(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),r=Xo(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+de(Yt.internal.getWidth(n))+" "+de(Yt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+de(r.fontSize)+" Tf "+a),t.push("BT"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=bn(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=[],r=Yt.internal.getHeight(n),b=Yt.internal.getWidth(n),l=Xo(n,n.caption);return a.push("1 g"),a.push("0 0 "+de(b)+" "+de(r)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+de(b-1)+" "+de(r-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+de(l.fontSize)+" Tf "+i),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=bn(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+de(Yt.internal.getWidth(n))+" "+de(Yt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Yt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Yt.RadioButton.Circle.YesNormal,e.D[n]=Yt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=bn(n);e.scope=n.scope;var t=[],i=Yt.internal.getWidth(n)<=Yt.internal.getHeight(n)?Yt.internal.getWidth(n)/4:Yt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Yt.internal.Bezier_C,r=Number((i*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ir(Yt.internal.getWidth(n)/2)+" "+ir(Yt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),t.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),t.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),t.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=bn(n);e.scope=n.scope;var t=[],i=Yt.internal.getWidth(n)<=Yt.internal.getHeight(n)?Yt.internal.getWidth(n)/4:Yt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),r=Number((a*Yt.internal.Bezier_C).toFixed(5)),b=Number((i*Yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ir(Yt.internal.getWidth(n)/2)+" "+ir(Yt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),t.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),t.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),t.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ir(Yt.internal.getWidth(n)/2)+" "+ir(Yt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+b+" "+b+" "+i+" 0 "+i+" c"),t.push("-"+b+" "+i+" -"+i+" "+b+" -"+i+" 0 c"),t.push("-"+i+" -"+b+" -"+b+" -"+i+" 0 -"+i+" c"),t.push(b+" -"+i+" "+i+" -"+b+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=bn(n);e.scope=n.scope;var t=[],i=Yt.internal.getWidth(n)<=Yt.internal.getHeight(n)?Yt.internal.getWidth(n)/4:Yt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),r=Number((a*Yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ir(Yt.internal.getWidth(n)/2)+" "+ir(Yt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),t.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),t.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),t.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Yt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Yt.RadioButton.Cross.YesNormal,e.D[n]=Yt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=bn(n);e.scope=n.scope;var t=[],i=Yt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+de(Yt.internal.getWidth(n)-2)+" "+de(Yt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(de(i.x1.x)+" "+de(i.x1.y)+" m"),t.push(de(i.x2.x)+" "+de(i.x2.y)+" l"),t.push(de(i.x4.x)+" "+de(i.x4.y)+" m"),t.push(de(i.x3.x)+" "+de(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=bn(n);e.scope=n.scope;var t=Yt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+de(Yt.internal.getWidth(n))+" "+de(Yt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+de(Yt.internal.getWidth(n)-2)+" "+de(Yt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(de(t.x1.x)+" "+de(t.x1.y)+" m"),i.push(de(t.x2.x)+" "+de(t.x2.y)+" l"),i.push(de(t.x4.x)+" "+de(t.x4.y)+" m"),i.push(de(t.x3.x)+" "+de(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=bn(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+de(Yt.internal.getWidth(n))+" "+de(Yt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Yt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Yt.internal.getWidth(n),t=Yt.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},Yt.internal.getWidth=function(n){var e=0;return Te(n)==="object"&&(e=Rh(n.Rect[2])),e},Yt.internal.getHeight=function(n){var e=0;return Te(n)==="object"&&(e=Rh(n.Rect[3])),e};var Yf=ze.addField=function(n){if($f(this,n),!(n instanceof an))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ze.AcroFormChoiceField=Er,ze.AcroFormListBox=Nr,ze.AcroFormComboBox=Pr,ze.AcroFormEditBox=Fs,ze.AcroFormButton=ai,ze.AcroFormPushButton=Is,ze.AcroFormRadioButton=Tr,ze.AcroFormCheckBox=Rs,ze.AcroFormTextField=sr,ze.AcroFormPasswordField=Ms,ze.AcroFormAppearance=Yt,ze.AcroForm={ChoiceField:Er,ListBox:Nr,ComboBox:Pr,EditBox:Fs,Button:ai,PushButton:Is,RadioButton:Tr,CheckBox:Rs,TextField:sr,PasswordField:Ms,Appearance:Yt},ie.AcroForm={ChoiceField:Er,ListBox:Nr,ComboBox:Pr,EditBox:Fs,Button:ai,PushButton:Is,RadioButton:Tr,CheckBox:Rs,TextField:sr,PasswordField:Ms,Appearance:Yt};ie.AcroForm;function Oc(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(M,X){var ut,tt,Y,nt,bt,gt=t;if((X=X||t)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(H(M))for(bt in i)for(Y=i[bt],ut=0;ut<Y.length;ut+=1){for(nt=!0,tt=0;tt<Y[ut].length;tt+=1)if(Y[ut][tt]!==void 0&&Y[ut][tt]!==M[tt]){nt=!1;break}if(nt===!0){gt=bt;break}}else for(bt in i)for(Y=i[bt],ut=0;ut<Y.length;ut+=1){for(nt=!0,tt=0;tt<Y[ut].length;tt+=1)if(Y[ut][tt]!==void 0&&Y[ut][tt]!==M.charCodeAt(tt)){nt=!1;break}if(nt===!0){gt=bt;break}}return gt===t&&X!==t&&(gt=X),gt},r=function M(X){for(var ut=this.internal.write,tt=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);X.objectId=this.internal.newObject();var nt=[];if(nt.push({key:"Type",value:"/XObject"}),nt.push({key:"Subtype",value:"/Image"}),nt.push({key:"Width",value:X.width}),nt.push({key:"Height",value:X.height}),X.colorSpace===m.INDEXED?nt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(X.palette.length/3-1)+" "+("sMask"in X&&X.sMask!==void 0?X.objectId+2:X.objectId+1)+" 0 R]"}):(nt.push({key:"ColorSpace",value:"/"+X.colorSpace}),X.colorSpace===m.DEVICE_CMYK&&nt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),nt.push({key:"BitsPerComponent",value:X.bitsPerComponent}),"decodeParameters"in X&&X.decodeParameters!==void 0&&nt.push({key:"DecodeParms",value:"<<"+X.decodeParameters+">>"}),"transparency"in X&&Array.isArray(X.transparency)&&X.transparency.length>0){for(var bt="",gt=0,yt=X.transparency.length;gt<yt;gt++)bt+=X.transparency[gt]+" "+X.transparency[gt]+" ";nt.push({key:"Mask",value:"["+bt+"]"})}X.sMask!==void 0&&nt.push({key:"SMask",value:X.objectId+1+" 0 R"});var Nt=X.filter!==void 0?["/"+X.filter]:void 0;if(tt({data:X.data,additionalKeyValues:nt,alreadyAppliedFilters:Nt,objectId:X.objectId}),ut("endobj"),"sMask"in X&&X.sMask!==void 0){var Ct,B=(Ct=X.sMaskBitsPerComponent)!==null&&Ct!==void 0?Ct:X.bitsPerComponent,it={width:X.width,height:X.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:X.sMask};"filter"in X&&(it.decodeParameters="/Predictor ".concat(X.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(X.width),it.filter=X.filter),M.call(this,it)}if(X.colorSpace===m.INDEXED){var st=this.internal.newObject();tt({data:$(new Uint8Array(X.palette)),objectId:st}),ut("endobj")}},b=function(){var M=this.internal.collections[e+"images"];for(var X in M)r.call(this,M[X])},l=function(){var M,X=this.internal.collections[e+"images"],ut=this.internal.write;for(var tt in X)ut("/I"+(M=X[tt]).index,M.objectId,"0","R")},p=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",b),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var M=this.internal.collections[e+"images"];return p.call(this),M},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(M){return typeof n["process"+M.toUpperCase()]=="function"},x=function(M){return Te(M)==="object"&&M.nodeType===1},h=function(M,X){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var ut=""+M.getAttribute("src");if(ut.indexOf("data:image/")===0)return Fa(unescape(ut).split("base64,").pop());var tt=n.loadFile(ut,!0);if(tt!==void 0)return tt}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var Y;switch(X){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return Fa(M.toDataURL(Y,1).split("base64,").pop())}},v=function(M){var X=this.internal.collections[e+"images"];if(X){for(var ut in X)if(M===X[ut].alias)return X[ut]}},S=function(M,X,ut){return M||X||(M=-96,X=-96),M<0&&(M=-1*ut.width*72/M/this.internal.scaleFactor),X<0&&(X=-1*ut.height*72/X/this.internal.scaleFactor),M===0&&(M=X*ut.width/ut.height),X===0&&(X=M*ut.height/ut.width),[M,X]},o=function(M,X,ut,tt,Y,nt){var bt=S.call(this,ut,tt,Y),gt=this.internal.getCoordinateString,yt=this.internal.getVerticalCoordinateString,Nt=d.call(this);if(ut=bt[0],tt=bt[1],Nt[Y.index]=Y,nt){nt*=Math.PI/180;var Ct=Math.cos(nt),B=Math.sin(nt),it=function(ft){return ft.toFixed(4)},st=[it(Ct),it(B),it(-1*B),it(Ct),0,0,"cm"]}this.internal.write("q"),nt?(this.internal.write([1,"0","0",1,gt(M),yt(X+tt),"cm"].join(" ")),this.internal.write(st.join(" ")),this.internal.write([gt(ut),"0","0",gt(tt),"0","0","cm"].join(" "))):this.internal.write([gt(ut),"0","0",gt(tt),gt(M),yt(X+tt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},m=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=n.__addimage__.sHashCode=function(M){var X,ut,tt=0;if(typeof M=="string")for(ut=M.length,X=0;X<ut;X++)tt=(tt<<5)-tt+M.charCodeAt(X),tt|=0;else if(H(M))for(ut=M.byteLength/2,X=0;X<ut;X++)tt=(tt<<5)-tt+M[X],tt|=0;return tt},P=n.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var X=!0;return M.length===0&&(X=!1),M.length%4!=0&&(X=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(X=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(X=!1),X},U=n.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var X=M.indexOf(",");return X<0?null:M.substring(0,X).trim().endsWith("base64")?M.substring(X+1):null};n.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var H=n.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},V=n.__addimage__.binaryStringToUint8Array=function(M){for(var X=M.length,ut=new Uint8Array(X),tt=0;tt<X;tt++)ut[tt]=M.charCodeAt(tt);return ut},$=n.__addimage__.arrayBufferToBinaryString=function(M){for(var X="",ut=H(M)?M:new Uint8Array(M),tt=0;tt<ut.length;tt+=8192)X+=String.fromCharCode.apply(null,ut.subarray(tt,tt+8192));return X};n.addImage=function(){var M,X,ut,tt,Y,nt,bt,gt,yt;if(typeof arguments[1]=="number"?(X=t,ut=arguments[1],tt=arguments[2],Y=arguments[3],nt=arguments[4],bt=arguments[5],gt=arguments[6],yt=arguments[7]):(X=arguments[1],ut=arguments[2],tt=arguments[3],Y=arguments[4],nt=arguments[5],bt=arguments[6],gt=arguments[7],yt=arguments[8]),Te(M=arguments[0])==="object"&&!x(M)&&"imageData"in M){var Nt=M;M=Nt.imageData,X=Nt.format||X||t,ut=Nt.x||ut||0,tt=Nt.y||tt||0,Y=Nt.w||Nt.width||Y,nt=Nt.h||Nt.height||nt,bt=Nt.alias||bt,gt=Nt.compression||gt,yt=Nt.rotation||Nt.angle||yt}var Ct=this.internal.getFilters();if(gt===void 0&&Ct.indexOf("FlateEncode")!==-1&&(gt="SLOW"),isNaN(ut)||isNaN(tt))throw new Error("Invalid coordinates passed to jsPDF.addImage");p.call(this);var B=j.call(this,M,X,bt,gt);return o.call(this,ut,tt,Y,nt,B,yt),this};var j=function(M,X,ut,tt){var Y,nt,bt;if(typeof M=="string"&&a(M)===t){M=unescape(M);var gt=at(M,!1);(gt!==""||(gt=n.loadFile(M,!0))!==void 0)&&(M=gt)}if(x(M)&&(M=h(M,X)),X=a(M,X),!y(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(((bt=ut)==null||bt.length===0)&&(ut=(function(yt){return typeof yt=="string"||H(yt)?_(yt):H(yt.data)?_(yt.data):null})(M)),(Y=v.call(this,ut))||(M instanceof Uint8Array||X==="RGBA"||(nt=M,M=V(M)),Y=this["process"+X.toUpperCase()](M,g.call(this),ut,(function(yt){return yt&&typeof yt=="string"&&(yt=yt.toUpperCase()),yt in n.image_compression?yt:C.NONE})(tt),nt)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},at=n.__addimage__.convertBase64ToBinaryString=function(M,X){X=typeof X!="boolean"||X;var ut,tt="";if(typeof M=="string"){var Y;ut=(Y=U(M))!==null&&Y!==void 0?Y:M;try{tt=Fa(ut)}catch(nt){if(X)throw P(ut)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+nt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return tt};n.getImageProperties=function(M){var X,ut,tt="";if(x(M)&&(M=h(M)),typeof M=="string"&&a(M)===t&&((tt=at(M,!1))===""&&(tt=n.loadFile(M)||""),M=tt),ut=a(M),!y(ut))throw new Error("addImage does not support files of type '"+ut+"', please ensure that a plugin for '"+ut+"' support is added.");if(M instanceof Uint8Array||(M=V(M)),!(X=this["process"+ut.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return X.fileType=ut,X}})(ie.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};ie.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,a,r,b=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,y=0;y<d.length&&!g;y++)switch((i=d[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){i=d[x];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),o=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(S.objId),C=i.title||"Note";r="<</Type /Annot /Subtype /Text "+(a="/Rect ["+b(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+b(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+h(m(i.contents))+")",r+=" /Popup "+o.objId+" 0 R",r+=" /P "+p.objId+" 0 R",r+=" /T ("+h(m(C))+") >>",S.content=r;var _=S.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+b(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+b(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+_,i.open&&(r+=" /Open true"),r+=" >>",o.content=r,this.internal.write(S.objId,"0 R",o.objId,"0 R");break;case"freetext":a="/Rect ["+b(i.bounds.x)+" "+l(i.bounds.y)+" "+b(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var P=i.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(v(i.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(i.options.name){var U=this.annotations._nameMap[i.options.name];i.options.pageNumber=U.page,i.options.top=U.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",r="",i.options.url)r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(i.options.url))+") >>";else if(i.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,r+=" /FitV "+i.options.left+"]";break;default:var H=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),r+=" /XYZ "+i.options.left+" "+H+" "+i.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,a,r,b){var l=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:p(t),y:d(i),w:p(t+a),h:d(i+r)},options:b,type:"link"})},n.textWithLink=function(t,i,a,r){var b,l,p=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){l=r.maxWidth;var g=this.splitTextToSize(t,l).length;b=Math.ceil(d*g)}else l=p,b=d;return this.text(t,i,a,r),a+=.2*d,r.align==="center"&&(i-=p/2),r.align==="right"&&(i-=p),this.link(i,a-d,l,b,r),p},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(ie.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var r=n.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},b=n.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=n.__arabicParser__.isArabicEndLetter=function(S){return b(S)&&r(S)&&e[S.charCodeAt(0)].length<=2},p=n.__arabicParser__.isArabicAlfLetter=function(S){return b(S)&&a.indexOf(S.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return b(S)&&r(S)&&e[S.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(S){return b(S)&&r(S)&&e[S.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(S){return b(S)&&r(S)&&e[S.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(S){return b(S)&&r(S)&&e[S.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(S){var o=0,m=t,C="",_=0;for(o=0;o<S.length;o+=1)m[S.charCodeAt(o)]!==void 0?(_++,typeof(m=m[S.charCodeAt(o)])=="number"&&(C+=String.fromCharCode(m),m=t,_=0),o===S.length-1&&(m=t,C+=S.charAt(o-(_-1)),o-=_-1,_=0)):(m=t,C+=S.charAt(o-_),o-=_,_=0);return C};n.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&i[S.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(S,o,m){return b(S)?r(S)===!1?-1:!d(S)||!b(o)&&!b(m)||!b(m)&&l(o)||l(S)&&!b(o)||l(S)&&p(o)||l(S)&&l(o)?0:g(S)&&b(o)&&!l(o)&&b(m)&&d(m)?3:l(S)||!b(m)?1:2:-1},h=function(S){var o=0,m=0,C=0,_="",P="",U="",H=(S=S||"").split("\\s+"),V=[];for(o=0;o<H.length;o+=1){for(V.push(""),m=0;m<H[o].length;m+=1)_=H[o][m],P=H[o][m-1],U=H[o][m+1],b(_)?(C=x(_,P,U),V[o]+=C!==-1?String.fromCharCode(e[_.charCodeAt(0)][C]):_):V[o]+=_;V[o]=y(V[o])}return V.join(" ")},v=n.__arabicParser__.processArabic=n.processArabic=function(){var S,o=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(o)){var C=0;for(m=[],C=0;C<o.length;C+=1)Array.isArray(o[C])?m.push([h(o[C][0]),o[C][1],o[C][2]]):m.push([h(o[C])]);S=m}else S=h(o);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};n.events.push(["preProcessText",v])})(ie.API),ie.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(l){r=l}});var b={};Object.defineProperty(this,"style",{get:function(){return b},set:function(l){b=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var a;if((t=t||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ie.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(S){x=S}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(S){v=S}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(p){return i.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},n.getTextDimensions=function(p,d){i.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,h=0,v=0,S=0,o=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var m=d.maxWidth;m>0?typeof p=="string"?p=this.splitTextToSize(p,m):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(_,P){return _.concat(o.splitTextToSize(P,m))},[])):p=Array.isArray(p)?p:[p];for(var C=0;C<p.length;C++)h<(S=this.getStringUnitWidth(p[C],{font:y})*g)&&(h=S);return h!==0&&(v=p.length),{w:h/=x,h:Math.max((v*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var p=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new r(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var b=n.cell=function(){var p;p=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===p.lineNumber?(p.x=(d.x||0)+(d.width||0),p.y=d.y||0):d.y+d.height+p.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=y.top,h&&x&&(this.printHeaderRow(p.lineNumber,!0),p.y+=x[0].height)):p.y=d.y+d.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,t===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-g,p.y+g,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+g,{align:"center",baseline:"top",maxWidth:p.width-g-g}):this.text(p.text,p.x+g,p.y+g,{align:"left",baseline:"top",maxWidth:p.width-g-g})),this.internal.__cell__.lastCell=p,this};n.table=function(p,d,g,y,x){if(i.call(this),!g)throw new Error("No data for PDF table.");var h,v,S,o,m=[],C=[],_=[],P={},U={},H=[],V=[],$=(x=x||{}).autoSize||!1,j=x.printHeaders!==!1,at=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,M=x.margins||Object.assign({width:this.getPageWidth()},e),X=typeof x.padding=="number"?x.padding:3,ut=x.headerBackgroundColor||"#c8c8c8",tt=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=at,this.internal.__cell__.padding=X,this.internal.__cell__.headerBackgroundColor=ut,this.internal.__cell__.headerTextColor=tt,this.setFontSize(at),y==null)C=m=Object.keys(g[0]),_=m.map(function(){return"left"});else if(Array.isArray(y)&&Te(y[0])==="object")for(m=y.map(function(Nt){return Nt.name}),C=y.map(function(Nt){return Nt.prompt||Nt.name||""}),_=y.map(function(Nt){return Nt.align||"left"}),h=0;h<y.length;h+=1)U[y[h].name]=.7499990551181103*y[h].width;else Array.isArray(y)&&typeof y[0]=="string"&&(C=m=y,_=m.map(function(){return"left"}));if($||Array.isArray(y)&&typeof y[0]=="string")for(h=0;h<m.length;h+=1){for(P[o=m[h]]=g.map(function(Nt){return Nt[o]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(C[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=P[o],this.setFont(void 0,"normal"),S=0;S<v.length;S+=1)H.push(this.getTextDimensions(v[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[o]=Math.max.apply(null,H)+X+X,H=[]}if(j){var Y={};for(h=0;h<m.length;h+=1)Y[m[h]]={},Y[m[h]].text=C[h],Y[m[h]].align=_[h];var nt=l.call(this,Y,U);V=m.map(function(Nt){return new r(p,d,U[Nt],nt,Y[Nt].text,void 0,Y[Nt].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var bt=y.reduce(function(Nt,Ct){return Nt[Ct.name]=Ct.align,Nt},{});for(h=0;h<g.length;h+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:h,data:g[h]},this);var gt=l.call(this,g[h],U);for(S=0;S<m.length;S+=1){var yt=g[h][m[S]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:h,col:S,data:yt},this),b.call(this,new r(p,d,U[m[S]],gt,yt,h+2,bt[m[S]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=d,this};var l=function(p,d){var g=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(p).map(function(h){var v=p[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[h]-g-g)},this).map(function(h){return this.getLineHeightFactor()*h.length*y/x+g+g},this).reduce(function(h,v){return Math.max(h,v)},0)};n.setTableHeaderRow=function(p){i.call(this),this.internal.__cell__.tableHeaderRow=p},n.printHeaderRow=function(p,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){g=this.internal.__cell__.tableHeaderRow[h].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,x.push(g)),g.lineNumber=p;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),b.call(this,g),this.setTextColor(v)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(ie.API);var Bc={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jc=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$o=Oc(jc),Uc=[100,200,300,400,500,600,700,800,900],Jf=Oc(Uc);function Ro(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(r){return Bc[r=r||"normal"]?r:"normal"})(n.style),i=(function(r){return r?typeof r=="number"?r>=100&&r<=900&&r%100==0?r:400:/^\d00$/.test(r)?parseInt(r):r==="bold"?700:400:400})(n.weight),a=(function(r){return typeof $o[r=r||"normal"]=="number"?r:"normal"})(n.stretch);return{family:e,style:t,weight:i,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,i].join(" ")}}}function Mh(n,e,t,i){var a;for(a=t;a>=0&&a<e.length;a+=i)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=i)if(n[e[a]])return n[e[a]]}var Kf={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Dh={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Oh(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Bh(n){return n.trimLeft()}function Zf(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Qf(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Pa,jh,Uh,Jr,Ta,qh,Hh,zh,Mo=["times"];function Vh(n,e,t,i,a){var r=4,b=Wh;switch(a){case ie.API.image_compression.FAST:r=1,b=Gh;break;case ie.API.image_compression.MEDIUM:r=6,b=Xh;break;case ie.API.image_compression.SLOW:r=9,b=$h}n=(function(p,d,g,y){for(var x,h=p.length/d,v=new Uint8Array(p.length+h),S=[tp,Gh,Wh,Xh,$h],o=0;o<h;o+=1){var m=o*d,C=p.subarray(m,m+d);if(y)v.set(y(C,g,x),m+o);else{for(var _=S.length,P=[],U=0;U<_;U+=1)P[U]=S[U](C,g,x);var H=ip(P.concat());v.set(P[H],m+o)}x=C}return v})(n,e,Math.ceil(t*i/8),b);var l=qo(n,{level:r});return ie.API.__addimage__.arrayBufferToBinaryString(l)}function tp(n){var e=Array.apply([],n);return e.unshift(0),e}function Gh(n,e){var t=n.length,i=[];i[0]=1;for(var a=0;a<t;a+=1){var r=n[a-e]||0;i[a+1]=n[a]-r+256&255}return i}function Wh(n,e,t){var i=n.length,a=[];a[0]=2;for(var r=0;r<i;r+=1){var b=t&&t[r]||0;a[r+1]=n[r]-b+256&255}return a}function Xh(n,e,t){var i=n.length,a=[];a[0]=3;for(var r=0;r<i;r+=1){var b=n[r-e]||0,l=t&&t[r]||0;a[r+1]=n[r]+256-(b+l>>>1)&255}return a}function $h(n,e,t){var i=n.length,a=[];a[0]=4;for(var r=0;r<i;r+=1){var b=ep(n[r-e]||0,t&&t[r]||0,t&&t[r-e]||0);a[r+1]=n[r]-b+256&255}return a}function ep(n,e,t){if(n===e&&e===t)return n;var i=Math.abs(e-t),a=Math.abs(n-t),r=Math.abs(n+e-t-t);return i<=a&&i<=r?n:a<=r?e:t}function ip(n){var e=n.map(function(t){return t.reduce(function(i,a){return i+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Do(n,e,t){var i=e*t,a=Math.floor(i/8),r=16-(i-8*a+t),b=(1<<t)-1;return qc(n,a)>>r&b}function Yh(n,e,t,i){var a=t*i,r=Math.floor(a/8),b=16-(a-8*r+i),l=(1<<i)-1,p=(e&l)<<b;(function(d,g,y){if(g+1<d.byteLength)d.setUint16(g,y,!1);else{var x=y>>8&255;d.setUint8(g,x)}})(n,r,qc(n,r)&~(l<<b)&65535|p)}function qc(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function np(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,a=n[e++],r=a>>7,b=1<<1+(7&a);n[e++],n[e++];var l=null,p=null;r&&(l=e,p=b,e+=3*b);var d=!0,g=[],y=0,x=null,h=0,v=null;for(this.width=t,this.height=i;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,v=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((M=n[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=n[e++];y=n[e++]|n[e++]<<8,x=n[e++],1&S||(x=null),h=S>>2&7,e++;break;case 254:for(;;){if(!((M=n[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var o=n[e++]|n[e++]<<8,m=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,P=n[e++],U=P>>6&1,H=1<<1+(7&P),V=l,$=p,j=!1;P>>7&&(j=!0,V=e,$=H,e+=3*H);var at=e;for(e++;;){var M;if(!((M=n[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}g.push({x:o,y:m,width:C,height:_,has_local_palette:j,palette_offset:V,palette_size:$,data_offset:at,data_length:e-at,transparent_index:x,interlaced:!!U,delay:y,disposal:h});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return v},this.frameInfo=function(X){if(X<0||X>=g.length)throw new Error("Frame index out of range.");return g[X]},this.decodeAndBlitFrameBGRA=function(X,ut){var tt=this.frameInfo(X),Y=tt.width*tt.height,nt=new Uint8Array(Y);Jh(n,tt.data_offset,nt,Y);var bt=tt.palette_offset,gt=tt.transparent_index;gt===null&&(gt=256);var yt=tt.width,Nt=t-yt,Ct=yt,B=4*(tt.y*t+tt.x),it=4*((tt.y+tt.height)*t+tt.x),st=B,ft=4*Nt;tt.interlaced===!0&&(ft+=4*t*7);for(var dt=8,T=0,E=nt.length;T<E;++T){var f=nt[T];if(Ct===0&&(Ct=yt,(st+=ft)>=it&&(ft=4*Nt+4*t*(dt-1),st=B+(yt+Nt)*(dt<<1),dt>>=1)),f===gt)st+=4;else{var u=n[bt+3*f],w=n[bt+3*f+1],N=n[bt+3*f+2];ut[st++]=N,ut[st++]=w,ut[st++]=u,ut[st++]=255}--Ct}},this.decodeAndBlitFrameRGBA=function(X,ut){var tt=this.frameInfo(X),Y=tt.width*tt.height,nt=new Uint8Array(Y);Jh(n,tt.data_offset,nt,Y);var bt=tt.palette_offset,gt=tt.transparent_index;gt===null&&(gt=256);var yt=tt.width,Nt=t-yt,Ct=yt,B=4*(tt.y*t+tt.x),it=4*((tt.y+tt.height)*t+tt.x),st=B,ft=4*Nt;tt.interlaced===!0&&(ft+=4*t*7);for(var dt=8,T=0,E=nt.length;T<E;++T){var f=nt[T];if(Ct===0&&(Ct=yt,(st+=ft)>=it&&(ft=4*Nt+4*t*(dt-1),st=B+(yt+Nt)*(dt<<1),dt>>=1)),f===gt)st+=4;else{var u=n[bt+3*f],w=n[bt+3*f+1],N=n[bt+3*f+2];ut[st++]=u,ut[st++]=w,ut[st++]=N,ut[st++]=255}--Ct}}}function Jh(n,e,t,i){for(var a=n[e++],r=1<<a,b=r+1,l=b+1,p=a+1,d=(1<<p)-1,g=0,y=0,x=0,h=n[e++],v=new Int32Array(4096),S=null;;){for(;g<16&&h!==0;)y|=n[e++]<<g,g+=8,h===1?h=n[e++]:--h;if(g<p)break;var o=y&d;if(y>>=p,g-=p,o!==r){if(o===b)break;for(var m=o<l?o:S,C=0,_=m;_>r;)_=v[_]>>8,++C;var P=_;if(x+C+(m!==o?1:0)>i)return void Re.log("Warning, gif stream longer than expected.");t[x++]=P;var U=x+=C;for(m!==o&&(t[x++]=P),_=m;C--;)_=v[_],t[--U]=255&_,_>>=8;S!==null&&l<4096&&(v[l++]=S<<8|P,l>=d+1&&p<12&&(++p,d=d<<1|1)),S=o}else l=b+1,d=(1<<(p=a+1))-1,S=null}return x!==i&&Re.log("Warning, gif stream shorter than expected."),t}function Oo(n){var e,t,i,a,r,b=Math.floor,l=new Array(64),p=new Array(64),d=new Array(64),g=new Array(64),y=new Array(65535),x=new Array(65535),h=new Array(64),v=new Array(64),S=[],o=0,m=7,C=new Array(64),_=new Array(64),P=new Array(64),U=new Array(256),H=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],at=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ut=[0,1,2,3,4,5,6,7,8,9,10,11],tt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function nt(B,it){for(var st=0,ft=0,dt=new Array,T=1;T<=16;T++){for(var E=1;E<=B[T];E++)dt[it[ft]]=[],dt[it[ft]][0]=st,dt[it[ft]][1]=T,ft++,st++;st*=2}return dt}function bt(B){for(var it=B[0],st=B[1]-1;st>=0;)it&1<<st&&(o|=1<<m),st--,--m<0&&(o==255?(gt(255),gt(0)):gt(o),m=7,o=0)}function gt(B){S.push(B)}function yt(B){gt(B>>8&255),gt(255&B)}function Nt(B,it,st,ft,dt){for(var T,E=dt[0],f=dt[240],u=(function(Z,pt){var ct,W,rt,Et,xt,Pt,jt,Bt,Rt,Ut,Mt=0;for(Rt=0;Rt<8;++Rt){ct=Z[Mt],W=Z[Mt+1],rt=Z[Mt+2],Et=Z[Mt+3],xt=Z[Mt+4],Pt=Z[Mt+5],jt=Z[Mt+6];var se=ct+(Bt=Z[Mt+7]),Wt=ct-Bt,Jt=W+jt,Ht=W-jt,ve=rt+Pt,Vt=rt-Pt,pe=Et+xt,Gt=Et-xt,Xt=se+pe,le=se-pe,ae=Jt+ve,te=Jt-ve;Z[Mt]=Xt+ae,Z[Mt+4]=Xt-ae;var ye=.707106781*(te+le);Z[Mt+2]=le+ye,Z[Mt+6]=le-ye;var Ui=.382683433*((Xt=Gt+Vt)-(te=Ht+Wt)),Le=.5411961*Xt+Ui,_e=1.306562965*te+Ui,xi=.707106781*(ae=Vt+Ht),ne=Wt+xi,gi=Wt-xi;Z[Mt+5]=gi+Le,Z[Mt+3]=gi-Le,Z[Mt+1]=ne+_e,Z[Mt+7]=ne-_e,Mt+=8}for(Mt=0,Rt=0;Rt<8;++Rt){ct=Z[Mt],W=Z[Mt+8],rt=Z[Mt+16],Et=Z[Mt+24],xt=Z[Mt+32],Pt=Z[Mt+40],jt=Z[Mt+48];var Ce=ct+(Bt=Z[Mt+56]),oi=ct-Bt,mi=W+jt,Ee=W-jt,li=rt+Pt,hi=rt-Pt,or=Et+xt,jn=Et-xt,Yi=Ce+or,ln=Ce-or,Ji=mi+li,Ki=mi-li;Z[Mt]=Yi+Ji,Z[Mt+32]=Yi-Ji;var qi=.707106781*(Ki+ln);Z[Mt+16]=ln+qi,Z[Mt+48]=ln-qi;var lr=.382683433*((Yi=jn+hi)-(Ki=Ee+oi)),hn=.5411961*Yi+lr,hr=1.306562965*Ki+lr,Mr=.707106781*(Ji=hi+Ee),Dr=oi+Mr,Or=oi-Mr;Z[Mt+40]=Or+hn,Z[Mt+24]=Or-hn,Z[Mt+8]=Dr+hr,Z[Mt+56]=Dr-hr,Mt++}for(Rt=0;Rt<64;++Rt)Ut=Z[Rt]*pt[Rt],h[Rt]=Ut>0?Ut+.5|0:Ut-.5|0;return h})(B,it),w=0;w<64;++w)v[V[w]]=u[w];var N=v[0]-st;st=v[0],N==0?bt(ft[0]):(bt(ft[x[T=32767+N]]),bt(y[T]));for(var I=63;I>0&&v[I]==0;)I--;if(I==0)return bt(E),st;for(var R,k=1;k<=I;){for(var z=k;v[k]==0&&k<=I;)++k;var et=k-z;if(et>=16){R=et>>4;for(var K=1;K<=R;++K)bt(f);et&=15}T=32767+v[k],bt(dt[(et<<4)+x[T]]),bt(y[T]),k++}return I!=63&&bt(E),st}function Ct(B){B=Math.min(Math.max(B,1),100),r!=B&&((function(it){for(var st=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ft=0;ft<64;ft++){var dt=b((st[ft]*it+50)/100);dt=Math.min(Math.max(dt,1),255),l[V[ft]]=dt}for(var T=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],E=0;E<64;E++){var f=b((T[E]*it+50)/100);f=Math.min(Math.max(f,1),255),p[V[E]]=f}for(var u=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],w=0,N=0;N<8;N++)for(var I=0;I<8;I++)d[w]=1/(l[V[w]]*u[N]*u[I]*8),g[w]=1/(p[V[w]]*u[N]*u[I]*8),w++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),r=B)}this.encode=function(B,it){it&&Ct(it),S=new Array,o=0,m=7,yt(65496),yt(65504),yt(16),gt(74),gt(70),gt(73),gt(70),gt(0),gt(1),gt(1),gt(0),yt(1),yt(1),gt(0),gt(0),(function(){yt(65499),yt(132),gt(0);for(var W=0;W<64;W++)gt(l[W]);gt(1);for(var rt=0;rt<64;rt++)gt(p[rt])})(),(function(W,rt){yt(65472),yt(17),gt(8),yt(rt),yt(W),gt(3),gt(1),gt(17),gt(0),gt(2),gt(17),gt(1),gt(3),gt(17),gt(1)})(B.width,B.height),(function(){yt(65476),yt(418),gt(0);for(var W=0;W<16;W++)gt($[W+1]);for(var rt=0;rt<=11;rt++)gt(j[rt]);gt(16);for(var Et=0;Et<16;Et++)gt(at[Et+1]);for(var xt=0;xt<=161;xt++)gt(M[xt]);gt(1);for(var Pt=0;Pt<16;Pt++)gt(X[Pt+1]);for(var jt=0;jt<=11;jt++)gt(ut[jt]);gt(17);for(var Bt=0;Bt<16;Bt++)gt(tt[Bt+1]);for(var Rt=0;Rt<=161;Rt++)gt(Y[Rt])})(),yt(65498),yt(12),gt(3),gt(1),gt(0),gt(2),gt(17),gt(3),gt(17),gt(0),gt(63),gt(0);var st=0,ft=0,dt=0;o=0,m=7,this.encode.displayName="_encode_";for(var T,E,f,u,w,N,I,R,k,z=B.data,et=B.width,K=B.height,Z=4*et,pt=0;pt<K;){for(T=0;T<Z;){for(w=Z*pt+T,I=-1,R=0,k=0;k<64;k++)N=w+(R=k>>3)*Z+(I=4*(7&k)),pt+R>=K&&(N-=Z*(pt+1+R-K)),T+I>=Z&&(N-=T+I-Z+4),E=z[N++],f=z[N++],u=z[N++],C[k]=(H[E]+H[f+256|0]+H[u+512|0]>>16)-128,_[k]=(H[E+768|0]+H[f+1024|0]+H[u+1280|0]>>16)-128,P[k]=(H[E+1280|0]+H[f+1536|0]+H[u+1792|0]>>16)-128;st=Nt(C,d,st,e,i),ft=Nt(_,g,ft,t,a),dt=Nt(P,g,dt,t,a),T+=32}pt+=8}if(m>=0){var ct=[];ct[1]=m+1,ct[0]=(1<<m+1)-1,bt(ct)}return yt(65497),new Uint8Array(S)},n=n||50,(function(){for(var B=String.fromCharCode,it=0;it<256;it++)U[it]=B(it)})(),e=nt($,j),t=nt(X,ut),i=nt(at,M),a=nt(tt,Y),(function(){for(var B=1,it=2,st=1;st<=15;st++){for(var ft=B;ft<it;ft++)x[32767+ft]=st,y[32767+ft]=[],y[32767+ft][1]=st,y[32767+ft][0]=ft;for(var dt=-(it-1);dt<=-B;dt++)x[32767+dt]=st,y[32767+dt]=[],y[32767+dt][1]=st,y[32767+dt][0]=it-1+dt;B<<=1,it<<=1}})(),(function(){for(var B=0;B<256;B++)H[B]=19595*B,H[B+256|0]=38470*B,H[B+512|0]=7471*B+32768,H[B+768|0]=-11059*B,H[B+1024|0]=-21709*B,H[B+1280|0]=32768*B+8421375,H[B+1536|0]=-27439*B,H[B+1792|0]=-5329*B})(),Ct(n)}function rn(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kh(n){function e(j){if(!j)throw Error("assert :P")}function t(j,at,M){for(var X=0;4>X;X++)if(j[at+X]!=M.charCodeAt(X))return!0;return!1}function i(j,at,M,X,ut){for(var tt=0;tt<ut;tt++)j[at+tt]=M[X+tt]}function a(j,at,M,X){for(var ut=0;ut<X;ut++)j[at+ut]=M}function r(j){return new Int32Array(j)}function b(j,at){for(var M=[],X=0;X<j;X++)M.push(new at);return M}function l(j,at){var M=[];return(function X(ut,tt,Y){for(var nt=Y[tt],bt=0;bt<nt&&(ut.push(Y.length>tt+1?[]:new at),!(Y.length<tt+1));bt++)X(ut[bt],tt+1,Y)})(M,0,j),M}var p=function(){var j=this;function at(s,c){for(var L=1<<c-1>>>0;s&L;)L>>>=1;return L?(s&L-1)+L:s}function M(s,c,L,F,O){e(!(F%L));do s[c+(F-=L)]=O;while(0<F)}function X(s,c,L,F,O){if(e(2328>=O),512>=O)var q=r(512);else if((q=r(O))==null)return 0;return(function(G,J,Q,ot,vt,kt){var lt,wt,St=J,Tt=1<<Q,Lt=r(16),_t=r(16);for(e(vt!=0),e(ot!=null),e(G!=null),e(0<Q),wt=0;wt<vt;++wt){if(15<ot[wt])return 0;++Lt[ot[wt]]}if(Lt[0]==vt)return 0;for(_t[1]=0,lt=1;15>lt;++lt){if(Lt[lt]>1<<lt)return 0;_t[lt+1]=_t[lt]+Lt[lt]}for(wt=0;wt<vt;++wt)lt=ot[wt],0<ot[wt]&&(kt[_t[lt]++]=wt);if(_t[15]==1)return(ot=new ut).g=0,ot.value=kt[0],M(G,St,1,Tt,ot),Tt;var It,qt=-1,Ot=Tt-1,re=0,$t=1,me=1,Zt=1<<Q;for(wt=0,lt=1,vt=2;lt<=Q;++lt,vt<<=1){if($t+=me<<=1,0>(me-=Lt[lt]))return 0;for(;0<Lt[lt];--Lt[lt])(ot=new ut).g=lt,ot.value=kt[wt++],M(G,St+re,vt,Zt,ot),re=at(re,lt)}for(lt=Q+1,vt=2;15>=lt;++lt,vt<<=1){if($t+=me<<=1,0>(me-=Lt[lt]))return 0;for(;0<Lt[lt];--Lt[lt]){if(ot=new ut,(re&Ot)!=qt){for(St+=Zt,It=1<<(qt=lt)-Q;15>qt&&!(0>=(It-=Lt[qt]));)++qt,It<<=1;Tt+=Zt=1<<(It=qt-Q),G[J+(qt=re&Ot)].g=It+Q,G[J+qt].value=St-J-qt}ot.g=lt-Q,ot.value=kt[wt++],M(G,St+(re>>Q),vt,Zt,ot),re=at(re,lt)}}return $t!=2*_t[15]-1?0:Tt})(s,c,L,F,O,q)}function ut(){this.value=this.g=0}function tt(){this.value=this.g=0}function Y(){this.G=b(5,ut),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=b(wr,tt)}function nt(s,c,L,F){e(s!=null),e(c!=null),e(2147483648>F),s.Ca=254,s.I=0,s.b=-8,s.Ka=0,s.oa=c,s.pa=L,s.Jd=c,s.Yc=L+F,s.Zc=4<=F?L+F-4+1:L,E(s)}function bt(s,c){for(var L=0;0<c--;)L|=u(s,128)<<c;return L}function gt(s,c){var L=bt(s,c);return f(s)?-L:L}function yt(s,c,L,F){var O,q=0;for(e(s!=null),e(c!=null),e(4294967288>F),s.Sb=F,s.Ra=0,s.u=0,s.h=0,4<F&&(F=4),O=0;O<F;++O)q+=c[L+O]<<8*O;s.Ra=q,s.bb=F,s.oa=c,s.pa=L}function Nt(s){for(;8<=s.u&&s.bb<s.Sb;)s.Ra>>>=8,s.Ra+=s.oa[s.pa+s.bb]<<zn-8>>>0,++s.bb,s.u-=8;ft(s)&&(s.h=1,s.u=0)}function Ct(s,c){if(e(0<=c),!s.h&&c<=_i){var L=st(s)&Ti[c];return s.u+=c,Nt(s),L}return s.h=1,s.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function it(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function st(s){return s.Ra>>>(s.u&zn-1)>>>0}function ft(s){return e(s.bb<=s.Sb),s.h||s.bb==s.Sb&&s.u>zn}function dt(s,c){s.u=c,s.h=ft(s)}function T(s){s.u>=_n&&(e(s.u>=_n),Nt(s))}function E(s){e(s!=null&&s.oa!=null),s.pa<s.Zc?(s.I=(s.oa[s.pa++]|s.I<<8)>>>0,s.b+=8):(e(s!=null&&s.oa!=null),s.pa<s.Yc?(s.b+=8,s.I=s.oa[s.pa++]|s.I<<8):s.Ka?s.b=0:(s.I<<=8,s.b+=8,s.Ka=1))}function f(s){return bt(s,1)}function u(s,c){var L=s.Ca;0>s.b&&E(s);var F=s.b,O=L*c>>>8,q=(s.I>>>F>O)+0;for(q?(L-=O,s.I-=O+1<<F>>>0):L=O+1,F=L,O=0;256<=F;)O+=8,F>>=8;return F=7^O+Vn[F],s.b-=F,s.Ca=(L<<F)-1,q}function w(s,c,L){s[c+0]=L>>24&255,s[c+1]=L>>16&255,s[c+2]=L>>8&255,s[c+3]=255&L}function N(s,c){return s[c+0]|s[c+1]<<8}function I(s,c){return N(s,c)|s[c+2]<<16}function R(s,c){return N(s,c)|N(s,c+2)<<16}function k(s,c){var L=1<<c;return e(s!=null),e(0<c),s.X=r(L),s.X==null?0:(s.Mb=32-c,s.Xa=c,1)}function z(s,c){e(s!=null),e(c!=null),e(s.Xa==c.Xa),i(c.X,0,s.X,0,1<<c.Xa)}function et(){this.X=[],this.Xa=this.Mb=0}function K(s,c,L,F){e(L!=null),e(F!=null);var O=L[0],q=F[0];return O==0&&(O=(s*q+c/2)/c),q==0&&(q=(c*O+s/2)/s),0>=O||0>=q?0:(L[0]=O,F[0]=q,1)}function Z(s,c){return s+(1<<c)-1>>>c}function pt(s,c){return((4278255360&s)+(4278255360&c)>>>0&4278255360)+((16711935&s)+(16711935&c)>>>0&16711935)>>>0}function ct(s,c){j[c]=function(L,F,O,q,G,J,Q){var ot;for(ot=0;ot<G;++ot){var vt=j[s](J[Q+ot-1],O,q+ot);J[Q+ot]=pt(L[F+ot],vt)}}}function W(){this.ud=this.hd=this.jd=0}function rt(s,c){return((4278124286&(s^c))>>>1)+(s&c)>>>0}function Et(s){return 0<=s&&256>s?s:0>s?0:255<s?255:void 0}function xt(s,c){return Et(s+(s-c+.5>>1))}function Pt(s,c,L){return Math.abs(c-L)-Math.abs(s-L)}function jt(s,c,L,F,O,q,G){for(F=q[G-1],L=0;L<O;++L)q[G+L]=F=pt(s[c+L],F)}function Bt(s,c,L,F,O){var q;for(q=0;q<L;++q){var G=s[c+q],J=G>>8&255,Q=16711935&(Q=(Q=16711935&G)+((J<<16)+J));F[O+q]=(4278255360&G)+Q>>>0}}function Rt(s,c){c.jd=255&s,c.hd=s>>8&255,c.ud=s>>16&255}function Ut(s,c,L,F,O,q){var G;for(G=0;G<F;++G){var J=c[L+G],Q=J>>>8,ot=J,vt=255&(vt=(vt=J>>>16)+((s.jd<<24>>24)*(Q<<24>>24)>>>5));ot=255&(ot=(ot+=(s.hd<<24>>24)*(Q<<24>>24)>>>5)+((s.ud<<24>>24)*(vt<<24>>24)>>>5)),O[q+G]=(4278255360&J)+(vt<<16)+ot}}function Mt(s,c,L,F,O){j[c]=function(q,G,J,Q,ot,vt,kt,lt,wt){for(Q=kt;Q<lt;++Q)for(kt=0;kt<wt;++kt)ot[vt++]=O(J[F(q[G++])])},j[s]=function(q,G,J,Q,ot,vt,kt){var lt=8>>q.b,wt=q.Ea,St=q.K[0],Tt=q.w;if(8>lt)for(q=(1<<q.b)-1,Tt=(1<<lt)-1;G<J;++G){var Lt,_t=0;for(Lt=0;Lt<wt;++Lt)Lt&q||(_t=F(Q[ot++])),vt[kt++]=O(St[_t&Tt]),_t>>=lt}else j["VP8LMapColor"+L](Q,ot,St,Tt,vt,kt,G,J,wt)}}function se(s,c,L,F,O){for(L=c+L;c<L;){var q=s[c++];F[O++]=q>>16&255,F[O++]=q>>8&255,F[O++]=255&q}}function Wt(s,c,L,F,O){for(L=c+L;c<L;){var q=s[c++];F[O++]=q>>16&255,F[O++]=q>>8&255,F[O++]=255&q,F[O++]=q>>24&255}}function Jt(s,c,L,F,O){for(L=c+L;c<L;){var q=(G=s[c++])>>16&240|G>>12&15,G=240&G|G>>28&15;F[O++]=q,F[O++]=G}}function Ht(s,c,L,F,O){for(L=c+L;c<L;){var q=(G=s[c++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;F[O++]=q,F[O++]=G}}function ve(s,c,L,F,O){for(L=c+L;c<L;){var q=s[c++];F[O++]=255&q,F[O++]=q>>8&255,F[O++]=q>>16&255}}function Vt(s,c,L,F,O,q){if(q==0)for(L=c+L;c<L;)w(F,((q=s[c++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),O+=32;else i(F,O,s,c,L)}function pe(s,c){j[c][0]=j[s+"0"],j[c][1]=j[s+"1"],j[c][2]=j[s+"2"],j[c][3]=j[s+"3"],j[c][4]=j[s+"4"],j[c][5]=j[s+"5"],j[c][6]=j[s+"6"],j[c][7]=j[s+"7"],j[c][8]=j[s+"8"],j[c][9]=j[s+"9"],j[c][10]=j[s+"10"],j[c][11]=j[s+"11"],j[c][12]=j[s+"12"],j[c][13]=j[s+"13"],j[c][14]=j[s+"0"],j[c][15]=j[s+"0"]}function Gt(s){return s==io||s==no||s==ua||s==ro}function Xt(){this.eb=[],this.size=this.A=this.fb=0}function le(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xt,this.f.kb=new le,this.sd=null}function te(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ye(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ui(s){return alert("todo:WebPSamplerProcessPlane"),s.T}function Le(s,c){var L=s.T,F=c.ba.f.RGBA,O=F.eb,q=F.fb+s.ka*F.A,G=Xi[c.ba.S],J=s.y,Q=s.O,ot=s.f,vt=s.N,kt=s.ea,lt=s.W,wt=c.cc,St=c.dc,Tt=c.Mc,Lt=c.Nc,_t=s.ka,It=s.ka+s.T,qt=s.U,Ot=qt+1>>1;for(_t==0?G(J,Q,null,null,ot,vt,kt,lt,ot,vt,kt,lt,O,q,null,null,qt):(G(c.ec,c.fc,J,Q,wt,St,Tt,Lt,ot,vt,kt,lt,O,q-F.A,O,q,qt),++L);_t+2<It;_t+=2)wt=ot,St=vt,Tt=kt,Lt=lt,vt+=s.Rc,lt+=s.Rc,q+=2*F.A,G(J,(Q+=2*s.fa)-s.fa,J,Q,wt,St,Tt,Lt,ot,vt,kt,lt,O,q-F.A,O,q,qt);return Q+=s.fa,s.j+It<s.o?(i(c.ec,c.fc,J,Q,qt),i(c.cc,c.dc,ot,vt,Ot),i(c.Mc,c.Nc,kt,lt,Ot),L--):1&It||G(J,Q,null,null,ot,vt,kt,lt,ot,vt,kt,lt,O,q+F.A,null,null,qt),L}function _e(s,c,L){var F=s.F,O=[s.J];if(F!=null){var q=s.U,G=c.ba.S,J=G==ca||G==ua;c=c.ba.f.RGBA;var Q=[0],ot=s.ka;Q[0]=s.T,s.Kb&&(ot==0?--Q[0]:(--ot,O[0]-=s.width),s.j+s.ka+s.T==s.o&&(Q[0]=s.o-s.j-ot));var vt=c.eb;ot=c.fb+ot*c.A,s=ol(F,O[0],s.width,q,Q,vt,ot+(J?0:3),c.A),e(L==Q),s&&Gt(G)&&xs(vt,ot,J,q,Q,c.A)}return 0}function xi(s){var c=s.ma,L=c.ba.S,F=11>L,O=L==la||L==ha||L==ca||L==eo||L==12||Gt(L);if(c.memory=null,c.Ib=null,c.Jb=null,c.Nd=null,!ps(c.Oa,s,O?11:12))return 0;if(O&&Gt(L)&&us(),s.da)alert("todo:use_scaling");else{if(F){if(c.Ib=Ui,s.Kb){if(L=s.U+1>>1,c.memory=r(s.U+2*L),c.memory==null)return 0;c.ec=c.memory,c.fc=0,c.cc=c.ec,c.dc=c.fc+s.U,c.Mc=c.cc,c.Nc=c.dc+L,c.Ib=Le,us()}}else alert("todo:EmitYUV");O&&(c.Jb=_e,F&&Qi())}if(F&&!Sl){for(s=0;256>s;++s)lu[s]=89858*(s-128)+fa>>da,uu[s]=-22014*(s-128)+fa,cu[s]=-45773*(s-128),hu[s]=113618*(s-128)+fa>>da;for(s=Ls;s<oo;++s)c=76283*(s-16)+fa>>da,du[s-Ls]=cn(c,255),fu[s-Ls]=cn(c+8>>4,15);Sl=1}return 1}function ne(s){var c=s.ma,L=s.U,F=s.T;return e(!(1&s.ka)),0>=L||0>=F?0:(L=c.Ib(s,c),c.Jb!=null&&c.Jb(s,c,L),c.Dc+=L,1)}function gi(s){s.ma.memory=null}function Ce(s,c,L,F){return Ct(s,8)!=47?0:(c[0]=Ct(s,14)+1,L[0]=Ct(s,14)+1,F[0]=Ct(s,1),Ct(s,3)!=0?0:!s.h)}function oi(s,c){if(4>s)return s+1;var L=s-2>>1;return(2+(1&s)<<L)+Ct(c,L)+1}function mi(s,c){return 120<c?c-120:1<=(L=((L=$c[c-1])>>4)*s+(8-(15&L)))?L:1;var L}function Ee(s,c,L){var F=st(L),O=s[c+=255&F].g-8;return 0<O&&(dt(L,L.u+8),F=st(L),c+=s[c].value,c+=F&(1<<O)-1),dt(L,L.u+s[c].g),s[c].value}function li(s,c,L){return L.g+=s.g,L.value+=s.value<<c>>>0,e(8>=L.g),s.g}function hi(s,c,L){var F=s.xc;return e((c=F==0?0:s.vc[s.md*(L>>F)+(c>>F)])<s.Wb),s.Ya[c]}function or(s,c,L,F){var O=s.ab,q=s.c*c,G=s.C;c=G+c;var J=L,Q=F;for(F=s.Ta,L=s.Ua;0<O--;){var ot=s.gc[O],vt=G,kt=c,lt=J,wt=Q,St=(Q=F,J=L,ot.Ea);switch(e(vt<kt),e(kt<=ot.nc),ot.hc){case 2:Ve(lt,wt,(kt-vt)*St,Q,J);break;case 0:var Tt=vt,Lt=kt,_t=Q,It=J,qt=(Zt=ot).Ea;Tt==0&&(ms(lt,wt,null,null,1,_t,It),jt(lt,wt+1,0,0,qt-1,_t,It+1),wt+=qt,It+=qt,++Tt);for(var Ot=1<<Zt.b,re=Ot-1,$t=Z(qt,Zt.b),me=Zt.K,Zt=Zt.w+(Tt>>Zt.b)*$t;Tt<Lt;){var we=me,ni=Zt,be=1;for(Gr(lt,wt,_t,It-qt,1,_t,It);be<qt;){var Qt=(be&~re)+Ot;Qt>qt&&(Qt=qt),(0,vs[we[ni++]>>8&15])(lt,wt+ +be,_t,It+be-qt,Qt-be,_t,It+be),be=Qt}wt+=qt,It+=qt,++Tt&re||(Zt+=$t)}kt!=ot.nc&&i(Q,J-St,Q,J+(kt-vt-1)*St,St);break;case 1:for(St=lt,Lt=wt,qt=(lt=ot.Ea)-(It=lt&~(_t=(wt=1<<ot.b)-1)),Tt=Z(lt,ot.b),Ot=ot.K,ot=ot.w+(vt>>ot.b)*Tt;vt<kt;){for(re=Ot,$t=ot,me=new W,Zt=Lt+It,we=Lt+lt;Lt<Zt;)Rt(re[$t++],me),ys(me,St,Lt,wt,Q,J),Lt+=wt,J+=wt;Lt<we&&(Rt(re[$t++],me),ys(me,St,Lt,qt,Q,J),Lt+=qt,J+=qt),++vt&_t||(ot+=Tt)}break;case 3:if(lt==Q&&wt==J&&0<ot.b){for(Lt=Q,lt=St=J+(kt-vt)*St-(It=(kt-vt)*Z(ot.Ea,ot.b)),wt=Q,_t=J,Tt=[],It=(qt=It)-1;0<=It;--It)Tt[It]=wt[_t+It];for(It=qt-1;0<=It;--It)Lt[lt+It]=Tt[It];ra(ot,vt,kt,Q,St,Q,J)}else ra(ot,vt,kt,lt,wt,Q,J)}J=F,Q=L}Q!=L&&i(F,L,J,Q,q)}function jn(s,c){var L=s.V,F=s.Ba+s.c*s.C,O=c-s.C;if(e(c<=s.l.o),e(16>=O),0<O){var q=s.l,G=s.Ta,J=s.Ua,Q=q.width;if(or(s,O,L,F),O=J=[J],e((L=s.C)<(F=c)),e(q.v<q.va),F>q.o&&(F=q.o),L<q.j){var ot=q.j-L;L=q.j,O[0]+=ot*Q}if(L>=F?L=0:(O[0]+=4*q.v,q.ka=L-q.j,q.U=q.va-q.v,q.T=F-L,L=1),L){if(J=J[0],11>(L=s.ca).S){var vt=L.f.RGBA,kt=(F=L.S,O=q.U,q=q.T,ot=vt.eb,vt.A),lt=q;for(vt=vt.fb+s.Ma*vt.A;0<lt--;){var wt=G,St=J,Tt=O,Lt=ot,_t=vt;switch(F){case oa:ws(wt,St,Tt,Lt,_t);break;case la:Gn(wt,St,Tt,Lt,_t);break;case io:Gn(wt,St,Tt,Lt,_t),xs(Lt,_t,0,Tt,1,0);break;case pl:Ar(wt,St,Tt,Lt,_t);break;case ha:Vt(wt,St,Tt,Lt,_t,1);break;case no:Vt(wt,St,Tt,Lt,_t,1),xs(Lt,_t,0,Tt,1,0);break;case ca:Vt(wt,St,Tt,Lt,_t,0);break;case ua:Vt(wt,St,Tt,Lt,_t,0),xs(Lt,_t,1,Tt,1,0);break;case eo:Wn(wt,St,Tt,Lt,_t);break;case ro:Wn(wt,St,Tt,Lt,_t),al(Lt,_t,Tt,1,0);break;case gl:Xn(wt,St,Tt,Lt,_t);break;default:e(0)}J+=Q,vt+=kt}s.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(s.Ma<=L.height)}}s.C=c,e(s.C<=s.i)}function Yi(s){var c;if(0<s.ua)return 0;for(c=0;c<s.Wb;++c){var L=s.Ya[c].G,F=s.Ya[c].H;if(0<L[1][F[1]+0].g||0<L[2][F[2]+0].g||0<L[3][F[3]+0].g)return 0}return 1}function ln(s,c,L,F,O,q){if(s.Z!=0){var G=s.qd,J=s.rd;for(e(Jn[s.Z]!=null);c<L;++c)Jn[s.Z](G,J,F,O,F,O,q),G=F,J=O,O+=q;s.qd=G,s.rd=J}}function Ji(s,c){var L=s.l.ma,F=L.Z==0||L.Z==1?s.l.j:s.C;if(F=s.C<F?F:s.C,e(c<=s.l.o),c>F){var O=s.l.width,q=L.ca,G=L.tb+O*F,J=s.V,Q=s.Ba+s.c*F,ot=s.gc;e(s.ab==1),e(ot[0].hc==3),pn(ot[0],F,c,J,Q,q,G),ln(L,F,c,q,G,O)}s.C=s.Ma=c}function Ki(s,c,L,F,O,q,G){var J=s.$/F,Q=s.$%F,ot=s.m,vt=s.s,kt=L+s.$,lt=kt;O=L+F*O;var wt=L+F*q,St=280+vt.ua,Tt=s.Pb?J:16777216,Lt=0<vt.ua?vt.Wa:null,_t=vt.wc,It=kt<wt?hi(vt,Q,J):null;e(s.C<q),e(wt<=O);var qt=!1;t:for(;;){for(;qt||kt<wt;){var Ot=0;if(J>=Tt){var re=kt-L;e((Tt=s).Pb),Tt.wd=Tt.m,Tt.xd=re,0<Tt.s.ua&&z(Tt.s.Wa,Tt.s.vb),Tt=J+Jc}if(Q&_t||(It=hi(vt,Q,J)),e(It!=null),It.Qb&&(c[kt]=It.qb,qt=!0),!qt)if(T(ot),It.jc){Ot=ot,re=c;var $t=kt,me=It.pd[st(Ot)&wr-1];e(It.jc),256>me.g?(dt(Ot,Ot.u+me.g),re[$t]=me.value,Ot=0):(dt(Ot,Ot.u+me.g-256),e(256<=me.value),Ot=me.value),Ot==0&&(qt=!0)}else Ot=Ee(It.G[0],It.H[0],ot);if(ot.h)break;if(qt||256>Ot){if(!qt)if(It.nd)c[kt]=(It.qb|Ot<<8)>>>0;else{if(T(ot),qt=Ee(It.G[1],It.H[1],ot),T(ot),re=Ee(It.G[2],It.H[2],ot),$t=Ee(It.G[3],It.H[3],ot),ot.h)break;c[kt]=($t<<24|qt<<16|Ot<<8|re)>>>0}if(qt=!1,++kt,++Q>=F&&(Q=0,++J,G!=null&&J<=q&&!(J%16)&&G(s,J),Lt!=null))for(;lt<kt;)Ot=c[lt++],Lt.X[(506832829*Ot&4294967295)>>>Lt.Mb]=Ot}else if(280>Ot){if(Ot=oi(Ot-256,ot),re=Ee(It.G[4],It.H[4],ot),T(ot),re=mi(F,re=oi(re,ot)),ot.h)break;if(kt-L<re||O-kt<Ot)break t;for($t=0;$t<Ot;++$t)c[kt+$t]=c[kt+$t-re];for(kt+=Ot,Q+=Ot;Q>=F;)Q-=F,++J,G!=null&&J<=q&&!(J%16)&&G(s,J);if(e(kt<=O),Q&_t&&(It=hi(vt,Q,J)),Lt!=null)for(;lt<kt;)Ot=c[lt++],Lt.X[(506832829*Ot&4294967295)>>>Lt.Mb]=Ot}else{if(!(Ot<St))break t;for(qt=Ot-280,e(Lt!=null);lt<kt;)Ot=c[lt++],Lt.X[(506832829*Ot&4294967295)>>>Lt.Mb]=Ot;Ot=kt,e(!(qt>>>(re=Lt).Xa)),c[Ot]=re.X[qt],qt=!0}qt||e(ot.h==ft(ot))}if(s.Pb&&ot.h&&kt<O)e(s.m.h),s.a=5,s.m=s.wd,s.$=s.xd,0<s.s.ua&&z(s.s.vb,s.s.Wa);else{if(ot.h)break t;G?.(s,J>q?q:J),s.a=0,s.$=kt-L}return 1}return s.a=3,0}function qi(s){e(s!=null),s.vc=null,s.yc=null,s.Ya=null;var c=s.Wa;c!=null&&(c.X=null),s.vb=null,e(s!=null)}function lr(){var s=new ce;return s==null?null:(s.a=0,s.xb=vl,pe("Predictor","VP8LPredictors"),pe("Predictor","VP8LPredictors_C"),pe("PredictorAdd","VP8LPredictorsAdd"),pe("PredictorAdd","VP8LPredictorsAdd_C"),Ve=Bt,ys=Ut,ws=se,Gn=Wt,Wn=Jt,Xn=Ht,Ar=ve,j.VP8LMapColor32b=fn,j.VP8LMapColor8b=bs,s)}function hn(s,c,L,F,O){var q=1,G=[s],J=[c],Q=F.m,ot=F.s,vt=null,kt=0;t:for(;;){if(L)for(;q&&Ct(Q,1);){var lt=G,wt=J,St=F,Tt=1,Lt=St.m,_t=St.gc[St.ab],It=Ct(Lt,2);if(St.Oc&1<<It)q=0;else{switch(St.Oc|=1<<It,_t.hc=It,_t.Ea=lt[0],_t.nc=wt[0],_t.K=[null],++St.ab,e(4>=St.ab),It){case 0:case 1:_t.b=Ct(Lt,3)+2,Tt=hn(Z(_t.Ea,_t.b),Z(_t.nc,_t.b),0,St,_t.K),_t.K=_t.K[0];break;case 3:var qt,Ot=Ct(Lt,8)+1,re=16<Ot?0:4<Ot?1:2<Ot?2:3;if(lt[0]=Z(_t.Ea,re),_t.b=re,qt=Tt=hn(Ot,1,0,St,_t.K)){var $t,me=Ot,Zt=_t,we=1<<(8>>Zt.b),ni=r(we);if(ni==null)qt=0;else{var be=Zt.K[0],Qt=Zt.w;for(ni[0]=Zt.K[0][0],$t=1;$t<1*me;++$t)ni[$t]=pt(be[Qt+$t],ni[$t-1]);for(;$t<4*we;++$t)ni[$t]=0;Zt.K[0]=null,Zt.K[0]=ni,qt=1}}Tt=qt;break;case 2:break;default:e(0)}q=Tt}}if(G=G[0],J=J[0],q&&Ct(Q,1)&&!(q=1<=(kt=Ct(Q,4))&&11>=kt)){F.a=3;break t}var zt;if(zt=q)e:{var We,fe,Ae,Oe=F,di=G,Li=J,qe=kt,bi=L,Ci=Oe.m,ri=Oe.s,Se=[null],Ne=1,He=0,Pe=Yc[qe];i:for(;;){if(bi&&Ct(Ci,1)){var fi=Ct(Ci,3)+2,en=Z(di,fi),Xe=Z(Li,fi),Ei=en*Xe;if(!hn(en,Xe,0,Oe,Se))break i;for(Se=Se[0],ri.xc=fi,We=0;We<Ei;++We){var Ie=Se[We]>>8&65535;Se[We]=Ie,Ie>=Ne&&(Ne=Ie+1)}}if(Ci.h)break i;for(fe=0;5>fe;++fe){var si=ml[fe];!fe&&0<qe&&(si+=1<<qe),He<si&&(He=si)}var Ii=b(Ne*Pe,ut),ki=Ne,Ri=b(ki,Y);if(Ri==null)var Mi=null;else e(65536>=ki),Mi=Ri;var Ni=r(He);if(Mi==null||Ni==null||Ii==null){Oe.a=1;break i}var Di=Ii;for(We=Ae=0;We<Ne;++We){var De=Mi[We],Oi=De.G,nn=De.H,Sr=0,Rn=1,pi=0;for(fe=0;5>fe;++fe){si=ml[fe],Oi[fe]=Di,nn[fe]=Ae,!fe&&0<qe&&(si+=1<<qe);r:{var ga,lo=si,ma=Oe,Cs=Ni,mu=Di,bu=Ae,ho=0,Kn=ma.m,vu=Ct(Kn,1);if(a(Cs,0,0,lo),vu){var yu=Ct(Kn,1)+1,wu=Ct(Kn,1),kl=Ct(Kn,wu==0?1:8);Cs[kl]=1,yu==2&&(Cs[kl=Ct(Kn,8)]=1);var ba=1}else{var El=r(19),Nl=Ct(Kn,4)+4;if(19<Nl){ma.a=3;var va=0;break r}for(ga=0;ga<Nl;++ga)El[Xc[ga]]=Ct(Kn,3);var co=void 0,ks=void 0,Pl=ma,Au=El,ya=lo,Tl=Cs,uo=0,Zn=Pl.m,_l=8,Fl=b(128,ut);n:for(;X(Fl,0,7,Au,19);){if(Ct(Zn,1)){var xu=2+2*Ct(Zn,3);if((co=2+Ct(Zn,xu))>ya)break n}else co=ya;for(ks=0;ks<ya&&co--;){T(Zn);var Il=Fl[0+(127&st(Zn))];dt(Zn,Zn.u+Il.g);var Xr=Il.value;if(16>Xr)Tl[ks++]=Xr,Xr!=0&&(_l=Xr);else{var Su=Xr==16,Rl=Xr-16,Lu=Gc[Rl],Ml=Ct(Zn,Vc[Rl])+Lu;if(ks+Ml>ya)break n;for(var Cu=Su?_l:0;0<Ml--;)Tl[ks++]=Cu}}uo=1;break n}uo||(Pl.a=3),ba=uo}(ba=ba&&!Kn.h)&&(ho=X(mu,bu,8,Cs,lo)),ba&&ho!=0?va=ho:(ma.a=3,va=0)}if(va==0)break i;if(Rn&&Wc[fe]==1&&(Rn=Di[Ae].g==0),Sr+=Di[Ae].g,Ae+=va,3>=fe){var Es,fo=Ni[0];for(Es=1;Es<si;++Es)Ni[Es]>fo&&(fo=Ni[Es]);pi+=fo}}if(De.nd=Rn,De.Qb=0,Rn&&(De.qb=(Oi[3][nn[3]+0].value<<24|Oi[1][nn[1]+0].value<<16|Oi[2][nn[2]+0].value)>>>0,Sr==0&&256>Oi[0][nn[0]+0].value&&(De.Qb=1,De.qb+=Oi[0][nn[0]+0].value<<8)),De.jc=!De.Qb&&6>pi,De.jc){var wa,Mn=De;for(wa=0;wa<wr;++wa){var Qn=wa,tr=Mn.pd[Qn],Aa=Mn.G[0][Mn.H[0]+Qn];256<=Aa.value?(tr.g=Aa.g+256,tr.value=Aa.value):(tr.g=0,tr.value=0,Qn>>=li(Aa,8,tr),Qn>>=li(Mn.G[1][Mn.H[1]+Qn],16,tr),Qn>>=li(Mn.G[2][Mn.H[2]+Qn],0,tr),li(Mn.G[3][Mn.H[3]+Qn],24,tr))}}}ri.vc=Se,ri.Wb=Ne,ri.Ya=Mi,ri.yc=Ii,zt=1;break e}zt=0}if(!(q=zt)){F.a=3;break t}if(0<kt){if(ot.ua=1<<kt,!k(ot.Wa,kt)){F.a=1,q=0;break t}}else ot.ua=0;var po=F,Dl=G,ku=J,go=po.s,mo=go.xc;if(po.c=Dl,po.i=ku,go.md=Z(Dl,mo),go.wc=mo==0?-1:(1<<mo)-1,L){F.xb=nu;break t}if((vt=r(G*J))==null){F.a=1,q=0;break t}q=(q=Ki(F,vt,0,G,J,J,null))&&!Q.h;break t}return q?(O!=null?O[0]=vt:(e(vt==null),e(L)),F.$=0,L||qi(ot)):qi(ot),q}function hr(s,c){var L=s.c*s.i,F=L+c+16*c;return e(s.c<=c),s.V=r(F),s.V==null?(s.Ta=null,s.Ua=0,s.a=1,0):(s.Ta=s.V,s.Ua=s.Ba+L+c,1)}function Mr(s,c){var L=s.C,F=c-L,O=s.V,q=s.Ba+s.c*L;for(e(c<=s.l.o);0<F;){var G=16<F?16:F,J=s.l.ma,Q=s.l.width,ot=Q*G,vt=J.ca,kt=J.tb+Q*L,lt=s.Ta,wt=s.Ua;or(s,G,O,q),ll(lt,wt,vt,kt,ot),ln(J,L,L+G,vt,kt,Q),F-=G,O+=G*s.c,L+=G}e(L==c),s.C=s.Ma=c}function Dr(){this.ub=this.yd=this.td=this.Rb=0}function Or(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ba(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function ts(){this.Yb=(function(){var s=[];return(function c(L,F,O){for(var q=O[F],G=0;G<q&&(L.push(O.length>F+1?[]:0),!(O.length<F+1));G++)c(L[G],F+1,O)})(s,0,[3,11]),s})()}function Us(){this.jb=r(3),this.Wc=l([4,8],ts),this.Xc=l([4,17],ts)}function qs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function Hi(){this.ld=this.La=this.dd=this.tc=0}function es(){this.Na=this.la=0}function Hs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function is(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hi),this.Y=0,this.ya=Array(new is),this.aa=0,this.l=new Br}function Vs(){this.y=r(16),this.f=r(8),this.ea=r(8)}function Gs(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Dr,this.Kc=new Or,this.ed=new qs,this.Qa=new Ba,this.Ic=this.$c=this.Aa=0,this.D=new zs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=b(8,B),this.ia=0,this.pb=b(4,Hs),this.Pa=new Us,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vs),this.Hd=0,this.rb=Array(new es),this.sb=0,this.wa=Array(new Hi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new is),this.L=this.aa=0,this.gd=l([4,2],Hi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cn(s,c){return 0>s?0:s>c?c:s}function Br(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ja(){var s=new Gs;return s!=null&&(s.a=0,s.sc="OK",s.cb=0,s.Xb=0,Ss||(Ss=jr)),s}function Ke(s,c,L){return s.a==0&&(s.a=c,s.sc=L,s.cb=0),0}function Ws(s,c,L){return 3<=L&&s[c+0]==157&&s[c+1]==1&&s[c+2]==42}function un(s,c){if(s==null)return 0;if(s.a=0,s.sc="OK",c==null)return Ke(s,2,"null VP8Io passed to VP8GetHeaders()");var L=c.data,F=c.w,O=c.ha;if(4>O)return Ke(s,7,"Truncated header.");var q=L[F+0]|L[F+1]<<8|L[F+2]<<16,G=s.Od;if(G.Rb=!(1&q),G.td=q>>1&7,G.yd=q>>4&1,G.ub=q>>5,3<G.td)return Ke(s,3,"Incorrect keyframe parameters.");if(!G.yd)return Ke(s,4,"Frame not displayable.");F+=3,O-=3;var J=s.Kc;if(G.Rb){if(7>O)return Ke(s,7,"cannot parse picture header");if(!Ws(L,F,O))return Ke(s,3,"Bad code word");J.c=16383&(L[F+4]<<8|L[F+3]),J.Td=L[F+4]>>6,J.i=16383&(L[F+6]<<8|L[F+5]),J.Ud=L[F+6]>>6,F+=7,O-=7,s.za=J.c+15>>4,s.Ub=J.i+15>>4,c.width=J.c,c.height=J.i,c.Da=0,c.j=0,c.v=0,c.va=c.width,c.o=c.height,c.da=0,c.ib=c.width,c.hb=c.height,c.U=c.width,c.T=c.height,a((q=s.Pa).jb,0,255,q.jb.length),e((q=s.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(G.ub>O)return Ke(s,7,"bad partition length");nt(q=s.m,L,F,G.ub),F+=G.ub,O-=G.ub,G.Rb&&(J.Ld=f(q),J.Kd=f(q)),J=s.Qa;var Q,ot=s.Pa;if(e(q!=null),e(J!=null),J.Cb=f(q),J.Cb){if(J.Bb=f(q),f(q)){for(J.Fb=f(q),Q=0;4>Q;++Q)J.Zb[Q]=f(q)?gt(q,7):0;for(Q=0;4>Q;++Q)J.Lb[Q]=f(q)?gt(q,6):0}if(J.Bb)for(Q=0;3>Q;++Q)ot.jb[Q]=f(q)?bt(q,8):255}else J.Bb=0;if(q.Ka)return Ke(s,3,"cannot parse segment header");if((J=s.ed).zd=f(q),J.Tb=bt(q,6),J.wb=bt(q,3),J.Pc=f(q),J.Pc&&f(q)){for(ot=0;4>ot;++ot)f(q)&&(J.vd[ot]=gt(q,6));for(ot=0;4>ot;++ot)f(q)&&(J.od[ot]=gt(q,6))}if(s.L=J.Tb==0?0:J.zd?1:2,q.Ka)return Ke(s,3,"cannot parse filter header");var vt=O;if(O=Q=F,F=Q+vt,J=vt,s.Xb=(1<<bt(s.m,2))-1,vt<3*(ot=s.Xb))L=7;else{for(Q+=3*ot,J-=3*ot,vt=0;vt<ot;++vt){var kt=L[O+0]|L[O+1]<<8|L[O+2]<<16;kt>J&&(kt=J),nt(s.Jc[+vt],L,Q,kt),Q+=kt,J-=kt,O+=3}nt(s.Jc[+ot],L,Q,J),L=Q<F?0:5}if(L!=0)return Ke(s,L,"cannot parse partitions");for(L=bt(Q=s.m,7),O=f(Q)?gt(Q,4):0,F=f(Q)?gt(Q,4):0,J=f(Q)?gt(Q,4):0,ot=f(Q)?gt(Q,4):0,Q=f(Q)?gt(Q,4):0,vt=s.Qa,kt=0;4>kt;++kt){if(vt.Cb){var lt=vt.Zb[kt];vt.Fb||(lt+=L)}else{if(0<kt){s.pb[kt]=s.pb[0];continue}lt=L}var wt=s.pb[kt];wt.Sc[0]=so[cn(lt+O,127)],wt.Sc[1]=ao[cn(lt+0,127)],wt.Eb[0]=2*so[cn(lt+F,127)],wt.Eb[1]=101581*ao[cn(lt+J,127)]>>16,8>wt.Eb[1]&&(wt.Eb[1]=8),wt.Qc[0]=so[cn(lt+ot,117)],wt.Qc[1]=ao[cn(lt+Q,127)],wt.lc=lt+Q}if(!G.Rb)return Ke(s,4,"Not a key frame.");for(f(q),G=s.Pa,L=0;4>L;++L){for(O=0;8>O;++O)for(F=0;3>F;++F)for(J=0;11>J;++J)ot=u(q,eu[L][O][F][J])?bt(q,8):Qc[L][O][F][J],G.Wc[L][O].Yb[F][J]=ot;for(O=0;17>O;++O)G.Xc[L][O]=G.Wc[L][iu[O]]}return s.kc=f(q),s.kc&&(s.Bd=bt(q,8)),s.cb=1}function jr(s,c,L,F,O,q,G){var J=c[O].Yb[L];for(L=0;16>O;++O){if(!u(s,J[L+0]))return O;for(;!u(s,J[L+1]);)if(J=c[++O].Yb[0],L=0,O==16)return 16;var Q=c[O+1].Yb;if(u(s,J[L+2])){var ot=s,vt=0;if(u(ot,(lt=J)[(kt=L)+3]))if(u(ot,lt[kt+6])){for(J=0,kt=2*(vt=u(ot,lt[kt+8]))+(lt=u(ot,lt[kt+9+vt])),vt=0,lt=Kc[kt];lt[J];++J)vt+=vt+u(ot,lt[J]);vt+=3+(8<<kt)}else u(ot,lt[kt+7])?(vt=7+2*u(ot,165),vt+=u(ot,145)):vt=5+u(ot,159);else vt=u(ot,lt[kt+4])?3+u(ot,lt[kt+5]):2;J=Q[2]}else vt=1,J=Q[1];Q=G+Zc[O],0>(ot=s).b&&E(ot);var kt,lt=ot.b,wt=(kt=ot.Ca>>1)-(ot.I>>lt)>>31;--ot.b,ot.Ca+=wt,ot.Ca|=1,ot.I-=(kt+1&wt)<<lt,q[Q]=((vt^wt)-wt)*F[(0<O)+0]}return 16}function Xs(s){var c=s.rb[s.sb-1];c.la=0,c.Na=0,a(s.zc,0,0,s.zc.length),s.ja=0}function zi(s,c,L,F,O){O=s[c+L+32*F]+(O>>3),s[c+L+32*F]=-256&O?0>O?0:255:O}function ti(s,c,L,F,O,q){zi(s,c,0,L,F+O),zi(s,c,1,L,F+q),zi(s,c,2,L,F-q),zi(s,c,3,L,F-O)}function An(s){return(20091*s>>16)+s}function $s(s,c,L,F){var O,q=0,G=r(16);for(O=0;4>O;++O){var J=s[c+0]+s[c+8],Q=s[c+0]-s[c+8],ot=(35468*s[c+4]>>16)-An(s[c+12]),vt=An(s[c+4])+(35468*s[c+12]>>16);G[q+0]=J+vt,G[q+1]=Q+ot,G[q+2]=Q-ot,G[q+3]=J-vt,q+=4,c++}for(O=q=0;4>O;++O)J=(s=G[q+0]+4)+G[q+8],Q=s-G[q+8],ot=(35468*G[q+4]>>16)-An(G[q+12]),zi(L,F,0,0,J+(vt=An(G[q+4])+(35468*G[q+12]>>16))),zi(L,F,1,0,Q+ot),zi(L,F,2,0,Q-ot),zi(L,F,3,0,J-vt),q++,F+=32}function Ua(s,c,L,F){var O=s[c+0]+4,q=35468*s[c+4]>>16,G=An(s[c+4]),J=35468*s[c+1]>>16;ti(L,F,0,O+G,s=An(s[c+1]),J),ti(L,F,1,O+q,s,J),ti(L,F,2,O-q,s,J),ti(L,F,3,O-G,s,J)}function qa(s,c,L,F,O){$s(s,c,L,F),O&&$s(s,c+16,L,F+4)}function dn(s,c,L,F){xr(s,c+0,L,F,1),xr(s,c+32,L,F+128,1)}function Ys(s,c,L,F){var O;for(s=s[c+0]+4,O=0;4>O;++O)for(c=0;4>c;++c)zi(L,F,c,O,s)}function Js(s,c,L,F){s[c+0]&&ke(s,c+0,L,F),s[c+16]&&ke(s,c+16,L,F+4),s[c+32]&&ke(s,c+32,L,F+128),s[c+48]&&ke(s,c+48,L,F+128+4)}function Ur(s,c,L,F){var O,q=r(16);for(O=0;4>O;++O){var G=s[c+0+O]+s[c+12+O],J=s[c+4+O]+s[c+8+O],Q=s[c+4+O]-s[c+8+O],ot=s[c+0+O]-s[c+12+O];q[0+O]=G+J,q[8+O]=G-J,q[4+O]=ot+Q,q[12+O]=ot-Q}for(O=0;4>O;++O)G=(s=q[0+4*O]+3)+q[3+4*O],J=q[1+4*O]+q[2+4*O],Q=q[1+4*O]-q[2+4*O],ot=s-q[3+4*O],L[F+0]=G+J>>3,L[F+16]=ot+Q>>3,L[F+32]=G-J>>3,L[F+48]=ot-Q>>3,F+=64}function cr(s,c,L){var F,O=c-32,q=Fi,G=255-s[O-1];for(F=0;F<L;++F){var J,Q=q,ot=G+s[c-1];for(J=0;J<L;++J)s[c+J]=Q[ot+s[O+J]];c+=32}}function Ha(s,c){cr(s,c,4)}function za(s,c){cr(s,c,8)}function Va(s,c){cr(s,c,16)}function ns(s,c){var L;for(L=0;16>L;++L)i(s,c+32*L,s,c-32,16)}function Ks(s,c){var L;for(L=16;0<L;--L)a(s,c,s[c-1],16),c+=32}function Zi(s,c,L){var F;for(F=0;16>F;++F)a(c,L+32*F,s,16)}function Ga(s,c){var L,F=16;for(L=0;16>L;++L)F+=s[c-1+32*L]+s[c+L-32];Zi(F>>5,s,c)}function ur(s,c){var L,F=8;for(L=0;16>L;++L)F+=s[c-1+32*L];Zi(F>>4,s,c)}function rs(s,c){var L,F=8;for(L=0;16>L;++L)F+=s[c+L-32];Zi(F>>4,s,c)}function Wa(s,c){Zi(128,s,c)}function ue(s,c,L){return s+2*c+L+2>>2}function Xa(s,c){var L,F=c-32;for(F=new Uint8Array([ue(s[F-1],s[F+0],s[F+1]),ue(s[F+0],s[F+1],s[F+2]),ue(s[F+1],s[F+2],s[F+3]),ue(s[F+2],s[F+3],s[F+4])]),L=0;4>L;++L)i(s,c+32*L,F,0,F.length)}function $a(s,c){var L=s[c-1],F=s[c-1+32],O=s[c-1+64],q=s[c-1+96];w(s,c+0,16843009*ue(s[c-1-32],L,F)),w(s,c+32,16843009*ue(L,F,O)),w(s,c+64,16843009*ue(F,O,q)),w(s,c+96,16843009*ue(O,q,q))}function Ya(s,c){var L,F=4;for(L=0;4>L;++L)F+=s[c+L-32]+s[c-1+32*L];for(F>>=3,L=0;4>L;++L)a(s,c+32*L,F,4)}function xn(s,c){var L=s[c-1+0],F=s[c-1+32],O=s[c-1+64],q=s[c-1-32],G=s[c+0-32],J=s[c+1-32],Q=s[c+2-32],ot=s[c+3-32];s[c+0+96]=ue(F,O,s[c-1+96]),s[c+1+96]=s[c+0+64]=ue(L,F,O),s[c+2+96]=s[c+1+64]=s[c+0+32]=ue(q,L,F),s[c+3+96]=s[c+2+64]=s[c+1+32]=s[c+0+0]=ue(G,q,L),s[c+3+64]=s[c+2+32]=s[c+1+0]=ue(J,G,q),s[c+3+32]=s[c+2+0]=ue(Q,J,G),s[c+3+0]=ue(ot,Q,J)}function Sn(s,c){var L=s[c+1-32],F=s[c+2-32],O=s[c+3-32],q=s[c+4-32],G=s[c+5-32],J=s[c+6-32],Q=s[c+7-32];s[c+0+0]=ue(s[c+0-32],L,F),s[c+1+0]=s[c+0+32]=ue(L,F,O),s[c+2+0]=s[c+1+32]=s[c+0+64]=ue(F,O,q),s[c+3+0]=s[c+2+32]=s[c+1+64]=s[c+0+96]=ue(O,q,G),s[c+3+32]=s[c+2+64]=s[c+1+96]=ue(q,G,J),s[c+3+64]=s[c+2+96]=ue(G,J,Q),s[c+3+96]=ue(J,Q,Q)}function Ja(s,c){var L=s[c-1+0],F=s[c-1+32],O=s[c-1+64],q=s[c-1-32],G=s[c+0-32],J=s[c+1-32],Q=s[c+2-32],ot=s[c+3-32];s[c+0+0]=s[c+1+64]=q+G+1>>1,s[c+1+0]=s[c+2+64]=G+J+1>>1,s[c+2+0]=s[c+3+64]=J+Q+1>>1,s[c+3+0]=Q+ot+1>>1,s[c+0+96]=ue(O,F,L),s[c+0+64]=ue(F,L,q),s[c+0+32]=s[c+1+96]=ue(L,q,G),s[c+1+32]=s[c+2+96]=ue(q,G,J),s[c+2+32]=s[c+3+96]=ue(G,J,Q),s[c+3+32]=ue(J,Q,ot)}function Ka(s,c){var L=s[c+0-32],F=s[c+1-32],O=s[c+2-32],q=s[c+3-32],G=s[c+4-32],J=s[c+5-32],Q=s[c+6-32],ot=s[c+7-32];s[c+0+0]=L+F+1>>1,s[c+1+0]=s[c+0+64]=F+O+1>>1,s[c+2+0]=s[c+1+64]=O+q+1>>1,s[c+3+0]=s[c+2+64]=q+G+1>>1,s[c+0+32]=ue(L,F,O),s[c+1+32]=s[c+0+96]=ue(F,O,q),s[c+2+32]=s[c+1+96]=ue(O,q,G),s[c+3+32]=s[c+2+96]=ue(q,G,J),s[c+3+64]=ue(G,J,Q),s[c+3+96]=ue(J,Q,ot)}function qr(s,c){var L=s[c-1+0],F=s[c-1+32],O=s[c-1+64],q=s[c-1+96];s[c+0+0]=L+F+1>>1,s[c+2+0]=s[c+0+32]=F+O+1>>1,s[c+2+32]=s[c+0+64]=O+q+1>>1,s[c+1+0]=ue(L,F,O),s[c+3+0]=s[c+1+32]=ue(F,O,q),s[c+3+32]=s[c+1+64]=ue(O,q,q),s[c+3+64]=s[c+2+64]=s[c+0+96]=s[c+1+96]=s[c+2+96]=s[c+3+96]=q}function ss(s,c){var L=s[c-1+0],F=s[c-1+32],O=s[c-1+64],q=s[c-1+96],G=s[c-1-32],J=s[c+0-32],Q=s[c+1-32],ot=s[c+2-32];s[c+0+0]=s[c+2+32]=L+G+1>>1,s[c+0+32]=s[c+2+64]=F+L+1>>1,s[c+0+64]=s[c+2+96]=O+F+1>>1,s[c+0+96]=q+O+1>>1,s[c+3+0]=ue(J,Q,ot),s[c+2+0]=ue(G,J,Q),s[c+1+0]=s[c+3+32]=ue(L,G,J),s[c+1+32]=s[c+3+64]=ue(F,L,G),s[c+1+64]=s[c+3+96]=ue(O,F,L),s[c+1+96]=ue(q,O,F)}function dr(s,c){var L;for(L=0;8>L;++L)i(s,c+32*L,s,c-32,8)}function Za(s,c){var L;for(L=0;8>L;++L)a(s,c,s[c-1],8),c+=32}function Ln(s,c,L){var F;for(F=0;8>F;++F)a(c,L+32*F,s,8)}function Qa(s,c){var L,F=8;for(L=0;8>L;++L)F+=s[c+L-32]+s[c-1+32*L];Ln(F>>4,s,c)}function as(s,c){var L,F=4;for(L=0;8>L;++L)F+=s[c+L-32];Ln(F>>3,s,c)}function os(s,c){var L,F=4;for(L=0;8>L;++L)F+=s[c-1+32*L];Ln(F>>3,s,c)}function Zs(s,c){Ln(128,s,c)}function Cn(s,c,L){var F=s[c-L],O=s[c+0],q=3*(O-F)+to[1020+s[c-2*L]-s[c+L]],G=aa[112+(q+4>>3)];s[c-L]=Fi[255+F+aa[112+(q+3>>3)]],s[c+0]=Fi[255+O-G]}function ls(s,c,L,F){var O=s[c+0],q=s[c+L];return Wi[255+s[c-2*L]-s[c-L]]>F||Wi[255+q-O]>F}function Hr(s,c,L,F){return 4*Wi[255+s[c-L]-s[c+0]]+Wi[255+s[c-2*L]-s[c+L]]<=F}function hs(s,c,L,F,O){var q=s[c-3*L],G=s[c-2*L],J=s[c-L],Q=s[c+0],ot=s[c+L],vt=s[c+2*L],kt=s[c+3*L];return 4*Wi[255+J-Q]+Wi[255+G-ot]>F?0:Wi[255+s[c-4*L]-q]<=O&&Wi[255+q-G]<=O&&Wi[255+G-J]<=O&&Wi[255+kt-vt]<=O&&Wi[255+vt-ot]<=O&&Wi[255+ot-Q]<=O}function fr(s,c,L,F){var O=2*F+1;for(F=0;16>F;++F)Hr(s,c+F,L,O)&&Cn(s,c+F,L)}function cs(s,c,L,F){var O=2*F+1;for(F=0;16>F;++F)Hr(s,c+F*L,1,O)&&Cn(s,c+F*L,1)}function Qs(s,c,L,F){var O;for(O=3;0<O;--O)fr(s,c+=4*L,L,F)}function ta(s,c,L,F){var O;for(O=3;0<O;--O)cs(s,c+=4,L,F)}function kn(s,c,L,F,O,q,G,J){for(q=2*q+1;0<O--;){if(hs(s,c,L,q,G))if(ls(s,c,L,J))Cn(s,c,L);else{var Q=s,ot=c,vt=L,kt=Q[ot-2*vt],lt=Q[ot-vt],wt=Q[ot+0],St=Q[ot+vt],Tt=Q[ot+2*vt],Lt=27*(It=to[1020+3*(wt-lt)+to[1020+kt-St]])+63>>7,_t=18*It+63>>7,It=9*It+63>>7;Q[ot-3*vt]=Fi[255+Q[ot-3*vt]+It],Q[ot-2*vt]=Fi[255+kt+_t],Q[ot-vt]=Fi[255+lt+Lt],Q[ot+0]=Fi[255+wt-Lt],Q[ot+vt]=Fi[255+St-_t],Q[ot+2*vt]=Fi[255+Tt-It]}c+=F}}function En(s,c,L,F,O,q,G,J){for(q=2*q+1;0<O--;){if(hs(s,c,L,q,G))if(ls(s,c,L,J))Cn(s,c,L);else{var Q=s,ot=c,vt=L,kt=Q[ot-vt],lt=Q[ot+0],wt=Q[ot+vt],St=aa[112+(4+(Tt=3*(lt-kt))>>3)],Tt=aa[112+(Tt+3>>3)],Lt=St+1>>1;Q[ot-2*vt]=Fi[255+Q[ot-2*vt]+Lt],Q[ot-vt]=Fi[255+kt+Tt],Q[ot+0]=Fi[255+lt-St],Q[ot+vt]=Fi[255+wt-Lt]}c+=F}}function ea(s,c,L,F,O,q){kn(s,c,L,1,16,F,O,q)}function pr(s,c,L,F,O,q){kn(s,c,1,L,16,F,O,q)}function ia(s,c,L,F,O,q){var G;for(G=3;0<G;--G)En(s,c+=4*L,L,1,16,F,O,q)}function A(s,c,L,F,O,q){var G;for(G=3;0<G;--G)En(s,c+=4,1,L,16,F,O,q)}function D(s,c,L,F,O,q,G,J){kn(s,c,O,1,8,q,G,J),kn(L,F,O,1,8,q,G,J)}function ht(s,c,L,F,O,q,G,J){kn(s,c,1,O,8,q,G,J),kn(L,F,1,O,8,q,G,J)}function mt(s,c,L,F,O,q,G,J){En(s,c+4*O,O,1,8,q,G,J),En(L,F+4*O,O,1,8,q,G,J)}function At(s,c,L,F,O,q,G,J){En(s,c+4,1,O,8,q,G,J),En(L,F+4,1,O,8,q,G,J)}function Ft(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ye,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Dt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ee(){this.ua=0,this.Wa=new et,this.vb=new et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new ut}function ce(){this.xb=this.a=0,this.l=new Br,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new it,this.Pb=0,this.wd=new it,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ee,this.ab=0,this.gc=b(4,Kt),this.Oc=0}function ge(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Br,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xe(s,c,L,F,O,q,G){for(s=s==null?0:s[c+0],c=0;c<G;++c)O[q+c]=s+L[F+c]&255,s=O[q+c]}function Ue(s,c,L,F,O,q,G){var J;if(s==null)xe(null,null,L,F,O,q,G);else for(J=0;J<G;++J)O[q+J]=s[c+J]+L[F+J]&255}function Ze(s,c,L,F,O,q,G){if(s==null)xe(null,null,L,F,O,q,G);else{var J,Q=s[c+0],ot=Q,vt=Q;for(J=0;J<G;++J)ot=vt+(Q=s[c+J])-ot,vt=L[F+J]+(-256&ot?0>ot?0:255:ot)&255,ot=Q,O[q+J]=vt}}function Me(s,c,L,F){var O=c.width,q=c.o;if(e(s!=null&&c!=null),0>L||0>=F||L+F>q)return null;if(!s.Cc){if(s.ga==null){var G;if(s.ga=new ge,(G=s.ga==null)||(G=c.width*c.o,e(s.Gb.length==0),s.Gb=r(G),s.Uc=0,s.Gb==null?G=0:(s.mb=s.Gb,s.nb=s.Uc,s.rc=null,G=1),G=!G),!G){G=s.ga;var J=s.Fa,Q=s.P,ot=s.qc,vt=s.mb,kt=s.nb,lt=Q+1,wt=ot-1,St=G.l;if(e(J!=null&&vt!=null&&c!=null),Jn[0]=null,Jn[1]=xe,Jn[2]=Ue,Jn[3]=Ze,G.ca=vt,G.tb=kt,G.c=c.width,G.i=c.height,e(0<G.c&&0<G.i),1>=ot)c=0;else if(G.$a=3&J[Q+0],G.Z=J[Q+0]>>2&3,G.Lc=J[Q+0]>>4&3,Q=J[Q+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Q)c=0;else if(St.put=ne,St.ac=xi,St.bc=gi,St.ma=G,St.width=c.width,St.height=c.height,St.Da=c.Da,St.v=c.v,St.va=c.va,St.j=c.j,St.o=c.o,G.$a)t:{e(G.$a==1),c=lr();e:for(;;){if(c==null){c=0;break t}if(e(G!=null),G.mc=c,c.c=G.c,c.i=G.i,c.l=G.l,c.l.ma=G,c.l.width=G.c,c.l.height=G.i,c.a=0,yt(c.m,J,lt,wt),!hn(G.c,G.i,1,c,null)||(c.ab==1&&c.gc[0].hc==3&&Yi(c.s)?(G.ic=1,J=c.c*c.i,c.Ta=null,c.Ua=0,c.V=r(J),c.Ba=0,c.V==null?(c.a=1,c=0):c=1):(G.ic=0,c=hr(c,G.c)),!c))break e;c=1;break t}G.mc=null,c=0}else c=wt>=G.c*G.i;G=!c}if(G)return null;s.ga.Lc!=1?s.Ga=0:F=q-L}e(s.ga!=null),e(L+F<=q);t:{if(c=(J=s.ga).c,q=J.l.o,J.$a==0){if(lt=s.rc,wt=s.Vc,St=s.Fa,Q=s.P+1+L*c,ot=s.mb,vt=s.nb+L*c,e(Q<=s.P+s.qc),J.Z!=0)for(e(Jn[J.Z]!=null),G=0;G<F;++G)Jn[J.Z](lt,wt,St,Q,ot,vt,c),lt=ot,wt=vt,vt+=c,Q+=c;else for(G=0;G<F;++G)i(ot,vt,St,Q,c),lt=ot,wt=vt,vt+=c,Q+=c;s.rc=lt,s.Vc=wt}else{if(e(J.mc!=null),c=L+F,e((G=J.mc)!=null),e(c<=G.i),G.C>=c)c=1;else if(J.ic||Qi(),J.ic){J=G.V,lt=G.Ba,wt=G.c;var Tt=G.i,Lt=(St=1,Q=G.$/wt,ot=G.$%wt,vt=G.m,kt=G.s,G.$),_t=wt*Tt,It=wt*c,qt=kt.wc,Ot=Lt<It?hi(kt,ot,Q):null;e(Lt<=_t),e(c<=Tt),e(Yi(kt));e:for(;;){for(;!vt.h&&Lt<It;){if(ot&qt||(Ot=hi(kt,ot,Q)),e(Ot!=null),T(vt),256>(Tt=Ee(Ot.G[0],Ot.H[0],vt)))J[lt+Lt]=Tt,++Lt,++ot>=wt&&(ot=0,++Q<=c&&!(Q%16)&&Ji(G,Q));else{if(!(280>Tt)){St=0;break e}Tt=oi(Tt-256,vt);var re,$t=Ee(Ot.G[4],Ot.H[4],vt);if(T(vt),!(Lt>=($t=mi(wt,$t=oi($t,vt)))&&_t-Lt>=Tt)){St=0;break e}for(re=0;re<Tt;++re)J[lt+Lt+re]=J[lt+Lt+re-$t];for(Lt+=Tt,ot+=Tt;ot>=wt;)ot-=wt,++Q<=c&&!(Q%16)&&Ji(G,Q);Lt<It&&ot&qt&&(Ot=hi(kt,ot,Q))}e(vt.h==ft(vt))}Ji(G,Q>c?c:Q);break e}!St||vt.h&&Lt<_t?(St=0,G.a=vt.h?5:3):G.$=Lt,c=St}else c=Ki(G,G.V,G.Ba,G.c,G.i,c,Mr);if(!c){F=0;break t}}L+F>=q&&(s.Cc=1),F=1}if(!F)return null;if(s.Cc&&((F=s.ga)!=null&&(F.mc=null),s.ga=null,0<s.Ga))return alert("todo:WebPDequantizeLevels"),null}return s.nb+L*O}function ei(s,c,L,F,O,q){for(;0<O--;){var G,J=s,Q=c+(L?1:0),ot=s,vt=c+(L?0:3);for(G=0;G<F;++G){var kt=ot[vt+4*G];kt!=255&&(kt*=32897,J[Q+4*G+0]=J[Q+4*G+0]*kt>>23,J[Q+4*G+1]=J[Q+4*G+1]*kt>>23,J[Q+4*G+2]=J[Q+4*G+2]*kt>>23)}c+=q}}function Qe(s,c,L,F,O){for(;0<F--;){var q;for(q=0;q<L;++q){var G=s[c+2*q+0],J=15&(ot=s[c+2*q+1]),Q=4369*J,ot=(240&ot|ot>>4)*Q>>16;s[c+2*q+0]=(240&G|G>>4)*Q>>16&240|(15&G|G<<4)*Q>>16>>4&15,s[c+2*q+1]=240&ot|J}c+=O}}function ci(s,c,L,F,O,q,G,J){var Q,ot,vt=255;for(ot=0;ot<O;++ot){for(Q=0;Q<F;++Q){var kt=s[c+Q];q[G+4*Q]=kt,vt&=kt}c+=L,G+=J}return vt!=255}function Nn(s,c,L,F,O){var q;for(q=0;q<O;++q)L[F+q]=s[c+q]>>8}function Qi(){xs=ei,al=Qe,ol=ci,ll=Nn}function Pn(s,c,L){j[s]=function(F,O,q,G,J,Q,ot,vt,kt,lt,wt,St,Tt,Lt,_t,It,qt){var Ot,re=qt-1>>1,$t=J[Q+0]|ot[vt+0]<<16,me=kt[lt+0]|wt[St+0]<<16;e(F!=null);var Zt=3*$t+me+131074>>2;for(c(F[O+0],255&Zt,Zt>>16,Tt,Lt),q!=null&&(Zt=3*me+$t+131074>>2,c(q[G+0],255&Zt,Zt>>16,_t,It)),Ot=1;Ot<=re;++Ot){var we=J[Q+Ot]|ot[vt+Ot]<<16,ni=kt[lt+Ot]|wt[St+Ot]<<16,be=$t+we+me+ni+524296,Qt=be+2*(we+me)>>3;Zt=Qt+$t>>1,$t=(be=be+2*($t+ni)>>3)+we>>1,c(F[O+2*Ot-1],255&Zt,Zt>>16,Tt,Lt+(2*Ot-1)*L),c(F[O+2*Ot-0],255&$t,$t>>16,Tt,Lt+(2*Ot-0)*L),q!=null&&(Zt=be+me>>1,$t=Qt+ni>>1,c(q[G+2*Ot-1],255&Zt,Zt>>16,_t,It+(2*Ot-1)*L),c(q[G+2*Ot+0],255&$t,$t>>16,_t,It+(2*Ot+0)*L)),$t=we,me=ni}1&qt||(Zt=3*$t+me+131074>>2,c(F[O+qt-1],255&Zt,Zt>>16,Tt,Lt+(qt-1)*L),q!=null&&(Zt=3*me+$t+131074>>2,c(q[G+qt-1],255&Zt,Zt>>16,_t,It+(qt-1)*L)))}}function us(){Xi[oa]=ru,Xi[la]=yl,Xi[pl]=su,Xi[ha]=wl,Xi[ca]=Al,Xi[eo]=xl,Xi[gl]=au,Xi[io]=yl,Xi[no]=wl,Xi[ua]=Al,Xi[ro]=xl}function zr(s){return s&-16384?0>s?0:255:s>>ou}function Un(s,c){return zr((19077*s>>8)+(26149*c>>8)-14234)}function gr(s,c,L){return zr((19077*s>>8)-(6419*c>>8)-(13320*L>>8)+8708)}function mr(s,c){return zr((19077*s>>8)+(33050*c>>8)-17685)}function qn(s,c,L,F,O){F[O+0]=Un(s,L),F[O+1]=gr(s,c,L),F[O+2]=mr(s,c)}function ui(s,c,L,F,O){F[O+0]=mr(s,c),F[O+1]=gr(s,c,L),F[O+2]=Un(s,L)}function br(s,c,L,F,O){var q=gr(s,c,L);c=q<<3&224|mr(s,c)>>3,F[O+0]=248&Un(s,L)|q>>5,F[O+1]=c}function vr(s,c,L,F,O){var q=240&mr(s,c)|15;F[O+0]=240&Un(s,L)|gr(s,c,L)>>4,F[O+1]=q}function ds(s,c,L,F,O){F[O+0]=255,qn(s,c,L,F,O+1)}function fs(s,c,L,F,O){ui(s,c,L,F,O),F[O+3]=255}function Si(s,c,L,F,O){qn(s,c,L,F,O),F[O+3]=255}function Tn(s,c,L){j[s]=function(F,O,q,G,J,Q,ot,vt,kt){for(var lt=vt+(-2&kt)*L;vt!=lt;)c(F[O+0],q[G+0],J[Q+0],ot,vt),c(F[O+1],q[G+0],J[Q+0],ot,vt+L),O+=2,++G,++Q,vt+=2*L;1&kt&&c(F[O+0],q[G+0],J[Q+0],ot,vt)}}function Vr(s,c,L){return L==0?s==0?c==0?6:5:c==0?4:0:L}function na(s,c,L,F,O){switch(s>>>30){case 3:xr(c,L,F,O,0);break;case 2:Gi(c,L,F,O);break;case 1:ke(c,L,F,O)}}function Vi(s,c){var L,F,O=c.M,q=c.Nb,G=s.oc,J=s.pc+40,Q=s.oc,ot=s.pc+584,vt=s.oc,kt=s.pc+600;for(L=0;16>L;++L)G[J+32*L-1]=129;for(L=0;8>L;++L)Q[ot+32*L-1]=129,vt[kt+32*L-1]=129;for(0<O?G[J-1-32]=Q[ot-1-32]=vt[kt-1-32]=129:(a(G,J-32-1,127,21),a(Q,ot-32-1,127,9),a(vt,kt-32-1,127,9)),F=0;F<s.za;++F){var lt=c.ya[c.aa+F];if(0<F){for(L=-1;16>L;++L)i(G,J+32*L-4,G,J+32*L+12,4);for(L=-1;8>L;++L)i(Q,ot+32*L-4,Q,ot+32*L+4,4),i(vt,kt+32*L-4,vt,kt+32*L+4,4)}var wt=s.Gd,St=s.Hd+F,Tt=lt.ad,Lt=lt.Hc;if(0<O&&(i(G,J-32,wt[St].y,0,16),i(Q,ot-32,wt[St].f,0,8),i(vt,kt-32,wt[St].ea,0,8)),lt.Za){var _t=G,It=J-32+16;for(0<O&&(F>=s.za-1?a(_t,It,wt[St].y[15],4):i(_t,It,wt[St+1].y,0,4)),L=0;4>L;L++)_t[It+128+L]=_t[It+256+L]=_t[It+384+L]=_t[It+0+L];for(L=0;16>L;++L,Lt<<=2)_t=G,It=J+Ll[L],tn[lt.Ob[L]](_t,It),na(Lt,Tt,16*+L,_t,It)}else if(_t=Vr(F,O,lt.Ob[0]),Yn[_t](G,J),Lt!=0)for(L=0;16>L;++L,Lt<<=2)na(Lt,Tt,16*+L,G,J+Ll[L]);for(L=lt.Gc,_t=Vr(F,O,lt.Dd),In[_t](Q,ot),In[_t](vt,kt),Lt=Tt,_t=Q,It=ot,255&(lt=0|L)&&(170&lt?gn(Lt,256,_t,It):Fe(Lt,256,_t,It)),lt=vt,Lt=kt,255&(L>>=8)&&(170&L?gn(Tt,320,lt,Lt):Fe(Tt,320,lt,Lt)),O<s.Ub-1&&(i(wt[St].y,0,G,J+480,16),i(wt[St].f,0,Q,ot+224,8),i(wt[St].ea,0,vt,kt+224,8)),L=8*q*s.B,wt=s.sa,St=s.ta+16*F+16*q*s.R,Tt=s.qa,lt=s.ra+8*F+L,Lt=s.Ha,_t=s.Ia+8*F+L,L=0;16>L;++L)i(wt,St+L*s.R,G,J+32*L,16);for(L=0;8>L;++L)i(Tt,lt+L*s.B,Q,ot+32*L,8),i(Lt,_t+L*s.B,vt,kt+32*L,8)}}function yr(s,c,L,F,O,q,G,J,Q){var ot=[0],vt=[0],kt=0,lt=Q!=null?Q.kd:0,wt=Q??new Dt;if(s==null||12>L)return 7;wt.data=s,wt.w=c,wt.ha=L,c=[c],L=[L],wt.gb=[wt.gb];t:{var St=c,Tt=L,Lt=wt.gb;if(e(s!=null),e(Tt!=null),e(Lt!=null),Lt[0]=0,12<=Tt[0]&&!t(s,St[0],"RIFF")){if(t(s,St[0]+8,"WEBP")){Lt=3;break t}var _t=R(s,St[0]+4);if(12>_t||4294967286<_t){Lt=3;break t}if(lt&&_t>Tt[0]-8){Lt=7;break t}Lt[0]=_t,St[0]+=12,Tt[0]-=12}Lt=0}if(Lt!=0)return Lt;for(_t=0<wt.gb[0],L=L[0];;){t:{var It=s;Tt=c,Lt=L;var qt=ot,Ot=vt,re=St=[0];if((Zt=kt=[kt])[0]=0,8>Lt[0])Lt=7;else{if(!t(It,Tt[0],"VP8X")){if(R(It,Tt[0]+4)!=10){Lt=3;break t}if(18>Lt[0]){Lt=7;break t}var $t=R(It,Tt[0]+8),me=1+I(It,Tt[0]+12);if(2147483648<=me*(It=1+I(It,Tt[0]+15))){Lt=3;break t}re!=null&&(re[0]=$t),qt!=null&&(qt[0]=me),Ot!=null&&(Ot[0]=It),Tt[0]+=18,Lt[0]-=18,Zt[0]=1}Lt=0}}if(kt=kt[0],St=St[0],Lt!=0)return Lt;if(Tt=!!(2&St),!_t&&kt)return 3;if(q!=null&&(q[0]=!!(16&St)),G!=null&&(G[0]=Tt),J!=null&&(J[0]=0),G=ot[0],St=vt[0],kt&&Tt&&Q==null){Lt=0;break}if(4>L){Lt=7;break}if(_t&&kt||!_t&&!kt&&!t(s,c[0],"ALPH")){L=[L],wt.na=[wt.na],wt.P=[wt.P],wt.Sa=[wt.Sa];t:{$t=s,Lt=c,_t=L;var Zt=wt.gb;qt=wt.na,Ot=wt.P,re=wt.Sa,me=22,e($t!=null),e(_t!=null),It=Lt[0];var we=_t[0];for(e(qt!=null),e(re!=null),qt[0]=null,Ot[0]=null,re[0]=0;;){if(Lt[0]=It,_t[0]=we,8>we){Lt=7;break t}var ni=R($t,It+4);if(4294967286<ni){Lt=3;break t}var be=8+ni+1&-2;if(me+=be,0<Zt&&me>Zt){Lt=3;break t}if(!t($t,It,"VP8 ")||!t($t,It,"VP8L")){Lt=0;break t}if(we[0]<be){Lt=7;break t}t($t,It,"ALPH")||(qt[0]=$t,Ot[0]=It+8,re[0]=ni),It+=be,we-=be}}if(L=L[0],wt.na=wt.na[0],wt.P=wt.P[0],wt.Sa=wt.Sa[0],Lt!=0)break}L=[L],wt.Ja=[wt.Ja],wt.xa=[wt.xa];t:if(Zt=s,Lt=c,_t=L,qt=wt.gb[0],Ot=wt.Ja,re=wt.xa,$t=Lt[0],It=!t(Zt,$t,"VP8 "),me=!t(Zt,$t,"VP8L"),e(Zt!=null),e(_t!=null),e(Ot!=null),e(re!=null),8>_t[0])Lt=7;else{if(It||me){if(Zt=R(Zt,$t+4),12<=qt&&Zt>qt-12){Lt=3;break t}if(lt&&Zt>_t[0]-8){Lt=7;break t}Ot[0]=Zt,Lt[0]+=8,_t[0]-=8,re[0]=me}else re[0]=5<=_t[0]&&Zt[$t+0]==47&&!(Zt[$t+4]>>5),Ot[0]=_t[0];Lt=0}if(L=L[0],wt.Ja=wt.Ja[0],wt.xa=wt.xa[0],c=c[0],Lt!=0)break;if(4294967286<wt.Ja)return 3;if(J==null||Tt||(J[0]=wt.xa?2:1),G=[G],St=[St],wt.xa){if(5>L){Lt=7;break}J=G,lt=St,Tt=q,s==null||5>L?s=0:5<=L&&s[c+0]==47&&!(s[c+4]>>5)?(_t=[0],Zt=[0],qt=[0],yt(Ot=new it,s,c,L),Ce(Ot,_t,Zt,qt)?(J!=null&&(J[0]=_t[0]),lt!=null&&(lt[0]=Zt[0]),Tt!=null&&(Tt[0]=qt[0]),s=1):s=0):s=0}else{if(10>L){Lt=7;break}J=St,s==null||10>L||!Ws(s,c+3,L-3)?s=0:(lt=s[c+0]|s[c+1]<<8|s[c+2]<<16,Tt=16383&(s[c+7]<<8|s[c+6]),s=16383&(s[c+9]<<8|s[c+8]),1&lt||3<(lt>>1&7)||!(lt>>4&1)||lt>>5>=wt.Ja||!Tt||!s?s=0:(G&&(G[0]=Tt),J&&(J[0]=s),s=1))}if(!s||(G=G[0],St=St[0],kt&&(ot[0]!=G||vt[0]!=St)))return 3;Q!=null&&(Q[0]=wt,Q.offset=c-Q.w,e(4294967286>c-Q.w),e(Q.offset==Q.ha-L));break}return Lt==0||Lt==7&&kt&&Q==null?(q!=null&&(q[0]|=wt.na!=null&&0<wt.na.length),F!=null&&(F[0]=G),O!=null&&(O[0]=St),0):Lt}function ps(s,c,L){var F=c.width,O=c.height,q=0,G=0,J=F,Q=O;if(c.Da=s!=null&&0<s.Da,c.Da&&(J=s.cd,Q=s.bd,q=s.v,G=s.j,11>L||(q&=-2,G&=-2),0>q||0>G||0>=J||0>=Q||q+J>F||G+Q>O))return 0;if(c.v=q,c.j=G,c.va=q+J,c.o=G+Q,c.U=J,c.T=Q,c.da=s!=null&&0<s.da,c.da){if(!K(J,Q,L=[s.ib],q=[s.hb]))return 0;c.ib=L[0],c.hb=q[0]}return c.ob=s!=null&&s.ob,c.Kb=s==null||!s.Sd,c.da&&(c.ob=c.ib<3*F/4&&c.hb<3*O/4,c.Kb=0),1}function gs(s){if(s==null)return 2;if(11>s.S){var c=s.f.RGBA;c.fb+=(s.height-1)*c.A,c.A=-c.A}else c=s.f.kb,s=s.height,c.O+=(s-1)*c.fa,c.fa=-c.fa,c.N+=(s-1>>1)*c.Ab,c.Ab=-c.Ab,c.W+=(s-1>>1)*c.Db,c.Db=-c.Db,c.F!=null&&(c.J+=(s-1)*c.lb,c.lb=-c.lb);return 0}function Hn(s,c,L,F){if(F==null||0>=s||0>=c)return 2;if(L!=null){if(L.Da){var O=L.cd,q=L.bd,G=-2&L.v,J=-2&L.j;if(0>G||0>J||0>=O||0>=q||G+O>s||J+q>c)return 2;s=O,c=q}if(L.da){if(!K(s,c,O=[L.ib],q=[L.hb]))return 2;s=O[0],c=q[0]}}F.width=s,F.height=c;t:{var Q=F.width,ot=F.height;if(s=F.S,0>=Q||0>=ot||!(s>=oa&&13>s))s=2;else{if(0>=F.Rd&&F.sd==null){G=q=O=c=0;var vt=(J=Q*Cl[s])*ot;if(11>s||(q=(ot+1)/2*(c=(Q+1)/2),s==12&&(G=(O=Q)*ot)),(ot=r(vt+2*q+G))==null){s=1;break t}F.sd=ot,11>s?((Q=F.f.RGBA).eb=ot,Q.fb=0,Q.A=J,Q.size=vt):((Q=F.f.kb).y=ot,Q.O=0,Q.fa=J,Q.Fd=vt,Q.f=ot,Q.N=0+vt,Q.Ab=c,Q.Cd=q,Q.ea=ot,Q.W=0+vt+q,Q.Db=c,Q.Ed=q,s==12&&(Q.F=ot,Q.J=0+vt+2*q),Q.Tc=G,Q.lb=O)}if(c=1,O=F.S,q=F.width,G=F.height,O>=oa&&13>O)if(11>O)s=F.f.RGBA,c&=(J=Math.abs(s.A))*(G-1)+q<=s.size,c&=J>=q*Cl[O],c&=s.eb!=null;else{s=F.f.kb,J=(q+1)/2,vt=(G+1)/2,Q=Math.abs(s.fa),ot=Math.abs(s.Ab);var kt=Math.abs(s.Db),lt=Math.abs(s.lb),wt=lt*(G-1)+q;c&=Q*(G-1)+q<=s.Fd,c&=ot*(vt-1)+J<=s.Cd,c=(c&=kt*(vt-1)+J<=s.Ed)&Q>=q&ot>=J&kt>=J,c&=s.y!=null,c&=s.f!=null,c&=s.ea!=null,O==12&&(c&=lt>=q,c&=wt<=s.Tc,c&=s.F!=null)}else c=0;s=c?0:2}}return s!=0||L!=null&&L.fd&&(s=gs(F)),s}var wr=64,Ti=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_i=24,zn=32,_n=8,Vn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(s){return s},j.Predictor2=function(s,c,L){return c[L+0]},j.Predictor3=function(s,c,L){return c[L+1]},j.Predictor4=function(s,c,L){return c[L-1]},j.Predictor5=function(s,c,L){return rt(rt(s,c[L+1]),c[L+0])},j.Predictor6=function(s,c,L){return rt(s,c[L-1])},j.Predictor7=function(s,c,L){return rt(s,c[L+0])},j.Predictor8=function(s,c,L){return rt(c[L-1],c[L+0])},j.Predictor9=function(s,c,L){return rt(c[L+0],c[L+1])},j.Predictor10=function(s,c,L){return rt(rt(s,c[L-1]),rt(c[L+0],c[L+1]))},j.Predictor11=function(s,c,L){var F=c[L+0];return 0>=Pt(F>>24&255,s>>24&255,(c=c[L-1])>>24&255)+Pt(F>>16&255,s>>16&255,c>>16&255)+Pt(F>>8&255,s>>8&255,c>>8&255)+Pt(255&F,255&s,255&c)?F:s},j.Predictor12=function(s,c,L){var F=c[L+0];return(Et((s>>24&255)+(F>>24&255)-((c=c[L-1])>>24&255))<<24|Et((s>>16&255)+(F>>16&255)-(c>>16&255))<<16|Et((s>>8&255)+(F>>8&255)-(c>>8&255))<<8|Et((255&s)+(255&F)-(255&c)))>>>0},j.Predictor13=function(s,c,L){var F=c[L-1];return(xt((s=rt(s,c[L+0]))>>24&255,F>>24&255)<<24|xt(s>>16&255,F>>16&255)<<16|xt(s>>8&255,F>>8&255)<<8|xt(255&s,255&F))>>>0};var ms=j.PredictorAdd0;j.PredictorAdd1=jt,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var Gr=j.PredictorAdd2;Mt("ColorIndexInverseTransform","MapARGB","32b",function(s){return s>>8&255},function(s){return s}),Mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(s){return s},function(s){return s>>8&255});var Ve,ra=j.ColorIndexInverseTransform,fn=j.MapARGB,pn=j.VP8LColorIndexInverseTransformAlpha,bs=j.MapAlpha,vs=j.VP8LPredictorsAdd=[];vs.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var ys,ws,Gn,Wn,Xn,Ar,$n,xr,Gi,gn,ke,Fe,Ge,ii,Fn,As,Wr,sa,tl,el,il,nl,rl,sl,xs,al,ol,ll,hl=r(511),cl=r(2041),ul=r(225),dl=r(767),fl=0,to=cl,aa=ul,Fi=dl,Wi=hl,oa=0,la=1,pl=2,ha=3,ca=4,eo=5,gl=6,io=7,no=8,ua=9,ro=10,Vc=[2,3,7],Gc=[3,3,11],ml=[280,256,256,256,40],Wc=[0,1,1,1,0],Xc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$c=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jc=8,so=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ao=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ss=null,Kc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Zc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],eu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],iu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yn=[],tn=[],In=[],nu=1,vl=2,Jn=[],Xi=[];Pn("UpsampleRgbLinePair",qn,3),Pn("UpsampleBgrLinePair",ui,3),Pn("UpsampleRgbaLinePair",Si,4),Pn("UpsampleBgraLinePair",fs,4),Pn("UpsampleArgbLinePair",ds,4),Pn("UpsampleRgba4444LinePair",vr,2),Pn("UpsampleRgb565LinePair",br,2);var ru=j.UpsampleRgbLinePair,su=j.UpsampleBgrLinePair,yl=j.UpsampleRgbaLinePair,wl=j.UpsampleBgraLinePair,Al=j.UpsampleArgbLinePair,xl=j.UpsampleRgba4444LinePair,au=j.UpsampleRgb565LinePair,da=16,fa=1<<da-1,Ls=-227,oo=482,ou=6,Sl=0,lu=r(256),hu=r(256),cu=r(256),uu=r(256),du=r(oo-Ls),fu=r(oo-Ls);Tn("YuvToRgbRow",qn,3),Tn("YuvToBgrRow",ui,3),Tn("YuvToRgbaRow",Si,4),Tn("YuvToBgraRow",fs,4),Tn("YuvToArgbRow",ds,4),Tn("YuvToRgba4444Row",vr,2),Tn("YuvToRgb565Row",br,2);var Ll=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pa=[0,2,8],pu=[8,7,6,4,4,2,2,2,1,1,1,1],gu=1;this.WebPDecodeRGBA=function(s,c,L,F,O){var q=la,G=new Ft,J=new ae;G.ba=J,J.S=q,J.width=[J.width],J.height=[J.height];var Q=J.width,ot=J.height,vt=new te;if(vt==null||s==null)var kt=2;else e(vt!=null),kt=yr(s,c,L,vt.width,vt.height,vt.Pd,vt.Qd,vt.format,null);if(kt!=0?Q=0:(Q!=null&&(Q[0]=vt.width[0]),ot!=null&&(ot[0]=vt.height[0]),Q=1),Q){J.width=J.width[0],J.height=J.height[0],F!=null&&(F[0]=J.width),O!=null&&(O[0]=J.height);t:{if(F=new Br,(O=new Dt).data=s,O.w=c,O.ha=L,O.kd=1,c=[0],e(O!=null),((s=yr(O.data,O.w,O.ha,null,null,null,c,null,O))==0||s==7)&&c[0]&&(s=4),(c=s)==0){if(e(G!=null),F.data=O.data,F.w=O.w+O.offset,F.ha=O.ha-O.offset,F.put=ne,F.ac=xi,F.bc=gi,F.ma=G,O.xa){if((s=lr())==null){G=1;break t}if((function(lt,wt){var St=[0],Tt=[0],Lt=[0];e:for(;;){if(lt==null)return 0;if(wt==null)return lt.a=2,0;if(lt.l=wt,lt.a=0,yt(lt.m,wt.data,wt.w,wt.ha),!Ce(lt.m,St,Tt,Lt)){lt.a=3;break e}if(lt.xb=vl,wt.width=St[0],wt.height=Tt[0],!hn(St[0],Tt[0],1,lt,null))break e;return 1}return e(lt.a!=0),0})(s,F)){if(F=(c=Hn(F.width,F.height,G.Oa,G.ba))==0){e:{F=s;i:for(;;){if(F==null){F=0;break e}if(e(F.s.yc!=null),e(F.s.Ya!=null),e(0<F.s.Wb),e((L=F.l)!=null),e((O=L.ma)!=null),F.xb!=0){if(F.ca=O.ba,F.tb=O.tb,e(F.ca!=null),!ps(O.Oa,L,ha)){F.a=2;break i}if(!hr(F,L.width)||L.da)break i;if((L.da||Gt(F.ca.S))&&Qi(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&Qi()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!k(F.s.vb,F.s.Wa.Xa)){F.a=1;break i}F.xb=0}if(!Ki(F,F.V,F.Ba,F.c,F.i,L.o,jn))break i;O.Dc=F.Ma,F=1;break e}e(F.a!=0),F=0}F=!F}F&&(c=s.a)}else c=s.a}else{if((s=new ja)==null){G=1;break t}if(s.Fa=O.na,s.P=O.P,s.qc=O.Sa,un(s,F)){if((c=Hn(F.width,F.height,G.Oa,G.ba))==0){if(s.Aa=0,L=G.Oa,e((O=s)!=null),L!=null){if(0<(Q=0>(Q=L.Md)?0:100<Q?255:255*Q/100)){for(ot=vt=0;4>ot;++ot)12>(kt=O.pb[ot]).lc&&(kt.ia=Q*pu[0>kt.lc?0:kt.lc]>>3),vt|=kt.ia;vt&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=L.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(lt,wt){if(lt==null)return 0;if(wt==null)return Ke(lt,2,"NULL VP8Io parameter in VP8Decode().");if(!lt.cb&&!un(lt,wt))return 0;if(e(lt.cb),wt.ac==null||wt.ac(wt)){wt.ob&&(lt.L=0);var St=pa[lt.L];if(lt.L==2?(lt.yb=0,lt.zb=0):(lt.yb=wt.v-St>>4,lt.zb=wt.j-St>>4,0>lt.yb&&(lt.yb=0),0>lt.zb&&(lt.zb=0)),lt.Va=wt.o+15+St>>4,lt.Hb=wt.va+15+St>>4,lt.Hb>lt.za&&(lt.Hb=lt.za),lt.Va>lt.Ub&&(lt.Va=lt.Ub),0<lt.L){var Tt=lt.ed;for(St=0;4>St;++St){var Lt;if(lt.Qa.Cb){var _t=lt.Qa.Lb[St];lt.Qa.Fb||(_t+=Tt.Tb)}else _t=Tt.Tb;for(Lt=0;1>=Lt;++Lt){var It=lt.gd[St][Lt],qt=_t;if(Tt.Pc&&(qt+=Tt.vd[0],Lt&&(qt+=Tt.od[0])),0<(qt=0>qt?0:63<qt?63:qt)){var Ot=qt;0<Tt.wb&&(Ot=4<Tt.wb?Ot>>2:Ot>>1)>9-Tt.wb&&(Ot=9-Tt.wb),1>Ot&&(Ot=1),It.dd=Ot,It.tc=2*qt+Ot,It.ld=40<=qt?2:15<=qt?1:0}else It.tc=0;It.La=Lt}}}St=0}else Ke(lt,6,"Frame setup failed"),St=lt.a;if(St=St==0){if(St){lt.$c=0,0<lt.Aa||(lt.Ic=gu);e:{St=lt.Ic,Tt=4*(Ot=lt.za);var re=32*Ot,$t=Ot+1,me=0<lt.L?Ot*(0<lt.Aa?2:1):0,Zt=(lt.Aa==2?2:1)*Ot;if((It=Tt+832+(Lt=3*(16*St+pa[lt.L])/2*re)+(_t=lt.Fa!=null&&0<lt.Fa.length?lt.Kc.c*lt.Kc.i:0))!=It)St=0;else{if(It>lt.Vb){if(lt.Vb=0,lt.Ec=r(It),lt.Fc=0,lt.Ec==null){St=Ke(lt,1,"no memory during frame initialization.");break e}lt.Vb=It}It=lt.Ec,qt=lt.Fc,lt.Ac=It,lt.Bc=qt,qt+=Tt,lt.Gd=b(re,Vs),lt.Hd=0,lt.rb=b($t+1,es),lt.sb=1,lt.wa=me?b(me,Hi):null,lt.Y=0,lt.D.Nb=0,lt.D.wa=lt.wa,lt.D.Y=lt.Y,0<lt.Aa&&(lt.D.Y+=Ot),e(!0),lt.oc=It,lt.pc=qt,qt+=832,lt.ya=b(Zt,is),lt.aa=0,lt.D.ya=lt.ya,lt.D.aa=lt.aa,lt.Aa==2&&(lt.D.aa+=Ot),lt.R=16*Ot,lt.B=8*Ot,Ot=(re=pa[lt.L])*lt.R,re=re/2*lt.B,lt.sa=It,lt.ta=qt+Ot,lt.qa=lt.sa,lt.ra=lt.ta+16*St*lt.R+re,lt.Ha=lt.qa,lt.Ia=lt.ra+8*St*lt.B+re,lt.$c=0,qt+=Lt,lt.mb=_t?It:null,lt.nb=_t?qt:null,e(qt+_t<=lt.Fc+lt.Vb),Xs(lt),a(lt.Ac,lt.Bc,0,Tt),St=1}}if(St){if(wt.ka=0,wt.y=lt.sa,wt.O=lt.ta,wt.f=lt.qa,wt.N=lt.ra,wt.ea=lt.Ha,wt.Vd=lt.Ia,wt.fa=lt.R,wt.Rc=lt.B,wt.F=null,wt.J=0,!fl){for(St=-255;255>=St;++St)hl[255+St]=0>St?-St:St;for(St=-1020;1020>=St;++St)cl[1020+St]=-128>St?-128:127<St?127:St;for(St=-112;112>=St;++St)ul[112+St]=-16>St?-16:15<St?15:St;for(St=-255;510>=St;++St)dl[255+St]=0>St?0:255<St?255:St;fl=1}$n=Ur,xr=qa,gn=dn,ke=Ys,Fe=Js,Gi=Ua,Ge=ea,ii=pr,Fn=D,As=ht,Wr=ia,sa=A,tl=mt,el=At,il=fr,nl=cs,rl=Qs,sl=ta,tn[0]=Ya,tn[1]=Ha,tn[2]=Xa,tn[3]=$a,tn[4]=xn,tn[5]=Ja,tn[6]=Sn,tn[7]=Ka,tn[8]=ss,tn[9]=qr,Yn[0]=Ga,Yn[1]=Va,Yn[2]=ns,Yn[3]=Ks,Yn[4]=ur,Yn[5]=rs,Yn[6]=Wa,In[0]=Qa,In[1]=za,In[2]=dr,In[3]=Za,In[4]=os,In[5]=as,In[6]=Zs,St=1}else St=0}St&&(St=(function(we,ni){for(we.M=0;we.M<we.Va;++we.M){var be,Qt=we.Jc[we.M&we.Xb],zt=we.m,We=we;for(be=0;be<We.za;++be){var fe=zt,Ae=We,Oe=Ae.Ac,di=Ae.Bc+4*be,Li=Ae.zc,qe=Ae.ya[Ae.aa+be];if(Ae.Qa.Bb?qe.$b=u(fe,Ae.Pa.jb[0])?2+u(fe,Ae.Pa.jb[2]):u(fe,Ae.Pa.jb[1]):qe.$b=0,Ae.kc&&(qe.Ad=u(fe,Ae.Bd)),qe.Za=!u(fe,145)+0,qe.Za){var bi=qe.Ob,Ci=0;for(Ae=0;4>Ae;++Ae){var ri,Se=Li[0+Ae];for(ri=0;4>ri;++ri){Se=tu[Oe[di+ri]][Se];for(var Ne=bl[u(fe,Se[0])];0<Ne;)Ne=bl[2*Ne+u(fe,Se[Ne])];Se=-Ne,Oe[di+ri]=Se}i(bi,Ci,Oe,di,4),Ci+=4,Li[0+Ae]=Se}}else Se=u(fe,156)?u(fe,128)?1:3:u(fe,163)?2:0,qe.Ob[0]=Se,a(Oe,di,Se,4),a(Li,0,Se,4);qe.Dd=u(fe,142)?u(fe,114)?u(fe,183)?1:3:2:0}if(We.m.Ka)return Ke(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(We=Qt,fe=(zt=we).rb[zt.sb-1],Oe=zt.rb[zt.sb+zt.ja],be=zt.ya[zt.aa+zt.ja],di=zt.kc?be.Ad:0)fe.la=Oe.la=0,be.Za||(fe.Na=Oe.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var He,Pe;if(fe=Oe,Oe=We,di=zt.Pa.Xc,Li=zt.ya[zt.aa+zt.ja],qe=zt.pb[Li.$b],Ae=Li.ad,bi=0,Ci=zt.rb[zt.sb-1],Se=ri=0,a(Ae,bi,0,384),Li.Za)var fi=0,en=di[3];else{Ne=r(16);var Xe=fe.Na+Ci.Na;if(Xe=Ss(Oe,di[1],Xe,qe.Eb,0,Ne,0),fe.Na=Ci.Na=(0<Xe)+0,1<Xe)$n(Ne,0,Ae,bi);else{var Ei=Ne[0]+3>>3;for(Ne=0;256>Ne;Ne+=16)Ae[bi+Ne]=Ei}fi=1,en=di[0]}var Ie=15&fe.la,si=15&Ci.la;for(Ne=0;4>Ne;++Ne){var Ii=1&si;for(Ei=Pe=0;4>Ei;++Ei)Ie=Ie>>1|(Ii=(Xe=Ss(Oe,en,Xe=Ii+(1&Ie),qe.Sc,fi,Ae,bi))>fi)<<7,Pe=Pe<<2|(3<Xe?3:1<Xe?2:Ae[bi+0]!=0),bi+=16;Ie>>=4,si=si>>1|Ii<<7,ri=(ri<<8|Pe)>>>0}for(en=Ie,fi=si>>4,He=0;4>He;He+=2){for(Pe=0,Ie=fe.la>>4+He,si=Ci.la>>4+He,Ne=0;2>Ne;++Ne){for(Ii=1&si,Ei=0;2>Ei;++Ei)Xe=Ii+(1&Ie),Ie=Ie>>1|(Ii=0<(Xe=Ss(Oe,di[2],Xe,qe.Qc,0,Ae,bi)))<<3,Pe=Pe<<2|(3<Xe?3:1<Xe?2:Ae[bi+0]!=0),bi+=16;Ie>>=2,si=si>>1|Ii<<5}Se|=Pe<<4*He,en|=Ie<<4<<He,fi|=(240&si)<<He}fe.la=en,Ci.la=fi,Li.Hc=ri,Li.Gc=Se,Li.ia=43690&Se?0:qe.ia,di=!(ri|Se)}if(0<zt.L&&(zt.wa[zt.Y+zt.ja]=zt.gd[be.$b][be.Za],zt.wa[zt.Y+zt.ja].La|=!di),We.Ka)return Ke(we,7,"Premature end-of-file encountered.")}if(Xs(we),zt=ni,We=1,be=(Qt=we).D,fe=0<Qt.L&&Qt.M>=Qt.zb&&Qt.M<=Qt.Va,Qt.Aa==0)e:{if(be.M=Qt.M,be.uc=fe,Vi(Qt,be),We=1,be=(Pe=Qt.D).Nb,fe=(Se=pa[Qt.L])*Qt.R,Oe=Se/2*Qt.B,Ne=16*be*Qt.R,Ei=8*be*Qt.B,di=Qt.sa,Li=Qt.ta-fe+Ne,qe=Qt.qa,Ae=Qt.ra-Oe+Ei,bi=Qt.Ha,Ci=Qt.Ia-Oe+Ei,si=(Ie=Pe.M)==0,ri=Ie>=Qt.Va-1,Qt.Aa==2&&Vi(Qt,Pe),Pe.uc)for(Ii=(Xe=Qt).D.M,e(Xe.D.uc),Pe=Xe.yb;Pe<Xe.Hb;++Pe){fi=Pe,en=Ii;var ki=(Ri=(pi=Xe).D).Nb;He=pi.R;var Ri=Ri.wa[Ri.Y+fi],Mi=pi.sa,Ni=pi.ta+16*ki*He+16*fi,Di=Ri.dd,De=Ri.tc;if(De!=0)if(e(3<=De),pi.L==1)0<fi&&nl(Mi,Ni,He,De+4),Ri.La&&sl(Mi,Ni,He,De),0<en&&il(Mi,Ni,He,De+4),Ri.La&&rl(Mi,Ni,He,De);else{var Oi=pi.B,nn=pi.qa,Sr=pi.ra+8*ki*Oi+8*fi,Rn=pi.Ha,pi=pi.Ia+8*ki*Oi+8*fi;ki=Ri.ld,0<fi&&(ii(Mi,Ni,He,De+4,Di,ki),As(nn,Sr,Rn,pi,Oi,De+4,Di,ki)),Ri.La&&(sa(Mi,Ni,He,De,Di,ki),el(nn,Sr,Rn,pi,Oi,De,Di,ki)),0<en&&(Ge(Mi,Ni,He,De+4,Di,ki),Fn(nn,Sr,Rn,pi,Oi,De+4,Di,ki)),Ri.La&&(Wr(Mi,Ni,He,De,Di,ki),tl(nn,Sr,Rn,pi,Oi,De,Di,ki))}}if(Qt.ia&&alert("todo:DitherRow"),zt.put!=null){if(Pe=16*Ie,Ie=16*(Ie+1),si?(zt.y=Qt.sa,zt.O=Qt.ta+Ne,zt.f=Qt.qa,zt.N=Qt.ra+Ei,zt.ea=Qt.Ha,zt.W=Qt.Ia+Ei):(Pe-=Se,zt.y=di,zt.O=Li,zt.f=qe,zt.N=Ae,zt.ea=bi,zt.W=Ci),ri||(Ie-=Se),Ie>zt.o&&(Ie=zt.o),zt.F=null,zt.J=null,Qt.Fa!=null&&0<Qt.Fa.length&&Pe<Ie&&(zt.J=Me(Qt,zt,Pe,Ie-Pe),zt.F=Qt.mb,zt.F==null&&zt.F.length==0)){We=Ke(Qt,3,"Could not decode alpha data.");break e}Pe<zt.j&&(Se=zt.j-Pe,Pe=zt.j,e(!(1&Se)),zt.O+=Qt.R*Se,zt.N+=Qt.B*(Se>>1),zt.W+=Qt.B*(Se>>1),zt.F!=null&&(zt.J+=zt.width*Se)),Pe<Ie&&(zt.O+=zt.v,zt.N+=zt.v>>1,zt.W+=zt.v>>1,zt.F!=null&&(zt.J+=zt.v),zt.ka=Pe-zt.j,zt.U=zt.va-zt.v,zt.T=Ie-Pe,We=zt.put(zt))}be+1!=Qt.Ic||ri||(i(Qt.sa,Qt.ta-fe,di,Li+16*Qt.R,fe),i(Qt.qa,Qt.ra-Oe,qe,Ae+8*Qt.B,Oe),i(Qt.Ha,Qt.Ia-Oe,bi,Ci+8*Qt.B,Oe))}if(!We)return Ke(we,6,"Output aborted.")}return 1})(lt,wt)),wt.bc!=null&&wt.bc(wt),St&=1}return St?(lt.cb=0,St):0})(s,F)||(c=s.a)}}else c=s.a}c==0&&G.Oa!=null&&G.Oa.fd&&(c=gs(G.ba))}G=c}q=G!=0?null:11>q?J.f.RGBA.eb:J.f.kb.y}else q=null;return q};var Cl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(j,at){for(var M="",X=0;X<4;X++)M+=String.fromCharCode(j[at++]);return M}function g(j,at){return j[at+0]|j[at+1]<<8}function y(j,at){return(j[at+0]|j[at+1]<<8|j[at+2]<<16)>>>0}function x(j,at){return(j[at+0]|j[at+1]<<8|j[at+2]<<16|j[at+3]<<24)>>>0}new p;var h=[0],v=[0],S=[],o=new p,m=n,C=(function(j,at){var M={},X=0,ut=!1,tt=0,Y=0;if(M.frames=[],!(function(B,it){for(var st=0;st<4;st++)if(B[it+st]!="RIFF".charCodeAt(st))return!0;return!1})(j,at)){for(x(j,at+=4),at+=8;at<j.length;){var nt=d(j,at),bt=x(j,at+=4);at+=4;var gt=bt+(1&bt);switch(nt){case"VP8 ":case"VP8L":M.frames[X]===void 0&&(M.frames[X]={}),(Ct=M.frames[X]).src_off=ut?Y:at-8,Ct.src_size=tt+bt+8,X++,ut&&(ut=!1,tt=0,Y=0);break;case"VP8X":(Ct=M.header={}).feature_flags=j[at];var yt=at+4;Ct.canvas_width=1+y(j,yt),yt+=3,Ct.canvas_height=1+y(j,yt),yt+=3;break;case"ALPH":ut=!0,tt=gt+8,Y=at-8;break;case"ANIM":(Ct=M.header).bgcolor=x(j,at),yt=at+4,Ct.loop_count=g(j,yt),yt+=2;break;case"ANMF":var Nt,Ct;(Ct=M.frames[X]={}).offset_x=2*y(j,at),at+=3,Ct.offset_y=2*y(j,at),at+=3,Ct.width=1+y(j,at),at+=3,Ct.height=1+y(j,at),at+=3,Ct.duration=y(j,at),at+=3,Nt=j[at++],Ct.dispose=1&Nt,Ct.blend=Nt>>1&1}nt!="ANMF"&&(at+=gt)}return M}})(m,0);C.response=m,C.rgbaoutput=!0,C.dataurl=!1;var _=C.header?C.header:null,P=C.frames?C.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],v=[_.canvas_width];for(var U=0;U<P.length&&P[U].blend!=0;U++);}var H=P[0],V=o.WebPDecodeRGBA(m,H.src_off,H.src_size,v,h);H.rgba=V,H.imgwidth=v[0],H.imgheight=h[0];for(var $=0;$<v[0]*h[0]*4;$++)S[$]=V[$];return this.width=v,this.height=h,this.data=S,this}(function(n){var e,t,i,a,r,b,l,p,d,g=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new p,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new b,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new b,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,b=this.internal.Point,l=this.internal.Rectangle,p=this.internal.Matrix,d=new g}]);var y=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var it=B;Object.defineProperty(this,"pdf",{get:function(){return it}});var st=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return st},set:function(k){st=!!k}});var ft=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ft},set:function(k){ft=!!k}});var dt=0;Object.defineProperty(this,"posX",{get:function(){return dt},set:function(k){isNaN(k)||(dt=k)}});var T=0;Object.defineProperty(this,"posY",{get:function(){return T},set:function(k){isNaN(k)||(T=k)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(k){var z;typeof k=="number"?z=[k,k,k,k]:((z=new Array(4))[0]=k[0],z[1]=k.length>=2?k[1]:z[0],z[2]=k.length>=3?k[2]:z[0],z[3]=k.length>=4?k[3]:z[1]),d.margin=z}});var E=!1;Object.defineProperty(this,"autoPaging",{get:function(){return E},set:function(k){E=k}});var f=0;Object.defineProperty(this,"lastBreak",{get:function(){return f},set:function(k){f=k}});var u=[];Object.defineProperty(this,"pageBreaks",{get:function(){return u},set:function(k){u=k}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(k){k instanceof g&&(d=k)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(k){d.path=k}});var w=[];Object.defineProperty(this,"ctxStack",{get:function(){return w},set:function(k){w=k}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(k){var z;z=x(k),this.ctx.fillStyle=z.style,this.ctx.isFillTransparent=z.a===0,this.ctx.fillOpacity=z.a,this.pdf.setFillColor(z.r,z.g,z.b,{a:z.a}),this.pdf.setTextColor(z.r,z.g,z.b,{a:z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(k){var z=x(k);this.ctx.strokeStyle=z.style,this.ctx.isStrokeTransparent=z.a===0,this.ctx.strokeOpacity=z.a,z.a===0?this.pdf.setDrawColor(255,255,255):(z.a,this.pdf.setDrawColor(z.r,z.g,z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(k){["butt","round","square"].indexOf(k)!==-1&&(this.ctx.lineCap=k,this.pdf.setLineCap(k))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(k){isNaN(k)||(this.ctx.lineWidth=k,this.pdf.setLineWidth(k))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(k){["bevel","round","miter"].indexOf(k)!==-1&&(this.ctx.lineJoin=k,this.pdf.setLineJoin(k))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(k){isNaN(k)||(this.ctx.miterLimit=k,this.pdf.setMiterLimit(k))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(k){this.ctx.textBaseline=k}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(k){["right","end","center","left","start"].indexOf(k)!==-1&&(this.ctx.textAlign=k)}});var N=null,I=null,R=null;Object.defineProperty(this,"fontFaces",{get:function(){return R},set:function(k){N=null,I=null,R=k}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(k){var z;if(this.ctx.font=k,(z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(k))!==null){var et=z[1];z[2];var K=z[3],Z=z[4];z[5];var pt=z[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Z)[2];Z=Math.floor(ct==="px"?parseFloat(Z)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(Z)*this.pdf.getFontSize():parseFloat(Z)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Z);var W=(function(Mt){var se,Wt,Jt=[],Ht=Mt.trim();if(Ht==="")return Mo;if(Ht in Dh)return[Dh[Ht]];for(;Ht!=="";){switch(Wt=null,se=(Ht=Bh(Ht)).charAt(0)){case'"':case"'":Wt=Zf(Ht.substring(1),se);break;default:Wt=Qf(Ht)}if(Wt===null||(Jt.push(Wt[0]),(Ht=Bh(Wt[1]))!==""&&Ht.charAt(0)!==","))return Mo;Ht=Ht.replace(/^,/,"")}return Jt})(pt);if(this.fontFaces){var rt=(function(Mt,se){var Wt=Mt.getFontList(),Jt=JSON.stringify(Wt);if(N===null||I!==Jt){var Ht=(function(ve){var Vt=[];return Object.keys(ve).forEach(function(pe){ve[pe].forEach(function(Gt){var Xt=null;switch(Gt){case"bold":Xt={family:pe,weight:"bold"};break;case"italic":Xt={family:pe,style:"italic"};break;case"bolditalic":Xt={family:pe,weight:"bold",style:"italic"};break;case"":case"normal":Xt={family:pe}}Xt!==null&&(Xt.ref={name:pe,style:Gt},Vt.push(Xt))})}),Vt})(Wt);N=(function(ve){for(var Vt={},pe=0;pe<ve.length;++pe){var Gt=Ro(ve[pe]),Xt=Gt.family,le=Gt.stretch,ae=Gt.style,te=Gt.weight;Vt[Xt]=Vt[Xt]||{},Vt[Xt][le]=Vt[Xt][le]||{},Vt[Xt][le][ae]=Vt[Xt][le][ae]||{},Vt[Xt][le][ae][te]=Gt}return Vt})(Ht.concat(se)),I=Jt}return N})(this.pdf,this.fontFaces),Et=W.map(function(Mt){return{family:Mt,stretch:"normal",weight:K,style:et}}),xt=(function(Mt,se,Wt){for(var Jt=(Wt=Wt||{}).defaultFontFamily||"times",Ht=Object.assign({},Kf,Wt.genericFontFamilies||{}),ve=null,Vt=null,pe=0;pe<se.length;++pe)if(Ht[(ve=Ro(se[pe])).family]&&(ve.family=Ht[ve.family]),Mt.hasOwnProperty(ve.family)){Vt=Mt[ve.family];break}if(!(Vt=Vt||Mt[Jt]))throw new Error("Could not find a font-family for the rule '"+Oh(ve)+"' and default family '"+Jt+"'.");if(Vt=(function(Gt,Xt){if(Xt[Gt])return Xt[Gt];var le=$o[Gt],ae=le<=$o.normal?-1:1,te=Mh(Xt,jc,le,ae);if(!te)throw new Error("Could not find a matching font-stretch value for "+Gt);return te})(ve.stretch,Vt),Vt=(function(Gt,Xt){if(Xt[Gt])return Xt[Gt];for(var le=Bc[Gt],ae=0;ae<le.length;++ae)if(Xt[le[ae]])return Xt[le[ae]];throw new Error("Could not find a matching font-style for "+Gt)})(ve.style,Vt),!(Vt=(function(Gt,Xt){if(Xt[Gt])return Xt[Gt];if(Gt===400&&Xt[500])return Xt[500];if(Gt===500&&Xt[400])return Xt[400];var le=Jf[Gt],ae=Mh(Xt,Uc,le,Gt<400?-1:1);if(!ae)throw new Error("Could not find a matching font-weight for value "+Gt);return ae})(ve.weight,Vt)))throw new Error("Failed to resolve a font for the rule '"+Oh(ve)+"'.");return Vt})(rt,Et);this.pdf.setFont(xt.ref.name,xt.ref.style)}else{var Pt="";(K==="bold"||parseInt(K,10)>=700||et==="bold")&&(Pt="bold"),et==="italic"&&(Pt+="italic"),Pt.length===0&&(Pt="normal");for(var jt="",Bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Rt=0;Rt<W.length;Rt++){if(this.pdf.internal.getFont(W[Rt],Pt,{noFallback:!0,disableWarning:!0})!==void 0){jt=W[Rt];break}if(Pt==="bolditalic"&&this.pdf.internal.getFont(W[Rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)jt=W[Rt],Pt="bold";else if(this.pdf.internal.getFont(W[Rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){jt=W[Rt],Pt="normal";break}}if(jt===""){for(var Ut=0;Ut<W.length;Ut++)if(Bt[W[Ut]]){jt=Bt[W[Ut]];break}}jt=jt===""?"Times":jt,this.pdf.setFont(jt,Pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(k){this.ctx.globalCompositeOperation=k}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(k){this.ctx.globalAlpha=k}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(k){this.ctx.lineDashOffset=k,Ct.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(k){this.ctx.lineDash=k,Ct.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(k){this.ctx.ignoreClearRect=!!k}})};y.prototype.setLineDash=function(B){this.lineDash=B},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){P.call(this,"fill",!1)},y.prototype.stroke=function(){P.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(B,it){if(isNaN(B)||isNaN(it))throw Re.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var st=this.ctx.transform.applyToPoint(new b(B,it));this.path.push({type:"mt",x:st.x,y:st.y}),this.ctx.lastPoint=new b(B,it)},y.prototype.closePath=function(){var B=new b(0,0),it=0;for(it=this.path.length-1;it!==-1;it--)if(this.path[it].type==="begin"&&Te(this.path[it+1])==="object"&&typeof this.path[it+1].x=="number"){B=new b(this.path[it+1].x,this.path[it+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new b(B.x,B.y)},y.prototype.lineTo=function(B,it){if(isNaN(B)||isNaN(it))throw Re.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var st=this.ctx.transform.applyToPoint(new b(B,it));this.path.push({type:"lt",x:st.x,y:st.y}),this.ctx.lastPoint=new b(st.x,st.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},y.prototype.quadraticCurveTo=function(B,it,st,ft){if(isNaN(st)||isNaN(ft)||isNaN(B)||isNaN(it))throw Re.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var dt=this.ctx.transform.applyToPoint(new b(st,ft)),T=this.ctx.transform.applyToPoint(new b(B,it));this.path.push({type:"qct",x1:T.x,y1:T.y,x:dt.x,y:dt.y}),this.ctx.lastPoint=new b(dt.x,dt.y)},y.prototype.bezierCurveTo=function(B,it,st,ft,dt,T){if(isNaN(dt)||isNaN(T)||isNaN(B)||isNaN(it)||isNaN(st)||isNaN(ft))throw Re.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var E=this.ctx.transform.applyToPoint(new b(dt,T)),f=this.ctx.transform.applyToPoint(new b(B,it)),u=this.ctx.transform.applyToPoint(new b(st,ft));this.path.push({type:"bct",x1:f.x,y1:f.y,x2:u.x,y2:u.y,x:E.x,y:E.y}),this.ctx.lastPoint=new b(E.x,E.y)},y.prototype.arc=function(B,it,st,ft,dt,T){if(isNaN(B)||isNaN(it)||isNaN(st)||isNaN(ft)||isNaN(dt))throw Re.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(T=!!T,!this.ctx.transform.isIdentity){var E=this.ctx.transform.applyToPoint(new b(B,it));B=E.x,it=E.y;var f=this.ctx.transform.applyToPoint(new b(0,st)),u=this.ctx.transform.applyToPoint(new b(0,0));st=Math.sqrt(Math.pow(f.x-u.x,2)+Math.pow(f.y-u.y,2))}Math.abs(dt-ft)>=2*Math.PI&&(ft=0,dt=2*Math.PI),this.path.push({type:"arc",x:B,y:it,radius:st,startAngle:ft,endAngle:dt,counterclockwise:T})},y.prototype.arcTo=function(B,it,st,ft,dt){throw new Error("arcTo not implemented.")},y.prototype.rect=function(B,it,st,ft){if(isNaN(B)||isNaN(it)||isNaN(st)||isNaN(ft))throw Re.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,it),this.lineTo(B+st,it),this.lineTo(B+st,it+ft),this.lineTo(B,it+ft),this.lineTo(B,it),this.lineTo(B+st,it),this.lineTo(B,it)},y.prototype.fillRect=function(B,it,st,ft){if(isNaN(B)||isNaN(it)||isNaN(st)||isNaN(ft))throw Re.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var dt={};this.lineCap!=="butt"&&(dt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(dt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,it,st,ft),this.fill(),dt.hasOwnProperty("lineCap")&&(this.lineCap=dt.lineCap),dt.hasOwnProperty("lineJoin")&&(this.lineJoin=dt.lineJoin)}},y.prototype.strokeRect=function(B,it,st,ft){if(isNaN(B)||isNaN(it)||isNaN(st)||isNaN(ft))throw Re.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(B,it,st,ft),this.stroke())},y.prototype.clearRect=function(B,it,st,ft){if(isNaN(B)||isNaN(it)||isNaN(st)||isNaN(ft))throw Re.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,it,st,ft))},y.prototype.save=function(B){B=typeof B!="boolean"||B;for(var it=this.pdf.internal.getCurrentPageInfo().pageNumber,st=0;st<this.pdf.internal.getNumberOfPages();st++)this.pdf.setPage(st+1),this.pdf.internal.out("q");if(this.pdf.setPage(it),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ft=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ft}},y.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var it=this.pdf.internal.getCurrentPageInfo().pageNumber,st=0;st<this.pdf.internal.getNumberOfPages();st++)this.pdf.setPage(st+1),this.pdf.internal.out("Q");this.pdf.setPage(it),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(B){var it,st,ft,dt;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))it=0,st=0,ft=0,dt=0;else{var T=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(T!==null)it=parseInt(T[1]),st=parseInt(T[2]),ft=parseInt(T[3]),dt=1;else if((T=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)it=parseInt(T[1]),st=parseInt(T[2]),ft=parseInt(T[3]),dt=parseFloat(T[4]);else{if(dt=1,typeof B=="string"&&B.charAt(0)!=="#"){var E=new _c(B);B=E.ok?E.toHex():"#000000"}B.length===4?(it=B.substring(1,2),it+=it,st=B.substring(2,3),st+=st,ft=B.substring(3,4),ft+=ft):(it=B.substring(1,3),st=B.substring(3,5),ft=B.substring(5,7)),it=parseInt(it,16),st=parseInt(st,16),ft=parseInt(ft,16)}}return{r:it,g:st,b:ft,a:dt,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(B,it,st,ft){if(isNaN(it)||isNaN(st)||typeof B!="string")throw Re.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ft=isNaN(ft)?void 0:ft,!h.call(this)){var dt=gt(this.ctx.transform.rotation),T=this.ctx.transform.scaleX;X.call(this,{text:B,x:it,y:st,scale:T,angle:dt,align:this.textAlign,maxWidth:ft})}},y.prototype.strokeText=function(B,it,st,ft){if(isNaN(it)||isNaN(st)||typeof B!="string")throw Re.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ft=isNaN(ft)?void 0:ft;var dt=gt(this.ctx.transform.rotation),T=this.ctx.transform.scaleX;X.call(this,{text:B,x:it,y:st,scale:T,renderingMode:"stroke",angle:dt,align:this.textAlign,maxWidth:ft})}},y.prototype.measureText=function(B){if(typeof B!="string")throw Re.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var it=this.pdf,st=this.pdf.internal.scaleFactor,ft=it.internal.getFontSize(),dt=it.getStringUnitWidth(B)*ft/it.internal.scaleFactor;return new function(T){var E=(T=T||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return E}}),this}({width:dt*=Math.round(96*st/72*1e4)/1e4})},y.prototype.scale=function(B,it){if(isNaN(B)||isNaN(it))throw Re.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var st=new p(B,0,0,it,0,0);this.ctx.transform=this.ctx.transform.multiply(st)},y.prototype.rotate=function(B){if(isNaN(B))throw Re.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var it=new p(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(it)},y.prototype.translate=function(B,it){if(isNaN(B)||isNaN(it))throw Re.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var st=new p(1,0,0,1,B,it);this.ctx.transform=this.ctx.transform.multiply(st)},y.prototype.transform=function(B,it,st,ft,dt,T){if(isNaN(B)||isNaN(it)||isNaN(st)||isNaN(ft)||isNaN(dt)||isNaN(T))throw Re.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var E=new p(B,it,st,ft,dt,T);this.ctx.transform=this.ctx.transform.multiply(E)},y.prototype.setTransform=function(B,it,st,ft,dt,T){B=isNaN(B)?1:B,it=isNaN(it)?0:it,st=isNaN(st)?0:st,ft=isNaN(ft)?1:ft,dt=isNaN(dt)?0:dt,T=isNaN(T)?0:T,this.ctx.transform=new p(B,it,st,ft,dt,T)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(B,it,st,ft,dt,T,E,f,u){var w=this.pdf.getImageProperties(B),N=1,I=1,R=1,k=1;ft!==void 0&&f!==void 0&&(R=f/ft,k=u/dt,N=w.width/ft*f/ft,I=w.height/dt*u/dt),T===void 0&&(T=it,E=st,it=0,st=0),ft!==void 0&&f===void 0&&(f=ft,u=dt),ft===void 0&&f===void 0&&(f=w.width,u=w.height);var z=this.ctx.transform.decompose(),et=gt(z.rotate.shx),K=new p,Z=(K=(K=(K=K.multiply(z.translate)).multiply(z.skew)).multiply(z.scale)).applyToRectangle(new l(T-it*R,E-st*k,ft*N,dt*I));if(this.autoPaging){for(var pt,ct=o.call(this,Z),W=[],rt=0;rt<ct.length;rt+=1)W.indexOf(ct[rt])===-1&&W.push(ct[rt]);_(W);for(var Et=W[0],xt=W[W.length-1],Pt=Et;Pt<xt+1;Pt++){this.pdf.setPage(Pt);var jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=Pt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=Pt===1?0:Rt+(Pt-2)*Ut;if(this.ctx.clip_path.length!==0){var se=this.path;pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(pt,this.posX+this.margin[3],-Mt+Bt+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=se}var Wt=JSON.parse(JSON.stringify(Z));Wt=C([Wt],this.posX+this.margin[3],-Mt+Bt+this.ctx.prevPageLastElemOffset)[0];var Jt=(Pt>Et||Pt<xt)&&S.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Ut,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,et),Jt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",Z.x,Z.y,Z.w,Z.h,null,null,et)};var o=function(B,it,st){var ft=[];it=it||this.pdf.internal.pageSize.width,st=st||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var dt=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ft.push(Math.floor((B.y+dt)/st)+1);break;case"arc":ft.push(Math.floor((B.y+dt-B.radius)/st)+1),ft.push(Math.floor((B.y+dt+B.radius)/st)+1);break;case"qct":var T=yt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ft.push(Math.floor((T.y+dt)/st)+1),ft.push(Math.floor((T.y+T.h+dt)/st)+1);break;case"bct":var E=Nt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ft.push(Math.floor((E.y+dt)/st)+1),ft.push(Math.floor((E.y+E.h+dt)/st)+1);break;case"rect":ft.push(Math.floor((B.y+dt)/st)+1),ft.push(Math.floor((B.y+B.h+dt)/st)+1)}for(var f=0;f<ft.length;f+=1)for(;this.pdf.internal.getNumberOfPages()<ft[f];)m.call(this);return ft},m=function(){var B=this.fillStyle,it=this.strokeStyle,st=this.font,ft=this.lineCap,dt=this.lineWidth,T=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=it,this.font=st,this.lineCap=ft,this.lineWidth=dt,this.lineJoin=T},C=function(B,it,st){for(var ft=0;ft<B.length;ft++)switch(B[ft].type){case"bct":B[ft].x2+=it,B[ft].y2+=st;case"qct":B[ft].x1+=it,B[ft].y1+=st;default:B[ft].x+=it,B[ft].y+=st}return B},_=function(B){return B.sort(function(it,st){return it-st})},P=function(B,it){var st=this.fillStyle,ft=this.strokeStyle,dt=this.lineCap,T=this.lineWidth,E=Math.abs(T*this.ctx.transform.scaleX),f=this.lineJoin;if(this.autoPaging){for(var u,w,N=JSON.parse(JSON.stringify(this.path)),I=JSON.parse(JSON.stringify(this.path)),R=[],k=0;k<I.length;k++)if(I[k].x!==void 0)for(var z=o.call(this,I[k]),et=0;et<z.length;et+=1)R.indexOf(z[et])===-1&&R.push(z[et]);for(var K=0;K<R.length;K++)for(;this.pdf.internal.getNumberOfPages()<R[K];)m.call(this);_(R);for(var Z=R[0],pt=R[R.length-1],ct=Z;ct<pt+1;ct++){this.pdf.setPage(ct),this.fillStyle=st,this.strokeStyle=ft,this.lineCap=dt,this.lineWidth=E,this.lineJoin=f;var W=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=ct===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=ct===1?0:Et+(ct-2)*xt;if(this.ctx.clip_path.length!==0){var jt=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(u,this.posX+this.margin[3],-Pt+rt+this.ctx.prevPageLastElemOffset),U.call(this,B,!0),this.path=jt}if(w=JSON.parse(JSON.stringify(N)),this.path=C(w,this.posX+this.margin[3],-Pt+rt+this.ctx.prevPageLastElemOffset),it===!1||ct===0){var Bt=(ct>Z||ct<pt)&&S.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],W,xt,null).clip().discardPath()),U.call(this,B,it),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=T}this.path=N}else this.lineWidth=E,U.call(this,B,it),this.lineWidth=T},U=function(B,it){if((B!=="stroke"||it||!v.call(this))&&(B==="stroke"||it||!h.call(this))){for(var st,ft,dt=[],T=this.path,E=0;E<T.length;E++){var f=T[E];switch(f.type){case"begin":dt.push({begin:!0});break;case"close":dt.push({close:!0});break;case"mt":dt.push({start:f,deltas:[],abs:[]});break;case"lt":var u=dt.length;if(T[E-1]&&!isNaN(T[E-1].x)&&(st=[f.x-T[E-1].x,f.y-T[E-1].y],u>0)){for(;u>=0;u--)if(dt[u-1].close!==!0&&dt[u-1].begin!==!0){dt[u-1].deltas.push(st),dt[u-1].abs.push(f);break}}break;case"bct":st=[f.x1-T[E-1].x,f.y1-T[E-1].y,f.x2-T[E-1].x,f.y2-T[E-1].y,f.x-T[E-1].x,f.y-T[E-1].y],dt[dt.length-1].deltas.push(st);break;case"qct":var w=T[E-1].x+2/3*(f.x1-T[E-1].x),N=T[E-1].y+2/3*(f.y1-T[E-1].y),I=f.x+2/3*(f.x1-f.x),R=f.y+2/3*(f.y1-f.y),k=f.x,z=f.y;st=[w-T[E-1].x,N-T[E-1].y,I-T[E-1].x,R-T[E-1].y,k-T[E-1].x,z-T[E-1].y],dt[dt.length-1].deltas.push(st);break;case"arc":dt.push({deltas:[],abs:[],arc:!0}),Array.isArray(dt[dt.length-1].abs)&&dt[dt.length-1].abs.push(f)}}ft=it?null:B==="stroke"?"stroke":"fill";for(var et=!1,K=0;K<dt.length;K++)if(dt[K].arc)for(var Z=dt[K].abs,pt=0;pt<Z.length;pt++){var ct=Z[pt];ct.type==="arc"?$.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,it,!et):ut.call(this,ct.x,ct.y),et=!0}else if(dt[K].close===!0)this.pdf.internal.out("h"),et=!1;else if(dt[K].begin!==!0){var W=dt[K].start.x,rt=dt[K].start.y;tt.call(this,dt[K].deltas,W,rt),et=!0}ft&&j.call(this,ft),it&&at.call(this)}},H=function(B){var it=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,st=it*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-st;case"top":return B+it-st;case"hanging":return B+it-2*st;case"middle":return B+it/2-st;default:return B}},V=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(it,st){this.colorStops.push([it,st])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(B,it,st,ft,dt,T,E,f,u){for(var w=nt.call(this,st,ft,dt,T),N=0;N<w.length;N++){var I=w[N];N===0&&(u?M.call(this,I.x1+B,I.y1+it):ut.call(this,I.x1+B,I.y1+it)),Y.call(this,B,it,I.x2,I.y2,I.x3,I.y3,I.x4,I.y4)}f?at.call(this):j.call(this,E)},j=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},at=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(B,it){this.pdf.internal.out(t(B)+" "+i(it)+" m")},X=function(B){var it;switch(B.align){case"right":case"end":it="right";break;case"center":it="center";break;default:it="left"}var st,ft,dt,T=this.pdf.getTextDimensions(B.text),E=H.call(this,B.y),f=V.call(this,E)-T.h,u=this.ctx.transform.applyToPoint(new b(B.x,E));if(this.autoPaging){var w=this.ctx.transform.decompose(),N=new p;N=(N=(N=N.multiply(w.translate)).multiply(w.skew)).multiply(w.scale);for(var I=this.ctx.transform.applyToRectangle(new l(B.x,E,T.w,T.h)),R=N.applyToRectangle(new l(B.x,f,T.w,T.h)),k=o.call(this,R),z=[],et=0;et<k.length;et+=1)z.indexOf(k[et])===-1&&z.push(k[et]);_(z);for(var K=z[0],Z=z[z.length-1],pt=K;pt<Z+1;pt++){this.pdf.setPage(pt);var ct=pt===1?this.posY+this.margin[0]:this.margin[0],W=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],Et=rt-this.margin[0],xt=this.pdf.internal.pageSize.width-this.margin[1],Pt=xt-this.margin[3],jt=pt===1?0:W+(pt-2)*Et;if(this.ctx.clip_path.length!==0){var Bt=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(st,this.posX+this.margin[3],-1*jt+ct),U.call(this,"fill",!0),this.path=Bt}var Rt=C([JSON.parse(JSON.stringify(R))],this.posX+this.margin[3],-jt+ct+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ft=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ft*B.scale),dt=this.lineWidth,this.lineWidth=dt*B.scale);var Ut=this.autoPaging!=="text";if(Ut||Rt.y+Rt.h<=rt){if(Ut||Rt.y>=ct&&Rt.x<=xt){var Mt=Ut?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||xt-Rt.x)[0],se=C([JSON.parse(JSON.stringify(I))],this.posX+this.margin[3],-jt+ct+this.ctx.prevPageLastElemOffset)[0],Wt=Ut&&(pt>K||pt<Z)&&S.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Et,null).clip().discardPath()),this.pdf.text(Mt,se.x,se.y,{angle:B.angle,align:it,renderingMode:B.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else Rt.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-Rt.y);B.scale>=.01&&(this.pdf.setFontSize(ft),this.lineWidth=dt)}}else B.scale>=.01&&(ft=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ft*B.scale),dt=this.lineWidth,this.lineWidth=dt*B.scale),this.pdf.text(B.text,u.x+this.posX,u.y+this.posY,{angle:B.angle,align:it,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ft),this.lineWidth=dt)},ut=function(B,it,st,ft){st=st||0,ft=ft||0,this.pdf.internal.out(t(B+st)+" "+i(it+ft)+" l")},tt=function(B,it,st){return this.pdf.lines(B,it,st,null,null)},Y=function(B,it,st,ft,dt,T,E,f){this.pdf.internal.out([e(a(st+B)),e(r(ft+it)),e(a(dt+B)),e(r(T+it)),e(a(E+B)),e(r(f+it)),"c"].join(" "))},nt=function(B,it,st,ft){for(var dt=2*Math.PI,T=Math.PI/2;it>st;)it-=dt;var E=Math.abs(st-it);E<dt&&ft&&(E=dt-E);for(var f=[],u=ft?-1:1,w=it;E>1e-5;){var N=w+u*Math.min(E,T);f.push(bt.call(this,B,w,N)),E-=Math.abs(N-w),w=N}return f},bt=function(B,it,st){var ft=(st-it)/2,dt=B*Math.cos(ft),T=B*Math.sin(ft),E=dt,f=-T,u=E*E+f*f,w=u+E*dt+f*T,N=4/3*(Math.sqrt(2*u*w)-w)/(E*T-f*dt),I=E-N*f,R=f+N*E,k=I,z=-R,et=ft+it,K=Math.cos(et),Z=Math.sin(et);return{x1:B*Math.cos(it),y1:B*Math.sin(it),x2:I*K-R*Z,y2:I*Z+R*K,x3:k*K-z*Z,y3:k*Z+z*K,x4:B*Math.cos(st),y4:B*Math.sin(st)}},gt=function(B){return 180*B/Math.PI},yt=function(B,it,st,ft,dt,T){var E=B+.5*(st-B),f=it+.5*(ft-it),u=dt+.5*(st-dt),w=T+.5*(ft-T),N=Math.min(B,dt,E,u),I=Math.max(B,dt,E,u),R=Math.min(it,T,f,w),k=Math.max(it,T,f,w);return new l(N,R,I-N,k-R)},Nt=function(B,it,st,ft,dt,T,E,f){var u,w,N,I,R,k,z,et,K,Z,pt,ct,W,rt,Et=st-B,xt=ft-it,Pt=dt-st,jt=T-ft,Bt=E-dt,Rt=f-T;for(w=0;w<41;w++)K=(z=(N=B+(u=w/40)*Et)+u*((R=st+u*Pt)-N))+u*(R+u*(dt+u*Bt-R)-z),Z=(et=(I=it+u*xt)+u*((k=ft+u*jt)-I))+u*(k+u*(T+u*Rt-k)-et),w==0?(pt=K,ct=Z,W=K,rt=Z):(pt=Math.min(pt,K),ct=Math.min(ct,Z),W=Math.max(W,K),rt=Math.max(rt,Z));return new l(Math.round(pt),Math.round(ct),Math.round(W-pt),Math.round(rt-ct))},Ct=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,it,st=(B=this.ctx.lineDash,it=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:it}));this.prevLineDash!==st&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=st)}}})(ie.API),(function(n){var e=function(b){var l,p,d,g,y,x,h,v,S,o;for(p=[],d=0,g=(b+=l="\0\0\0\0".slice(b.length%4||4)).length;g>d;d+=4)(y=(b.charCodeAt(d)<<24)+(b.charCodeAt(d+1)<<16)+(b.charCodeAt(d+2)<<8)+b.charCodeAt(d+3))!==0?(x=(y=((y=((y=((y=(y-(o=y%85))/85)-(S=y%85))/85)-(v=y%85))/85)-(h=y%85))/85)%85,p.push(x+33,h+33,v+33,S+33,o+33)):p.push(122);return(function(m,C){for(var _=C;_>0;_--)m.pop()})(p,l.length),String.fromCharCode.apply(String,p)+"~>"},t=function(b){var l,p,d,g,y,x=String,h="length",v=255,S="charCodeAt",o="slice",m="replace";for(b[o](-2),b=b[o](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),d=[],g=0,y=(b+=l="uuuuu"[o](b[h]%5||5))[h];y>g;g+=5)p=52200625*(b[S](g)-33)+614125*(b[S](g+1)-33)+7225*(b[S](g+2)-33)+85*(b[S](g+3)-33)+(b[S](g+4)-33),d.push(v&p>>24,v&p>>16,v&p>>8,v&p);return(function(C,_){for(var P=_;P>0;P--)C.pop()})(d,l[h]),x.fromCharCode.apply(x,d)},i=function(b){return b.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(b){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((b=b.replace(/\s/g,"")).indexOf(">")!==-1&&(b=b.substr(0,b.indexOf(">"))),b.length%2&&(b+="0"),l.test(b)===!1)return"";for(var p="",d=0;d<b.length;d+=2)p+=String.fromCharCode("0x"+(b[d]+b[d+1]));return p},r=function(b){for(var l=new Uint8Array(b.length),p=b.length;p--;)l[p]=b.charCodeAt(p);return(l=qo(l)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(b,l){var p=0,d=b||"",g=[];for(typeof(l=l||[])=="string"&&(l=[l]),p=0;p<l.length;p+=1)switch(l[p]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=r(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[p]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(ie.API),(function(n){n.loadFile=function(e,t,i){return(function(a,r,b){r=r!==!1,b=typeof b=="function"?b:function(){};var l=void 0;try{l=(function(p,d,g){var y=new XMLHttpRequest,x=0,h=function(v){var S=v.length,o=[],m=String.fromCharCode;for(x=0;x<S;x+=1)o.push(m(255&v.charCodeAt(x)));return o.join("")};if(y.open("GET",p,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?g(h(this.responseText)):g(void 0)}),y.send(null),d&&y.status===200)return h(y.responseText)})(a,r,b)}catch{}return l})(e,t,i)},n.loadImageFile=n.loadFile})(ie.API),(function(n){function e(){return(he.html2canvas?Promise.resolve(he.html2canvas):vn(()=>import("./html2canvas.esm-DXEQVQnt.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(he.DOMPurify?Promise.resolve(he.DOMPurify):vn(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var p=Te(l);return p==="undefined"?"undefined":p==="string"||l instanceof String?"string":p==="number"||l instanceof Number?"number":p==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":p==="object"?"object":"unknown"},a=function(l,p){var d=document.createElement(l);for(var g in p.className&&(d.className=p.className),p.innerHTML&&p.dompurify&&(d.innerHTML=p.dompurify.sanitize(p.innerHTML)),p.style)d.style[g]=p.style[g];return d},r=function l(p,d){for(var g=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),y=p.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||g.appendChild(l(y,d));return p.nodeType===1&&(p.nodeName==="CANVAS"?(g.width=p.width,g.height=p.height,g.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(g.value=p.value),g.addEventListener("load",function(){g.scrollTop=p.scrollTop,g.scrollLeft=p.scrollLeft},!0)),g},b=function l(p){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),g=l.convert(Promise.resolve(),d);return(g=g.setProgress(1,l,1,[l])).set(p)};(b.prototype=Object.create(Promise.prototype)).constructor=b,b.convert=function(l,p){return l.__proto__=p||b.prototype,l},b.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},b.prototype.from=function(l,p){return this.then(function(){switch(p=p||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),p){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},b.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},b.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},p=r(this.prop.src,this.opt.html2canvas.javascriptEnabled);p.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(p),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},b.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(p){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,p(this.prop.container,d)}).then(function(p){(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},b.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(p){var d=this.opt.jsPDF,g=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var h=0;h<g.length;++h){var v=g[h],S=v.src.find(function(o){return o.format==="truetype"});S&&d.addFont(S.url,v.ref.name,v.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),p(this.prop.container,x)}).then(function(p){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},b.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},b.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},b.prototype.output=function(l,p,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,p):this.outputPdf(l,p)},b.prototype.outputPdf=function(l,p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,p)})},b.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},b.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},b.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},b.prototype.set=function(l){if(i(l)!=="object")return this;var p=Object.keys(l||{}).map(function(d){if(d in b.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(p)})},b.prototype.get=function(l,p){return this.then(function(){var d=l in b.template.prop?this.prop[l]:this.opt[l];return p?p(d):d})},b.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},b.prototype.setPageSize=function(l){function p(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(l=l||ie.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:p(l.inner.width,l.k),height:p(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},b.prototype.setProgress=function(l,p,d,g){return l!=null&&(this.progress.val=l),p!=null&&(this.progress.state=p),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},b.prototype.updateProgress=function(l,p,d,g){return this.setProgress(l?this.progress.val+l:null,p||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},b.prototype.then=function(l,p){var d=this;return this.thenCore(l,p,function(g,y){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,g),x}).then(g,y).then(function(x){return d.updateProgress(1),x})})},b.prototype.thenCore=function(l,p,d){d=d||Promise.prototype.then;var g=this;l&&(l=l.bind(g)),p&&(p=p.bind(g));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:b.convert(Object.assign({},g),Promise.prototype),x=d.call(y,l,p);return b.convert(x,g.__proto__)},b.prototype.thenExternal=function(l,p){return Promise.prototype.then.call(this,l,p)},b.prototype.thenList=function(l){var p=this;return l.forEach(function(d){p=p.thenCore(d)}),p},b.prototype.catch=function(l){l&&(l=l.bind(this));var p=Promise.prototype.catch.call(this,l);return b.convert(p,this)},b.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},b.prototype.error=function(l){return this.then(function(){throw new Error(l)})},b.prototype.using=b.prototype.set,b.prototype.saveAs=b.prototype.save,b.prototype.export=b.prototype.output,b.prototype.run=b.prototype.then,ie.getPageSize=function(l,p,d){if(Te(l)==="object"){var g=l;l=g.orientation,p=g.unit||p,d=g.format||d}p=p||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var y,x=(""+d).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+p}var v,S=0,o=0;if(h.hasOwnProperty(x))S=h[x][1]/y,o=h[x][0]/y;else try{S=d[1],o=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",o>S&&(v=o,o=S,S=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",S>o&&(v=o,o=S,S=v)}return{width:o,height:S,unit:p,k:y,orientation:l}},n.html=function(l,p){(p=p||{}).callback=p.callback||function(){},p.html2canvas=p.html2canvas||{},p.html2canvas.canvas=p.html2canvas.canvas||this.canvas,p.jsPDF=p.jsPDF||this,p.fontFaces=p.fontFaces?p.fontFaces.map(Ro):null;var d=new b(p);return p.worker?d:d.from(l).doCallback()}})(ie.API),ie.API.addJS=function(n){return Uh=n,this.internal.events.subscribe("postPutResources",function(){Pa=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pa+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Uh+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pa!==void 0&&jh!==void 0&&this.internal.out("/Names <</JavaScript "+Pa+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),r=0;r<a.length;r++){var b=a[r],l=i.exec(b);if(l!=null){var p=l[1];t.internal.newObjectDeferredBegin(p,!1)}t.internal.write(b)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(r=0;r<d;r++){var y=t.internal.newObject();g.push(y);var x=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),r=0;r<g.length;r++)t.internal.write("(page_"+(r+1)+")"+g[r]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,a,r){var b={title:a,options:r,children:[]};return i==null&&(i=this.root),i.children.push(b),b},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<i.children.length;r++){var b=i.children[r];this.objStart(b),this.line("/Title "+this.makeString(b.title)),this.line("/Parent "+this.makeRef(i)),r>0&&this.line("/Prev "+this.makeRef(i.children[r-1])),r<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[r+1])),b.children.length>0&&(this.line("/First "+this.makeRef(b.children[0])),this.line("/Last "+this.makeRef(b.children[b.children.length-1])));var l=this.count=this.count_r({count:0},b);if(l>0&&this.line("/Count "+l),b.options&&b.options.pageNumber){var p=t.internal.getPageInfo(b.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,a){for(var r=0;r<a.children.length;r++)i.count++,this.count_r(i,a.children[r]);return i.count}}])})(ie.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,a,r,b,l){var p,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=b||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,p=(function(y){for(var x,h=256*y.charCodeAt(4)+y.charCodeAt(5),v=y.length,S={width:0,height:0,numcomponents:1},o=4;o<v;o+=2){if(o+=h,e.indexOf(y.charCodeAt(o+1))!==-1){x=256*y.charCodeAt(o+5)+y.charCodeAt(o+6),S={width:256*y.charCodeAt(o+7)+y.charCodeAt(o+8),height:x,numcomponents:y.charCodeAt(o+9)};break}h=256*y.charCodeAt(o+2)+y.charCodeAt(o+3)}return S})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),p.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}g={data:t,width:p.width,height:p.height,colorSpace:l,bitsPerComponent:8,filter:d,index:i,alias:a}}return g}})(ie.API),ie.API.processPNG=function(n,e,t,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,r=Df(n,{checkCrc:!0}),b=r.width,l=r.height,p=r.channels,d=r.palette,g=r.depth;a=d&&p===1?(function($){for(var j=$.width,at=$.height,M=$.data,X=$.palette,ut=$.depth,tt=!1,Y=[],nt=[],bt=void 0,gt=!1,yt=0,Nt=0;Nt<X.length;Nt++){var Ct=Vl(X[Nt],4),B=Ct[0],it=Ct[1],st=Ct[2],ft=Ct[3];Y.push(B,it,st),ft!=null&&(ft===0?(yt++,nt.length<1&&nt.push(Nt)):ft<255&&(gt=!0))}if(gt||yt>1){tt=!0,nt=void 0;var dt=j*at;bt=new Uint8Array(dt);for(var T=new DataView(M.buffer),E=0;E<dt;E++){var f=Do(T,E,ut),u=Vl(X[f],4)[3];bt[E]=u}}else yt===0&&(nt=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:tt?8:void 0,colorBytes:M,alphaBytes:bt,needSMask:tt,palette:Y,mask:nt}})(r):p===2||p===4?(function($){for(var j=$.data,at=$.width,M=$.height,X=$.channels,ut=$.depth,tt=X===2?"DeviceGray":"DeviceRGB",Y=X-1,nt=at*M,bt=Y,gt=nt*bt,yt=1*nt,Nt=Math.ceil(gt*ut/8),Ct=Math.ceil(yt*ut/8),B=new Uint8Array(Nt),it=new Uint8Array(Ct),st=new DataView(j.buffer),ft=new DataView(B.buffer),dt=new DataView(it.buffer),T=!1,E=0;E<nt;E++){for(var f=E*X,u=0;u<bt;u++)Yh(ft,Do(st,f+u,ut),E*bt+u,ut);var w=Do(st,f+bt,ut);w<(1<<ut)-1&&(T=!0),Yh(dt,w,1*E,ut)}return{colorSpace:tt,colorsPerPixel:Y,sMaskBitsPerComponent:T?ut:void 0,colorBytes:B,alphaBytes:it,needSMask:T}})(r):(function($){var j=$.data,at=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:at,colorsPerPixel:at==="DeviceGray"?1:3,colorBytes:j instanceof Uint16Array?(function(M){for(var X=M.length,ut=new Uint8Array(2*X),tt=new DataView(ut.buffer,ut.byteOffset,ut.byteLength),Y=0;Y<X;Y++)tt.setUint16(2*Y,M[Y],!1);return ut})(j):j,needSMask:!1}})(r);var y,x,h,v=a,S=v.colorSpace,o=v.colorsPerPixel,m=v.sMaskBitsPerComponent,C=v.colorBytes,_=v.alphaBytes,P=v.needSMask,U=v.palette,H=v.mask,V=null;return i!==ie.API.image_compression.NONE&&typeof qo=="function"?(V=(function($){var j;switch($){case ie.API.image_compression.FAST:j=11;break;case ie.API.image_compression.MEDIUM:j=13;break;case ie.API.image_compression.SLOW:j=14;break;default:j=12}return j})(i),y=this.decode.FLATE_DECODE,x="/Predictor ".concat(V," /Colors ").concat(o," /BitsPerComponent ").concat(g," /Columns ").concat(b),n=Vh(C,Math.ceil(b*o*g/8),o,g,i),P&&(h=Vh(_,Math.ceil(b*m/8),1,m,i))):(y=void 0,x=void 0,n=C,P&&(h=_)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:t,data:n,index:e,filter:y,decodeParameters:x,transparency:H,palette:U,sMask:h,predictor:V,width:b,height:l,bitsPerComponent:g,sMaskBitsPerComponent:m,colorSpace:S}}},(function(n){n.processGIF89A=function(e,t,i,a){var r=new np(e),b=r.width,l=r.height,p=[];r.decodeAndBlitFrameRGBA(0,p);var d={data:p,width:b,height:l},g=new Oo(100).encode(d,100);return n.processJPEG.call(this,g,t,i,a)},n.processGIF87A=n.processGIF89A})(ie.API),rn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:i,blue:t,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},rn.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Re.log("bit decode error:"+t)}},rn.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var r=this.datav.getUint8(this.pos++,!0),b=i*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var p=this.palette[r>>7-l&1];this.data[b+4*l]=p.blue,this.data[b+4*l+1]=p.green,this.data[b+4*l+2]=p.red,this.data[b+4*l+3]=255}t!==0&&(this.pos+=4-t)}},rn.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var r=this.datav.getUint8(this.pos++,!0),b=i*this.width*4+2*a*4,l=r>>4,p=15&r,d=this.palette[l];if(this.data[b]=d.blue,this.data[b+1]=d.green,this.data[b+2]=d.red,this.data[b+3]=255,2*a+1>=this.width)break;d=this.palette[p],this.data[b+4]=d.blue,this.data[b+4+1]=d.green,this.data[b+4+2]=d.red,this.data[b+4+3]=255}e!==0&&(this.pos+=4-e)}},rn.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),r=t*this.width*4+4*i;if(a<this.palette.length){var b=this.palette[a];this.data[r]=b.red,this.data[r+1]=b.green,this.data[r+2]=b.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}n!==0&&(this.pos+=4-n)}},rn.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var b=(r&e)/e*255|0,l=(r>>5&e)/e*255|0,p=(r>>10&e)/e*255|0,d=r>>15?255:0,g=i*this.width*4+4*a;this.data[g]=p,this.data[g+1]=l,this.data[g+2]=b,this.data[g+3]=d}this.pos+=n}},rn.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var b=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(b&e)/e*255|0,p=(b>>5&t)/t*255|0,d=(b>>11)/e*255|0,g=a*this.width*4+4*r;this.data[g]=d,this.data[g+1]=p,this.data[g+2]=l,this.data[g+3]=255}this.pos+=n}},rn.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),b=e*this.width*4+4*t;this.data[b]=r,this.data[b+1]=a,this.data[b+2]=i,this.data[b+3]=255}this.pos+=this.width%4}},rn.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),b=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=r,this.data[l+1]=a,this.data[l+2]=i,this.data[l+3]=b}},rn.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,i,a){var r=new rn(e,!1),b=r.width,l=r.height,p={data:r.getData(),width:b,height:l},d=new Oo(100).encode(p,100);return n.processJPEG.call(this,d,t,i,a)}})(ie.API),Kh.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,i,a){var r=new Kh(e),b=r.width,l=r.height,p={data:r.getData(),width:b,height:l},d=new Oo(100).encode(p,100);return n.processJPEG.call(this,d,t,i,a)}})(ie.API),ie.API.processRGBA=function(n,e,t){for(var i=n.data,a=i.length,r=new Uint8Array(a/4*3),b=new Uint8Array(a/4),l=0,p=0,d=0;d<a;d+=4){var g=i[d],y=i[d+1],x=i[d+2],h=i[d+3];r[l++]=g,r[l++]=y,r[l++]=x,b[p++]=h}var v=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(b),data:v,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ie.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jr=ie.API,Ta=Jr.getCharWidthsArray=function(n,e){var t,i,a=(e=e||{}).font||this.internal.getFont(),r=e.fontSize||this.internal.getFontSize(),b=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,p=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=d.fof?d.fof:1,y=e.doKerning!==!1,x=0,h=n.length,v=0,S=l[0]||p,o=[];for(t=0;t<h;t++)i=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?o.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+b*(1e3/r)||0)/1e3):(x=y&&Te(d[i])==="object"&&!isNaN(parseInt(d[i][v],10))?d[i][v]/g:0,o.push((l[i]||S)/p+x)),v=i;return o},qh=Jr.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Jr.processArabic&&(n=Jr.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,a)/t:Ta.apply(this,arguments).reduce(function(r,b){return r+b},0)},Hh=function(n,e,t,i){for(var a=[],r=0,b=n.length,l=0;r!==b&&l+e[r]<t;)l+=e[r],r++;a.push(n.slice(0,r));var p=r;for(l=0;r!==b;)l+e[r]>i&&(a.push(n.slice(p,r)),l=0,p=r),l+=e[r],r++;return p!==r&&a.push(n.slice(p,r)),a},zh=function(n,e,t){t||(t={});var i,a,r,b,l,p,d,g=[],y=[g],x=t.textIndent||0,h=0,v=0,S=n.split(" "),o=Ta.apply(this,[" ",t])[0];if(p=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var m=Array(p).join(" "),C=[];S.map(function(P){(P=P.split(/\s*\n/)).length>1?C=C.concat(P.map(function(U,H){return(H&&U.length?`
`:"")+U})):C.push(P[0])}),S=C,p=qh.apply(this,[m,t])}for(r=0,b=S.length;r<b;r++){var _=0;if(i=S[r],p&&i[0]==`
`&&(i=i.substr(1),_=1),x+h+(v=(a=Ta.apply(this,[i,t])).reduce(function(P,U){return P+U},0))>e||_){if(v>e){for(l=Hh.apply(this,[i,a,e-(x+h),e]),g.push(l.shift()),g=[l.pop()];l.length;)y.push([l.shift()]);v=a.slice(i.length-(g[0]?g[0].length:0)).reduce(function(P,U){return P+U},0)}else g=[i];y.push(g),x=v+p,h=o}else g.push(i),x+=h+v,h=o}return d=p?function(P,U){return(U?m:"")+P.join(" ")}:function(P){return P.join(" ")},y.map(d)},Jr.splitTextToSize=function(n,e,t){var i,a=(t=t||{}).fontSize||this.internal.getFontSize(),r=function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var y=this.internal.getFont(g.fontName,g.fontStyle),x="Unicode";return y.metadata[x]?{widths:y.metadata[x].widths||{0:1},kerning:y.metadata[x].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var b=1*this.internal.scaleFactor*e/a;r.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,r.lineIndent=t.lineIndent;var l,p,d=[];for(l=0,p=i.length;l<p;l++)d=d.concat(zh.apply(this,[i[l],b,r]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},a={},r=0;r<16;r++)i[t[r]]=e[r],a[e[r]]=t[r];var b=function(x){return"0x"+parseInt(x,10).toString(16)},l=n.__fontmetrics__.compress=function(x){var h,v,S,o,m=["{"];for(var C in x){if(h=x[C],isNaN(parseInt(C,10))?v="'"+C+"'":(C=parseInt(C,10),v=(v=b(C).slice(2)).slice(0,-1)+a[v.slice(-1)]),typeof h=="number")h<0?(S=b(h).slice(3),o="-"):(S=b(h).slice(2),o=""),S=o+S.slice(0,-1)+a[S.slice(-1)];else{if(Te(h)!=="object")throw new Error("Don't know what to do with value type "+Te(h)+".");S=l(h)}m.push(v+S)}return m.push("}"),m.join("")},p=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,S,o,m={},C=1,_=m,P=[],U="",H="",V=x.length-1,$=1;$<V;$+=1)(o=x[$])=="'"?h?(S=h.join(""),h=void 0):h=[]:h?h.push(o):o=="{"?(P.push([_,S]),_={},S=void 0):o=="}"?((v=P.pop())[0][v[1]]=_,S=void 0,_=v[0]):o=="-"?C=-1:S===void 0?i.hasOwnProperty(o)?(U+=i[o],S=parseInt(U,16)*C,C=1,U=""):U+=o:i.hasOwnProperty(o)?(H+=i[o],_[S]=parseInt(H,16)*C,C=1,S=void 0,H=""):H+=o;return m},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:p("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":p("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":p("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:p("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:p("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":p("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":p("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var h=x.font,v=y.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var S=g.Unicode[h.postScriptName];S&&(h.metadata.Unicode.encoding=S,h.encoding=S.codePages[0])}])})(ie.API),(function(n){var e=function(t){for(var i=t.length,a=new Uint8Array(i),r=0;r<i;r++)a[r]=t.charCodeAt(r);return a};n.API.events.push(["addFont",function(t){var i=void 0,a=t.font,r=t.instance;if(!a.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=r.existsFileInVFS(a.postScriptName)===!1?r.loadFile(a.postScriptName):r.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(b,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Fa(l)),b.metadata=n.API.TTFFont.open(l),b.metadata.Unicode=b.metadata.Unicode||{encoding:{},kerning:{},widths:[]},b.metadata.glyIdsUsed=[0]})(a,i)}}])})(ie),ie.API.addSvgAsImage=function(n,e,t,i,a,r,b,l){if(isNaN(e)||isNaN(t))throw Re.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Re.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=a;var d=p.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,p.width,p.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(he.canvg?Promise.resolve(he.canvg):vn(()=>import("./index.es-CjglmjzD.js"),[],import.meta.url)).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(g)}).then(function(){y.addImage(p.toDataURL("image/jpeg",1),e,t,i,a,b,l)})},ie.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(e,t);return this},ie.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,a,r,b={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(b),p=[],d=0,g=0,y=0;function x(v,S){var o,m=!1;for(o=0;o<v.length;o+=1)v[o]===S&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(b)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var h=l.length;for(y=0;y<h;y+=1)t[l[y]].value=t[l[y]].defaultValue,t[l[y]].explicitSet=!1}if(Te(n)==="object"){for(a in n)if(r=n[a],x(l,a)&&r!==void 0){if(t[a].type==="boolean"&&typeof r=="boolean")t[a].value=r;else if(t[a].type==="name"&&x(t[a].valueSet,r))t[a].value=r;else if(t[a].type==="integer"&&Number.isInteger(r))t[a].value=r;else if(t[a].type==="array"){for(d=0;d<r.length;d+=1)if(i=!0,r[d].length===1&&typeof r[d][0]=="number")p.push(String(r[d]-1));else if(r[d].length>1){for(g=0;g<r[d].length;g+=1)typeof r[d][g]!="number"&&(i=!1);i===!0&&p.push([r[d][0]-1,r[d][1]-1].join(" "))}t[a].value="["+p.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,S=[];for(v in t)t[v].explicitSet===!0&&(t[v].type==="name"?S.push("/"+v+" /"+t[v].value):S.push("/"+v+" "+t[v].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(i)),b=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),d=r.length+b.length+l.length+a.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+r+b+l+p),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(ie.API),(function(n){var e=n.API,t=e.pdfEscape16=function(r,b){for(var l,p=b.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],y=0,x=r.length;y<x;++y){if(l=b.metadata.characterToGlyph(r.charCodeAt(y)),b.metadata.glyIdsUsed.push(l),b.metadata.toUnicode[l]=r.charCodeAt(y),p.indexOf(l)==-1&&(p.push(l),p.push([parseInt(b.metadata.widthOfGlyph(l),10)])),l=="0")return g.join("");l=l.toString(16),g.push(d[4-l.length],l)}return g.join("")},i=function(r){var b,l,p,d,g,y,x;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],y=0,x=(l=Object.keys(r).sort(function(h,v){return h-v})).length;y<x;y++)b=l[y],p.length>=100&&(g+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),r[b]!==void 0&&r[b]!==null&&typeof r[b].toString=="function"&&(d=("0000"+r[b].toString(16)).slice(-4),b=("0000"+(+b).toString(16)).slice(-4),p.push("<"+b+"><"+d+">"));return p.length&&(g+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(r){(function(b){var l=b.font,p=b.out,d=b.newObject,g=b.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var y=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",v=0;v<x.length;v++)h+=String.fromCharCode(x[v]);var S=d();g({data:h,addLength1:!0,objectId:S}),p("endobj");var o=d();g({data:i(l.metadata.toUnicode),addLength1:!0,objectId:o}),p("endobj");var m=d();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+Zr(l.fontName)),p("/FontFile2 "+S+" 0 R"),p("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),p("/Flags "+l.metadata.flags),p("/StemV "+l.metadata.stemV),p("/ItalicAngle "+l.metadata.italicAngle),p("/Ascent "+l.metadata.ascender),p("/Descent "+l.metadata.decender),p("/CapHeight "+l.metadata.capHeight),p(">>"),p("endobj");var C=d();p("<<"),p("/Type /Font"),p("/BaseFont /"+Zr(l.fontName)),p("/FontDescriptor "+m+" 0 R"),p("/W "+n.API.PDFObject.convert(y)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+l.encoding+")"),p(">>"),p(">>"),p("endobj"),l.objectNumber=d(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+o+" 0 R"),p("/BaseFont /"+Zr(l.fontName)),p("/Encoding /"+l.encoding),p("/DescendantFonts ["+C+" 0 R]"),p(">>"),p("endobj"),l.isAlreadyPutted=!0}})(r)}]),e.events.push(["putFont",function(r){(function(b){var l=b.font,p=b.out,d=b.newObject,g=b.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var y=l.metadata.rawData,x="",h=0;h<y.length;h++)x+=String.fromCharCode(y[h]);var v=d();g({data:x,addLength1:!0,objectId:v}),p("endobj");var S=d();g({data:i(l.metadata.toUnicode),addLength1:!0,objectId:S}),p("endobj");var o=d();p("<<"),p("/Descent "+l.metadata.decender),p("/CapHeight "+l.metadata.capHeight),p("/StemV "+l.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+v+" 0 R"),p("/Flags 96"),p("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),p("/FontName /"+Zr(l.fontName)),p("/ItalicAngle "+l.metadata.italicAngle),p("/Ascent "+l.metadata.ascender),p(">>"),p("endobj"),l.objectNumber=d();for(var m=0;m<l.metadata.hmtx.widths.length;m++)l.metadata.hmtx.widths[m]=parseInt(l.metadata.hmtx.widths[m]*(1e3/l.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Zr(l.fontName)+"/FontDescriptor "+o+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),p("endobj"),l.isAlreadyPutted=!0}})(r)}]);var a=function(r){var b,l=r.text||"",p=r.x,d=r.y,g=r.options||{},y=r.mutex||{},x=y.pdfEscape,h=y.activeFontKey,v=y.fonts,S=h,o="",m=0,C="",_=v[S].encoding;if(v[S].encoding!=="Identity-H")return{text:l,x:p,y:d,options:g,mutex:y};for(C=l,S=h,Array.isArray(l)&&(C=l[0]),m=0;m<C.length;m+=1)v[S].metadata.hasOwnProperty("cmap")&&(b=v[S].metadata.cmap.unicode.codeMap[C[m].charCodeAt(0)]),b||C[m].charCodeAt(0)<256&&v[S].metadata.hasOwnProperty("Unicode")?o+=C[m]:o+="";var P="";return parseInt(S.slice(1))<14||_==="WinAnsiEncoding"?P=x(o,S).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(P=t(o,v[S])),y.isHex=!0,{text:P,x:p,y:d,options:g,mutex:y}};e.events.push(["postProcessText",function(r){var b=r.text||"",l=[],p={text:b,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(b)){var d=0;for(d=0;d<b.length;d+=1)Array.isArray(b[d])&&b[d].length===3?l.push([a(Object.assign({},p,{text:b[d][0]})).text,b[d][1],b[d][2]]):l.push(a(Object.assign({},p,{text:b[d]})).text);r.text=l}else r.text=a(Object.assign({},p,{text:b})).text}])})(ie),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(ie.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var a,r,b,l,p,d,g,y=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},o=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,_=0;this.__bidiEngine__={};var P=function(M){var X=M.charCodeAt(),ut=X>>8,tt=S[ut];return tt!==void 0?y[256*tt+(255&X)]:ut===252||ut===253?"AL":m.test(ut)?"L":ut===8?"R":"N"},U=function(M){for(var X,ut=0;ut<M.length;ut++){if((X=P(M.charAt(ut)))==="L")return!1;if(X==="R")return!0}return!1},H=function(M,X,ut,tt){var Y,nt,bt,gt,yt=X[tt];switch(yt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(yt="AN");break;case"AL":C=!0,yt="R";break;case"WS":case"BN":yt="N";break;case"CS":tt<1||tt+1>=X.length||(Y=ut[tt-1])!=="EN"&&Y!=="AN"||(nt=X[tt+1])!=="EN"&&nt!=="AN"?yt="N":C&&(nt="AN"),yt=nt===Y?nt:"N";break;case"ES":yt=(Y=tt>0?ut[tt-1]:"B")==="EN"&&tt+1<X.length&&X[tt+1]==="EN"?"EN":"N";break;case"ET":if(tt>0&&ut[tt-1]==="EN"){yt="EN";break}if(C){yt="N";break}for(bt=tt+1,gt=X.length;bt<gt&&X[bt]==="ET";)bt++;yt=bt<gt&&X[bt]==="EN"?"EN":"N";break;case"NSM":if(b&&!l){for(gt=X.length,bt=tt+1;bt<gt&&X[bt]==="NSM";)bt++;if(bt<gt){var Nt=M[tt],Ct=Nt>=1425&&Nt<=2303||Nt===64286;if(Y=X[bt],Ct&&(Y==="R"||Y==="AL")){yt="R";break}}}yt=tt<1||(Y=X[tt-1])==="B"?"N":ut[tt-1];break;case"B":C=!1,a=!0,yt=_;break;case"S":r=!0,yt="N"}return yt},V=function(M,X,ut){var tt=M.split("");return ut&&$(tt,ut,{hiLevel:_}),tt.reverse(),X&&X.reverse(),tt.join("")},$=function(M,X,ut){var tt,Y,nt,bt,gt,yt=-1,Nt=M.length,Ct=0,B=[],it=_?h:x,st=[];for(C=!1,a=!1,r=!1,Y=0;Y<Nt;Y++)st[Y]=P(M[Y]);for(nt=0;nt<Nt;nt++){if(gt=Ct,B[nt]=H(M,st,B,nt),tt=240&(Ct=it[gt][v[B[nt]]]),Ct&=15,X[nt]=bt=it[Ct][5],tt>0)if(tt===16){for(Y=yt;Y<nt;Y++)X[Y]=1;yt=-1}else yt=-1;if(it[Ct][6])yt===-1&&(yt=nt);else if(yt>-1){for(Y=yt;Y<nt;Y++)X[Y]=bt;yt=-1}st[nt]==="B"&&(X[nt]=0),ut.hiLevel|=bt}r&&(function(ft,dt,T){for(var E=0;E<T;E++)if(ft[E]==="S"){dt[E]=_;for(var f=E-1;f>=0&&ft[f]==="WS";f--)dt[f]=_}})(st,X,Nt)},j=function(M,X,ut,tt,Y){if(!(Y.hiLevel<M)){if(M===1&&_===1&&!a)return X.reverse(),void(ut&&ut.reverse());for(var nt,bt,gt,yt,Nt=X.length,Ct=0;Ct<Nt;){if(tt[Ct]>=M){for(gt=Ct+1;gt<Nt&&tt[gt]>=M;)gt++;for(yt=Ct,bt=gt-1;yt<bt;yt++,bt--)nt=X[yt],X[yt]=X[bt],X[bt]=nt,ut&&(nt=ut[yt],ut[yt]=ut[bt],ut[bt]=nt);Ct=gt}Ct++}}},at=function(M,X,ut){var tt=M.split(""),Y={hiLevel:_};return ut||(ut=[]),$(tt,ut,Y),(function(nt,bt,gt){if(gt.hiLevel!==0&&g)for(var yt,Nt=0;Nt<nt.length;Nt++)bt[Nt]===1&&(yt=o.indexOf(nt[Nt]))>=0&&(nt[Nt]=o[yt+1])})(tt,ut,Y),j(2,tt,X,ut,Y),j(1,tt,X,ut,Y),tt.join("")};return this.__bidiEngine__.doBidiReorder=function(M,X,ut){if((function(Y,nt){if(nt)for(var bt=0;bt<Y.length;bt++)nt[bt]=bt;l===void 0&&(l=U(Y)),d===void 0&&(d=U(Y))})(M,X),b||!p||d)if(b&&p&&l^d)_=l?1:0,M=V(M,X,ut);else if(!b&&p&&d)_=l?1:0,M=at(M,X,ut),M=V(M,X);else if(!b||l||p||d){if(b&&!p&&l^d)M=V(M,X),l?(_=0,M=at(M,X,ut)):(_=1,M=at(M,X,ut),M=V(M,X));else if(b&&l&&!p&&d)_=1,M=at(M,X,ut),M=V(M,X);else if(!b&&!p&&l^d){var tt=g;l?(_=1,M=at(M,X,ut),_=0,g=!1,M=at(M,X,ut),g=tt):(_=0,M=at(M,X,ut),M=V(M,X),_=1,g=!1,M=at(M,X,ut),g=tt,M=V(M,X))}}else _=0,M=at(M,X,ut);else _=l?1:0,M=at(M,X,ut);return M},this.__bidiEngine__.setOptions=function(M){M&&(b=M.isInputVisual,p=M.isOutputVisual,l=M.isInputRtl,d=M.isOutputRtl,g=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var r=i.options||{};i.mutex,r.lang;var b=[];if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,t.setOptions(r),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(b=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?b.push([t.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):b.push([t.doBidiReorder(a[l])]);i.text=b}else i.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(ie),ie.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new ar(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new vp(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new rp(this.contents),this.head=new ap(this),this.name=new up(this),this.cmap=new Hc(this),this.toUnicode={},this.hhea=new op(this),this.maxp=new dp(this),this.hmtx=new fp(this),this.post=new hp(this),this.os2=new lp(this),this.loca=new bp(this),this.glyf=new pp(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,a,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var b,l,p,d;for(d=[],b=0,l=(p=this.bbox).length;b<l;b++)e=p[b],d.push(Math.round(e*this.scaleFactor));return d}.call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var a,r,b,l;for(b=0,r=0,l=(e=""+e).length;0<=l?r<l:r>l;r=0<=l?++r:--r)a=e.charCodeAt(r),b+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/t)||0;return b*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n})();var on,ar=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,a;for(a=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,a,r,b,l,p;return e=this.readByte(),t=this.readByte(),i=this.readByte(),a=this.readByte(),r=this.readByte(),b=this.readByte(),l=this.readByte(),p=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^r)+65536*(255^b)+256*(255^l)+(255^p)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*a+16777216*r+65536*b+256*l+p},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,a,r;for(r=[],i=0,a=e.length;i<a;i++)t=e[i],r.push(this.writeByte(t));return r},n})(),rp=(function(){var n;function e(t){var i,a,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,r=this.tableCount;0<=r?a<r:a>r;a=0<=r?++a:--a)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,a,r,b,l,p,d,g,y,x,h,v,S;for(S in h=Object.keys(t).length,p=Math.log(2),y=16*Math.floor(Math.log(h)/p),b=Math.floor(y/p),g=16*h-y,(a=new ar).writeInt(this.scalarType),a.writeShort(h),a.writeShort(y),a.writeShort(b),a.writeShort(g),r=16*h,d=a.pos+r,l=null,v=[],t)for(x=t[S],a.writeString(S),a.writeInt(n(x)),a.writeInt(d),a.writeInt(x.length),v=v.concat(x),S==="head"&&(l=d),d+=x.length;d%4;)v.push(0),d++;return a.write(v),i=2981146554-n(a.data),a.pos=l+8,a.writeUInt32(i),a.data},n=function(t){var i,a,r,b;for(t=zc.call(t);t.length%4;)t.push(0);for(r=new ar(t),a=0,i=0,b=t.length;i<b;i=i+=4)a+=r.readUInt32();return 4294967295&a},e})(),sp={}.hasOwnProperty,wn=function(n,e){for(var t in e)sp.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};on=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var ap=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new ar).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Zh=(function(){function n(e,t){var i,a,r,b,l,p,d,g,y,x,h,v,S,o,m,C,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=e.readByte();break;case 4:for(h=e.readUInt16(),x=h/2,e.pos+=6,r=(function(){var P,U;for(U=[],p=P=0;0<=x?P<x:P>x;p=0<=x?++P:--P)U.push(e.readUInt16());return U})(),e.pos+=2,S=(function(){var P,U;for(U=[],p=P=0;0<=x?P<x:P>x;p=0<=x?++P:--P)U.push(e.readUInt16());return U})(),d=(function(){var P,U;for(U=[],p=P=0;0<=x?P<x:P>x;p=0<=x?++P:--P)U.push(e.readUInt16());return U})(),g=(function(){var P,U;for(U=[],p=P=0;0<=x?P<x:P>x;p=0<=x?++P:--P)U.push(e.readUInt16());return U})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var P,U;for(U=[],p=P=0;0<=a?P<a:P>a;p=0<=a?++P:--P)U.push(e.readUInt16());return U})(),p=m=0,_=r.length;m<_;p=++m)for(o=r[p],i=C=v=S[p];v<=o?C<=o:C>=o;i=v<=o?++C:--C)g[p]===0?b=i+d[p]:(b=l[g[p]/2+(i-v)-(x-p)]||0)!==0&&(b+=d[p]),this.codeMap[i]=65535&b}e.pos=y}return n.encode=function(e,t){var i,a,r,b,l,p,d,g,y,x,h,v,S,o,m,C,_,P,U,H,V,$,j,at,M,X,ut,tt,Y,nt,bt,gt,yt,Nt,Ct,B,it,st,ft,dt,T,E,f,u,w,N;switch(tt=new ar,b=Object.keys(e).sort(function(I,R){return I-R}),t){case"macroman":for(S=0,o=(function(){var I=[];for(v=0;v<256;++v)I.push(0);return I})(),C={0:0},r={},Y=0,yt=b.length;Y<yt;Y++)C[f=e[a=b[Y]]]==null&&(C[f]=++S),r[a]={old:e[a],new:C[e[a]]},o[a]=C[e[a]];return tt.writeUInt16(1),tt.writeUInt16(0),tt.writeUInt32(12),tt.writeUInt16(0),tt.writeUInt16(262),tt.writeUInt16(0),tt.write(o),{charMap:r,subtable:tt.data,maxGlyphID:S+1};case"unicode":for(X=[],y=[],_=0,C={},i={},m=d=null,nt=0,Nt=b.length;nt<Nt;nt++)C[U=e[a=b[nt]]]==null&&(C[U]=++_),i[a]={old:U,new:C[U]},l=C[U]-a,m!=null&&l===d||(m&&y.push(m),X.push(a),d=l),m=a;for(m&&y.push(m),y.push(65535),X.push(65535),at=2*(j=X.length),$=2*Math.pow(Math.log(j)/Math.LN2,2),x=Math.log($/2)/Math.LN2,V=2*j-$,p=[],H=[],h=[],v=bt=0,Ct=X.length;bt<Ct;v=++bt){if(M=X[v],g=y[v],M===65535){p.push(0),H.push(0);break}if(M-(ut=i[M].new)>=32768)for(p.push(0),H.push(2*(h.length+j-v)),a=gt=M;M<=g?gt<=g:gt>=g;a=M<=g?++gt:--gt)h.push(i[a].new);else p.push(ut-M),H.push(0)}for(tt.writeUInt16(3),tt.writeUInt16(1),tt.writeUInt32(12),tt.writeUInt16(4),tt.writeUInt16(16+8*j+2*h.length),tt.writeUInt16(0),tt.writeUInt16(at),tt.writeUInt16($),tt.writeUInt16(x),tt.writeUInt16(V),T=0,B=y.length;T<B;T++)a=y[T],tt.writeUInt16(a);for(tt.writeUInt16(0),E=0,it=X.length;E<it;E++)a=X[E],tt.writeUInt16(a);for(u=0,st=p.length;u<st;u++)l=p[u],tt.writeUInt16(l);for(w=0,ft=H.length;w<ft;w++)P=H[w],tt.writeUInt16(P);for(N=0,dt=h.length;N<dt;N++)S=h[N],tt.writeUInt16(S);return{charMap:i,subtable:tt.data,maxGlyphID:_+1}}},n})(),Hc=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,i,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)t=new Zh(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var i,a;return t==null&&(t="macroman"),i=Zh.encode(e,t),(a=new ar).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n})(),op=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),lp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),hp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="post",n.prototype.parse=function(e){var t,i,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var r;for(i=e.readUInt16(),this.glyphNameIndex=[],r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=function(){var b,l,p;for(p=[],r=b=0,l=this.file.maxp.numGlyphs;0<=l?b<l:b>l;r=0<=l?++b:--b)p.push(e.readUInt32());return p}.call(this)}},n})(),cp=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},up=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="name",n.prototype.parse=function(e){var t,i,a,r,b,l,p,d,g,y,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),i=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(p={},r=g=0,y=i.length;g<y;r=++g)a=i[r],e.pos=a.offset,d=e.readString(a.length),b=new cp(d,a),p[x=a.nameID]==null&&(p[x]=[]),p[a.nameID].push(b);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},n})(),dp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),fp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,i,a,r,b,l,p;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)g.push(e.readInt16());return g})(),this.widths=function(){var d,g,y,x;for(x=[],d=0,g=(y=this.metrics).length;d<g;d++)r=y[d],x.push(r.advance);return x}.call(this),i=this.widths[this.widths.length-1],p=[],t=b=0;0<=a?b<a:b>a;t=0<=a?++b:--b)p.push(this.widths.push(i));return p},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),zc=[].slice,pp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,i,a,r,b,l,p,d,g,y;return e in this.cache?this.cache[e]:(r=this.file.loca,t=this.file.contents,i=r.indexOf(e),(a=r.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,b=(l=new ar(t.read(a))).readShort(),d=l.readShort(),y=l.readShort(),p=l.readShort(),g=l.readShort(),this.cache[e]=b===-1?new mp(l,d,y,p,g):new gp(l,b,d,y,p,g),this.cache[e]))},n.prototype.encode=function(e,t,i){var a,r,b,l,p;for(b=[],r=[],l=0,p=t.length;l<p;l++)a=e[t[l]],r.push(b.length),a&&(b=b.concat(a.encode(i)));return r.push(b.length),{table:b,offsets:r}},n})(),gp=(function(){function n(e,t,i,a,r,b){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=a,this.xMax=r,this.yMax=b,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),mp=(function(){function n(e,t,i,a,r){var b,l;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=a,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],b=this.raw;l=b.readShort(),this.glyphOffsets.push(b.pos),this.glyphIDs.push(b.readUInt16()),32&l;)b.pos+=1&l?4:2,128&l?b.pos+=8:64&l?b.pos+=4:8&l&&(b.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new ar(zc.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),bp=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return wn(n,on),n.prototype.tag="loca",n.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var a,r;for(r=[],i=0,a=this.length;i<a;i+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var a,r;for(r=[],i=0,a=this.length;i<a;i+=4)r.push(e.readUInt32());return r}.call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),a=0,r=0,b=0;b<i.length;++b)if(i[b]=a,r<t.length&&t[r]==b){++r,i[b]=a;var l=this.offsets[b],p=this.offsets[b+1]-l;p>0&&(a+=p)}for(var d=new Array(4*i.length),g=0;g<i.length;++g)d[4*g+3]=255&i[g],d[4*g+2]=(65280&i[g])>>8,d[4*g+1]=(16711680&i[g])>>16,d[4*g]=(4278190080&i[g])>>24;return d},n})(),vp=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,a,r;for(t in a=this.font.cmap.tables[0].codeMap,e={},r=this.subset)i=r[t],e[t]=a[i];return e},n.prototype.glyphsFor=function(e){var t,i,a,r,b,l,p;for(a={},b=0,l=e.length;b<l;b++)a[r=e[b]]=this.font.glyf.glyphFor(r);for(r in t=[],a)(i=a[r])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(r in p=this.glyphsFor(t))i=p[r],a[r]=i;return a},n.prototype.encode=function(e,t){var i,a,r,b,l,p,d,g,y,x,h,v,S,o,m;for(a in i=Hc.encode(this.generateCmap(),"unicode"),b=this.glyphsFor(e),h={0:0},m=i.charMap)h[(p=m[a]).old]=p.new;for(v in x=i.maxGlyphID,b)v in h||(h[v]=x++);return g=(function(C){var _,P;for(_ in P={},C)P[C[_]]=_;return P})(h),y=Object.keys(g).sort(function(C,_){return C-_}),S=(function(){var C,_,P;for(P=[],C=0,_=y.length;C<_;C++)l=y[C],P.push(g[l]);return P})(),r=this.font.glyf.encode(b,S,h),d=this.font.loca.encode(r.offsets,S),o={cmap:this.font.cmap.raw(),glyf:r.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(o["OS/2"]=this.font.os2.raw()),this.font.directory.encode(o)},n})();ie.API.PDFObject=(function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,a,r,b;if(Array.isArray(t))return"["+(function(){var l,p,d;for(d=[],l=0,p=t.length;l<p;l++)i=t[l],d.push(e.convert(i));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in r=["<<"],t)b=t[a],r.push("/"+a+" "+e.convert(b));return r.push(">>"),r.join(`
`)}return""+t},e})();const xp=Object.freeze(Object.defineProperty({__proto__:null,AcroFormAppearance:Yt,AcroFormButton:ai,AcroFormCheckBox:Rs,AcroFormChoiceField:Er,AcroFormComboBox:Pr,AcroFormEditBox:Fs,AcroFormListBox:Nr,AcroFormPasswordField:Ms,AcroFormPushButton:Is,AcroFormRadioButton:Tr,AcroFormTextField:sr,GState:Bs,ShadingPattern:nr,TilingPattern:Cr,default:ie,jsPDF:ie},Symbol.toStringTag,{value:"Module"}));export{vn as _,yp as a,Ap as b,wp as c,Te as d,xp as j};
