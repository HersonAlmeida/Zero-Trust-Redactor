:root{--bg-dark: #0a0e17;--bg-main: #0f1419;--bg-card: #151b23;--bg-elevated: #1c2430;--bg-input: #0d1117;--bg-hover: #21262d;--text-primary: #f0f6fc;--text-secondary: #8b949e;--text-tertiary: #6e7681;--accent: #22c55e;--accent-dim: #16a34a;--accent-glow: rgba(34, 197, 94, .15);--accent-border: rgba(34, 197, 94, .3);--success: #22c55e;--warning: #eab308;--danger: #ef4444;--info: #3b82f6;--border: #30363d;--border-light: #21262d;--radius-sm: 6px;--radius: 10px;--radius-lg: 14px;--radius-xl: 20px;--shadow-sm: 0 1px 2px rgba(0,0,0,.3);--shadow: 0 4px 12px rgba(0,0,0,.4);--shadow-lg: 0 8px 30px rgba(0,0,0,.5);--shadow-glow: 0 0 30px var(--accent-glow);--transition-fast: .15s ease;--transition: .25s ease;--transition-slow: .4s ease}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:14px}body{font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:var(--bg-dark);color:var(--text-primary);min-height:100vh;overflow-x:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}svg{display:block;max-width:100%;height:auto;flex-shrink:0}.loading-overlay{position:fixed;inset:0;background:var(--bg-dark);display:flex;align-items:center;justify-content:center;z-index:9999;transition:opacity .5s ease,visibility .5s ease}.loading-overlay.hidden{opacity:0;visibility:hidden;pointer-events:none}.loading-content{text-align:center;max-width:400px;padding:40px}.loading-logo{margin-bottom:40px}.loading-logo .shield-icon{width:80px;height:80px;margin:0 auto 20px;color:var(--accent);animation:pulse-glow 2s ease-in-out infinite;display:flex;align-items:center;justify-content:center}.loading-logo .shield-icon svg{width:80px;height:80px;max-width:80px;max-height:80px}.loading-logo h2{font-size:1.8rem;font-weight:700;letter-spacing:-.5px}.loading-logo .accent{color:var(--accent)}.loading-progress{margin-bottom:40px}.loading-bar{height:4px;background:var(--bg-elevated);border-radius:2px;overflow:hidden;margin-bottom:16px}.loading-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#4ade80);border-radius:2px;transition:width .3s ease;position:relative}.loading-fill:after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:shimmer 1.5s infinite}@keyframes shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.loading-progress p{color:var(--text-secondary);font-size:.9rem}.loading-steps{display:flex;flex-direction:column;gap:12px;text-align:left}.loading-steps .step{display:flex;align-items:center;gap:12px;color:var(--text-tertiary);font-size:.85rem;transition:color var(--transition)}.loading-steps .step.active{color:var(--text-secondary)}.loading-steps .step.complete{color:var(--accent)}.loading-steps .step-icon{font-size:1rem;transition:all var(--transition)}.loading-steps .step.complete .step-icon:before{content:"✓"}.loading-steps .step.active .step-icon{animation:spin 1s linear infinite}.loading-steps .step.active .step-icon:before{content:"◐"}@keyframes spin{to{transform:rotate(360deg)}}.spin{animation:spin 1s linear infinite}@keyframes pulse-glow{0%,to{filter:drop-shadow(0 0 20px var(--accent-glow));transform:scale(1)}50%{filter:drop-shadow(0 0 40px var(--accent-glow));transform:scale(1.02)}}.app-container{display:grid;grid-template-columns:280px 1fr;gap:0;min-height:100vh;opacity:0;transition:opacity .5s ease}.app-container.visible{opacity:1}.sidebar{background:var(--bg-main);border-right:1px solid var(--border-light);padding:24px;display:flex;flex-direction:column;height:100vh;position:sticky;top:0}.logo{display:flex;align-items:center;gap:14px;padding-bottom:20px}.logo-icon{width:42px;height:42px;background:linear-gradient(135deg,var(--accent),var(--accent-dim));border-radius:var(--radius);display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:var(--shadow-glow)}.logo-icon svg{width:24px;height:24px}.logo-text h1{font-size:1.1rem;font-weight:700;letter-spacing:-.3px;line-height:1.2}.logo-text .accent{color:var(--accent)}.logo-text small{font-size:.7rem;color:var(--text-tertiary);font-weight:500;text-transform:uppercase;letter-spacing:.5px}.divider{height:1px;background:var(--border-light);margin:16px 0}.section-label{font-size:.7rem;font-weight:600;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.8px;margin-bottom:12px;display:flex;align-items:center;justify-content:space-between}.mode-selector{display:flex;flex-direction:column;gap:10px}.mode-option{display:flex;align-items:center;gap:12px;padding:14px;background:var(--bg-card);border:1px solid var(--border-light);border-radius:var(--radius);cursor:pointer;transition:all var(--transition);position:relative}.mode-option:hover{background:var(--bg-hover);border-color:var(--border)}.mode-option.active{background:var(--accent-glow);border-color:var(--accent-border)}.mode-icon{width:36px;height:36px;background:var(--bg-elevated);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;color:var(--text-secondary);transition:all var(--transition)}.mode-icon svg{width:18px;height:18px}.mode-option.active .mode-icon{background:var(--accent);color:#fff}.mode-option.active .mode-icon.deep{background:linear-gradient(135deg,#8b5cf6,#6366f1)}.mode-info{flex:1}.mode-info strong{display:block;font-size:.9rem;font-weight:600;margin-bottom:2px}.mode-info span{font-size:.75rem;color:var(--text-tertiary)}.mode-check{width:20px;height:20px;border-radius:50%;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;opacity:0;transform:scale(.8);transition:all var(--transition)}.mode-check svg{width:12px;height:12px}.mode-option.active .mode-check{opacity:1;transform:scale(1);background:var(--accent);border-color:var(--accent);color:#fff}.mode-option.disabled{opacity:.5;pointer-events:none;cursor:not-allowed}.mode-option.disabled:after{content:"Unavailable";position:absolute;top:50%;right:12px;transform:translateY(-50%);font-size:.7rem;color:var(--text-tertiary);background:var(--bg-elevated);padding:2px 6px;border-radius:4px}.doc-type-selector{display:flex;flex-direction:column;gap:8px}.doc-type-selector select{width:100%;padding:10px 36px 10px 12px;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);color:var(--text-primary);font-size:.85rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast);appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2371717a' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center}.doc-type-selector select:hover{border-color:var(--accent-border)}.doc-type-selector select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}.doc-type-selector select option{background:var(--bg-primary);color:var(--text-primary);padding:8px}.doc-type-info{display:flex;align-items:center;gap:6px;font-size:.7rem;color:var(--text-tertiary);padding-left:4px}.doc-type-info .info-icon{font-size:.75rem}.doc-type-info.active{color:var(--accent)}.doc-type-info.active .info-text{font-weight:500}.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:16px}.stat-card{background:var(--bg-card);border:1px solid var(--border-light);border-radius:var(--radius-sm);padding:12px 8px;text-align:center}.stat-value{display:block;font-size:1.4rem;font-weight:700;color:var(--text-primary);font-family:JetBrains Mono,monospace}.stat-label{font-size:.65rem;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.status-section{margin-top:auto}.status-card{background:var(--bg-card);border:1px solid var(--border-light);border-radius:var(--radius);padding:16px;transition:all var(--transition)}.status-card.ready{border-color:var(--accent-border);background:var(--accent-glow)}.status-card.error{border-color:#ef44444d;background:#ef44441a}.status-indicator{display:flex;align-items:center;gap:10px;margin-bottom:6px}.status-dot{width:10px;height:10px;border-radius:50%;background:var(--warning);animation:pulse-dot 1.5s ease-in-out infinite}.status-dot.ready{background:var(--accent);animation:none;box-shadow:0 0 10px var(--accent)}.status-dot.error{background:var(--danger);animation:none}@keyframes pulse-dot{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.9)}}.status-text{font-weight:600;font-size:.9rem}.status-detail{font-size:.75rem;color:var(--text-tertiary)}.section-toggle{background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:2px;display:flex;align-items:center;transition:all var(--transition)}.section-toggle:hover{color:var(--text-primary)}.section-toggle svg{width:16px;height:16px;transition:transform var(--transition)}.section-toggle.collapsed svg{transform:rotate(-90deg)}.intel-panel{background:var(--bg-card);border:1px solid var(--border-light);border-radius:var(--radius);padding:12px;margin-bottom:16px;max-height:400px;overflow-y:auto;transition:all var(--transition)}.intel-panel.collapsed{max-height:0;padding:0 12px;opacity:0;overflow:hidden;margin-bottom:0}.intel-hint{font-size:.75rem;color:var(--text-tertiary);margin-bottom:12px;line-height:1.4}.intel-presets{display:flex;flex-direction:column;gap:6px;margin-bottom:16px}.intel-preset{display:flex;align-items:center;gap:10px;padding:10px 12px;background:var(--bg-elevated);border:1px solid var(--border-light);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition);position:relative}.intel-preset:hover{background:var(--bg-hover);border-color:var(--border)}.intel-preset.active{background:var(--accent-glow);border-color:var(--accent);box-shadow:inset 0 0 0 1px var(--accent-border)}.intel-preset.active .preset-name{color:var(--accent)}.intel-preset.active .preset-icon{transform:scale(1.1)}.preset-icon{font-size:1.2rem;width:28px;text-align:center;transition:transform var(--transition)}.preset-info{flex:1;min-width:0}.preset-name{font-size:.8rem;font-weight:600;margin-bottom:2px}.preset-desc{font-size:.65rem;color:var(--text-tertiary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.preset-check{width:22px;height:22px;border-radius:6px;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;transition:all var(--transition);flex-shrink:0;background:var(--bg-input)}.preset-check svg{width:14px;height:14px;opacity:0;transform:scale(.5);transition:all var(--transition)}.intel-preset:hover .preset-check{border-color:var(--accent);background:var(--accent-glow)}.intel-preset.active .preset-check{background:var(--accent);border-color:var(--accent);box-shadow:0 0 12px var(--accent-glow),0 0 4px var(--accent)}.intel-preset.active .preset-check svg{opacity:1;color:#fff;transform:scale(1)}.intel-preset:active .preset-check{transform:scale(.9)}.intel-preset.active:active .preset-check{transform:scale(.95)}.custom-keywords-section{border-top:1px solid var(--border-light);padding-top:12px}.section-sublabel{font-size:.7rem;font-weight:600;color:var(--text-secondary);margin-bottom:8px;display:block}.keyword-input-group{display:flex;gap:6px;margin-bottom:10px}.keyword-input-group input{flex:1;background:var(--bg-input);border:1px solid var(--border-light);border-radius:var(--radius-sm);padding:8px 12px;font-size:.8rem;color:var(--text-primary);outline:none;transition:all var(--transition)}.keyword-input-group input:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}.keyword-input-group input::placeholder{color:var(--text-tertiary)}.btn-add-keyword{width:36px;height:36px;background:var(--accent);border:none;border-radius:var(--radius-sm);color:#fff;font-size:1.2rem;font-weight:600;cursor:pointer;transition:all var(--transition);display:flex;align-items:center;justify-content:center}.btn-add-keyword:hover{background:var(--accent-dim);transform:scale(1.05)}.custom-keywords-list{display:flex;flex-wrap:wrap;gap:6px;max-height:100px;overflow-y:auto}.custom-keyword-tag{display:inline-flex;align-items:center;gap:6px;background:var(--bg-elevated);border:1px solid var(--border-light);border-radius:20px;padding:4px 10px;font-size:.75rem;color:var(--text-secondary)}.custom-keyword-tag .remove-keyword{background:none;border:none;color:var(--text-tertiary);cursor:pointer;font-size:1rem;line-height:1;padding:0;transition:color var(--transition)}.custom-keyword-tag .remove-keyword:hover{color:var(--danger)}.main-content{background:var(--bg-dark);padding:24px 24px 100px;display:flex;flex-direction:column;gap:20px;min-height:100vh;position:relative;overflow-y:auto}.header-bar{display:flex;align-items:center;justify-content:space-between}.file-info{display:flex;align-items:center;gap:10px;padding:10px 16px;background:var(--bg-card);border:1px solid var(--border-light);border-radius:var(--radius);font-size:.85rem;color:var(--text-secondary)}.file-info svg{width:18px;height:18px;color:var(--text-tertiary)}.file-info.has-file{color:var(--text-primary);border-color:var(--accent-border);background:var(--accent-glow)}.file-info.has-file svg{color:var(--accent)}.header-actions{display:flex;gap:8px}.icon-btn{width:40px;height:40px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-card);color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition)}.icon-btn:hover{background:var(--bg-hover);border-color:var(--border);color:var(--text-primary)}.icon-btn svg{width:18px;height:18px}.drop-zone{background:var(--bg-card);border:2px dashed var(--border);border-radius:var(--radius-lg);padding:50px;text-align:center;cursor:pointer;position:relative;transition:all var(--transition);overflow:hidden}.drop-zone:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at center,var(--accent-glow),transparent 70%);opacity:0;transition:opacity var(--transition)}.drop-zone:hover,.drop-zone.drag-over{border-color:var(--accent);background:var(--bg-elevated)}.drop-zone:hover:before,.drop-zone.drag-over:before{opacity:1}.drop-zone.has-file{padding:30px;border-style:solid;border-color:var(--accent-border);background:var(--accent-glow)}.drop-content{position:relative;z-index:1}.drop-icon{width:70px;height:70px;margin:0 auto 20px;color:var(--text-tertiary);transition:all var(--transition)}.drop-zone:hover .drop-icon{color:var(--accent);transform:translateY(-5px)}.drop-icon svg{width:100%;height:100%}.drop-zone h3{font-size:1.1rem;font-weight:600;margin-bottom:8px;color:var(--text-primary)}.drop-zone p{color:var(--text-secondary);font-size:.9rem;margin-bottom:16px}.browse-link{color:var(--accent);text-decoration:underline;cursor:pointer}.supported-formats{display:flex;gap:8px;justify-content:center}.format-badge{padding:4px 10px;background:var(--bg-elevated);border-radius:20px;font-size:.7rem;font-weight:600;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.5px}.drop-zone input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer}.editor-area{flex:1;display:grid;grid-template-columns:1fr 1fr;gap:20px;min-height:0}.panel{display:flex;flex-direction:column;background:var(--bg-card);border:1px solid var(--border-light);border-radius:var(--radius-lg);overflow:hidden}.panel-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:var(--bg-elevated);border-bottom:1px solid var(--border-light)}.panel-title{display:flex;align-items:center;gap:10px;font-weight:600;font-size:.9rem}.panel-title svg{width:18px;height:18px;color:var(--text-tertiary)}.panel-hint{font-size:.75rem;color:var(--text-tertiary)}.view-toggle{display:flex;gap:4px;background:var(--bg-input);padding:4px;border-radius:var(--radius-sm)}.view-btn{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:4px;color:var(--text-tertiary);cursor:pointer;transition:all var(--transition)}.view-btn svg{width:16px;height:16px}.view-btn:hover{color:var(--text-primary);background:var(--bg-hover)}.view-btn.active{background:var(--accent);color:#fff}.pdf-viewer-container{flex:1;display:flex;flex-direction:column;min-height:0}.pdf-toolbar{display:flex;align-items:center;gap:8px;padding:10px 16px;background:var(--bg-input);border-bottom:1px solid var(--border-light)}.pdf-tool-btn{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--bg-elevated);border:1px solid var(--border-light);border-radius:var(--radius-sm);color:var(--text-secondary);cursor:pointer;transition:all var(--transition)}.pdf-tool-btn svg{width:16px;height:16px}.pdf-tool-btn:hover{background:var(--bg-hover);color:var(--text-primary);border-color:var(--border)}.pdf-zoom-level{font-size:.8rem;font-family:JetBrains Mono,monospace;color:var(--text-secondary);min-width:50px;text-align:center}.pdf-toolbar-divider{width:1px;height:20px;background:var(--border-light);margin:0 8px}.pdf-page-info{font-size:.8rem;color:var(--text-secondary);margin-right:auto}.pdf-viewport{flex:1;overflow:auto;background:var(--bg-dark);display:flex;justify-content:center;padding:20px}.pdf-pages{display:flex;flex-direction:column;gap:20px;align-items:center}.pdf-page-wrapper{position:relative;box-shadow:0 4px 20px #0006;background:#fff}.pdf-page-wrapper canvas{display:block}.pdf-text-layer{position:absolute;inset:0;overflow:hidden;line-height:1;user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;pointer-events:auto}.pdf-text-layer>span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0 0;user-select:text;-webkit-user-select:text;-moz-user-select:text;pointer-events:auto;padding:2px 0;margin:-2px 0}.pdf-text-layer>span:hover{background:#22c55e26;border-radius:2px}.pdf-text-layer>span::selection{background:var(--accent);color:transparent}.pdf-text-layer>span::-moz-selection{background:var(--accent);color:transparent}.pdf-text-layer>span.highlight-entity{background:#ef44444d;border-bottom:2px solid rgba(239,68,68,.8);box-shadow:0 0 4px #ef444433}.pdf-text-layer>span.highlight-manual{background:#22c55e4d;border-bottom:2px solid rgba(34,197,94,.8)}.pdf-text-layer .highlight{background:#22c55e4d;border-radius:2px}.pdf-empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:var(--text-tertiary);text-align:center}.pdf-empty-state svg{width:64px;height:64px;margin-bottom:16px;opacity:.5}.pdf-empty-state p{font-size:.9rem}.pdf-hint{padding:8px 16px;background:var(--bg-elevated);border-top:1px solid var(--border-light);font-size:.75rem;color:var(--text-tertiary);text-align:center}.pdf-viewer-container.hidden,.textarea-wrapper.hidden{display:none}.entity-counter{font-size:.85rem;color:var(--text-secondary);font-family:JetBrains Mono,monospace}.entity-counter span{color:var(--accent);font-weight:600}.textarea-wrapper{flex:1;position:relative;display:flex;flex-direction:column;background:var(--bg-input)}.textarea-overlay{position:absolute;inset:0;padding:20px;font-family:JetBrains Mono,monospace;font-size:.85rem;line-height:1.7;color:transparent;pointer-events:none;overflow:auto;white-space:pre-wrap;word-wrap:break-word;z-index:1}.textarea-overlay .text-highlight-auto{background:#ef44444d;border-radius:2px;color:transparent}.textarea-overlay .text-highlight-manual{background:#3b82f64d;border-radius:2px;color:transparent}textarea{flex:1;background:var(--bg-input);border:none;padding:20px;color:var(--text-primary);font-family:JetBrains Mono,monospace;font-size:.85rem;line-height:1.7;resize:none;outline:none;position:relative;z-index:2;background:transparent}textarea::placeholder{color:var(--text-tertiary)}textarea:focus{background:var(--bg-main)}textarea::selection{background:var(--accent);color:#fff}.targets-area{flex:1;overflow-y:auto;padding:16px}.entities-list{display:flex;flex-direction:column;gap:8px}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:var(--text-tertiary);text-align:center}.empty-state svg{width:48px;height:48px;margin-bottom:16px;opacity:.5}.empty-state p{font-size:.9rem;margin-bottom:4px}.empty-state small{font-size:.75rem}.entity-item{display:flex;align-items:center;gap:12px;padding:12px 14px;background:var(--bg-elevated);border:1px solid var(--border-light);border-radius:var(--radius);transition:all var(--transition);animation:slideIn .3s ease}@keyframes slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.entity-item:hover{background:var(--bg-hover);border-color:var(--border)}.entity-text{flex:1;font-family:JetBrains Mono,monospace;font-size:.85rem;word-break:break-all}.entity-tag{padding:3px 8px;border-radius:20px;font-size:.65rem;font-weight:600;text-transform:uppercase;letter-spacing:.3px}.entity-tag.auto{background:var(--accent-glow);color:var(--accent);border:1px solid var(--accent-border)}.entity-tag.manual{background:#eab30826;color:var(--warning);border:1px solid rgba(234,179,8,.3)}.entity-remove{width:24px;height:24px;border-radius:50%;border:none;background:transparent;color:var(--text-tertiary);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.2rem;transition:all var(--transition)}.entity-remove:hover{background:#ef444433;color:var(--danger)}.action-bar{position:fixed;bottom:0;right:0;left:280px;display:flex;gap:12px;padding:16px 24px;background:var(--bg-main);border-top:1px solid var(--border-light);z-index:200;backdrop-filter:blur(10px);box-shadow:0 -4px 20px #0000004d}.btn-scan,.btn-primary,.btn-secondary{display:flex;align-items:center;justify-content:center;gap:10px;padding:16px 24px;border-radius:var(--radius);font-size:.9rem;font-weight:600;cursor:pointer;transition:all var(--transition);border:none}.btn-scan svg,.btn-primary svg,.btn-secondary svg{width:20px;height:20px}.btn-scan{background:var(--bg-card);border:1px solid var(--border);color:var(--text-primary);flex:1}.btn-scan:hover{background:var(--bg-hover);border-color:var(--accent-border)}.btn-scan:active{transform:scale(.98)}.btn-primary{background:linear-gradient(135deg,var(--accent),var(--accent-dim));color:#fff;flex:2;box-shadow:var(--shadow-glow)}.btn-primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 40px var(--accent-glow)}.btn-primary:active:not(:disabled){transform:translateY(0)}.btn-primary:disabled{background:var(--bg-elevated);color:var(--text-tertiary);box-shadow:none;cursor:not-allowed}.btn-secondary{background:var(--bg-card);border:1px solid var(--border);color:var(--text-secondary);flex:.8}.btn-secondary:hover{background:var(--bg-hover);color:var(--text-primary)}.btn-primary.processing{pointer-events:none}.btn-primary.processing svg{animation:spin 1s linear infinite}.toast-container{position:fixed;bottom:24px;right:24px;display:flex;flex-direction:column;gap:10px;z-index:9999}.toast{display:flex;align-items:center;gap:12px;padding:14px 20px;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-lg);animation:toastIn .3s ease;min-width:300px}.toast.success{border-color:var(--accent-border);background:var(--accent-glow)}.toast.error{border-color:#ef44444d;background:#ef44441a}.toast.warning{border-color:#eab3084d;background:#eab3081a}.toast-icon{width:20px;height:20px;flex-shrink:0}.toast.success .toast-icon{color:var(--accent)}.toast.error .toast-icon{color:var(--danger)}.toast.warning .toast-icon{color:var(--warning)}.toast-content{flex:1}.toast-title{font-weight:600;font-size:.9rem;margin-bottom:2px}.toast-message{font-size:.8rem;color:var(--text-secondary)}.toast-close{background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:4px;transition:color var(--transition)}.toast-close:hover{color:var(--text-primary)}@keyframes toastIn{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.toast.removing{animation:toastOut .3s ease forwards}@keyframes toastOut{to{opacity:0;transform:translate(100%)}}.selection-tooltip{position:fixed;background:var(--bg-card);border:1px solid var(--accent-border);border-radius:var(--radius);padding:12px 16px;display:flex;align-items:center;gap:12px;box-shadow:0 8px 32px #00000080,0 0 0 1px var(--border);z-index:1000;animation:tooltipIn .2s ease;max-width:300px}.selection-tooltip.hidden{display:none}@keyframes tooltipIn{0%{opacity:0;transform:translateY(8px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.tooltip-text{font-size:.85rem;color:var(--text-primary);max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:JetBrains Mono,monospace}.tooltip-add{padding:8px 16px;background:var(--accent);border:none;border-radius:var(--radius-sm);color:#fff;font-size:.8rem;font-weight:600;cursor:pointer;transition:all var(--transition);white-space:nowrap;box-shadow:0 2px 8px #22c55e4d}.tooltip-add:hover{background:var(--accent-dim);transform:scale(1.05)}.scroll-to-top{position:fixed;bottom:100px;right:30px;width:48px;height:48px;background:var(--accent);border:none;border-radius:50%;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:150;transition:all var(--transition);box-shadow:0 4px 15px #22c55e66;opacity:1;transform:translateY(0)}.scroll-to-top svg{width:24px;height:24px}.scroll-to-top:hover{background:var(--accent-dim);transform:translateY(-3px);box-shadow:0 6px 20px #22c55e80}.scroll-to-top:active{transform:translateY(0)}.scroll-to-top.hidden{opacity:0;transform:translateY(20px);pointer-events:none}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-main)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--text-tertiary)}@media(max-width:1100px){.app-container{grid-template-columns:1fr}.sidebar{height:auto;position:relative;border-right:none;border-bottom:1px solid var(--border-light)}.stats-grid{grid-template-columns:repeat(3,1fr)}.editor-area{grid-template-columns:1fr}.action-bar{left:0;flex-wrap:wrap}.main-content{padding-bottom:140px}.btn-scan,.btn-primary,.btn-secondary{flex:1 1 100%}}@media(max-width:600px){html{font-size:13px}.sidebar{padding:16px}.main-content{padding:16px 16px 160px}.drop-zone{padding:30px 20px}}.entity-item{display:flex;align-items:flex-start;gap:8px;padding:10px 12px;background:var(--bg-tertiary);border-radius:8px;margin-bottom:6px}.entity-main{flex:1;min-width:0}.entity-text{display:block;font-size:13px;color:var(--text-primary);word-break:break-word;margin-bottom:4px}.entity-meta{display:flex;align-items:center;gap:6px;flex-wrap:wrap}.confidence-badge{font-size:10px;padding:2px 6px;border-radius:4px;font-weight:600}.confidence-badge.high{background:#22c55e33;color:#22c55e}.confidence-badge.medium{background:#eab30833;color:#eab308}.confidence-badge.low{background:#ef444433;color:#ef4444}.source-icon{font-size:12px;opacity:.7}.preview-modal{position:fixed;inset:0;background:#000c;backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:20px}.preview-modal.hidden{display:none}.preview-content{background:var(--bg-secondary);border-radius:16px;width:100%;max-width:1000px;max-height:80vh;display:flex;flex-direction:column;box-shadow:0 25px 50px -12px #00000080;border:1px solid var(--border)}.preview-header{padding:20px 24px;border-bottom:1px solid var(--border);position:relative}.preview-header h3{margin:0 0 4px;font-size:18px;color:var(--text-primary)}.preview-header p{margin:0;font-size:13px;color:var(--text-tertiary)}.preview-close{position:absolute;top:16px;right:16px;width:32px;height:32px;border:none;background:var(--bg-tertiary);color:var(--text-secondary);border-radius:8px;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.preview-close:hover{background:var(--bg-hover);color:var(--text-primary)}.preview-body{display:grid;grid-template-columns:1fr 1fr;gap:20px;padding:20px;overflow:hidden;flex:1}.preview-column{display:flex;flex-direction:column;min-height:0}.preview-column h4{margin:0 0 12px;font-size:13px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.preview-text{flex:1;background:var(--bg-primary);border-radius:8px;padding:16px;font-size:13px;font-family:JetBrains Mono,monospace;line-height:1.6;color:var(--text-secondary);overflow-y:auto;white-space:pre-wrap;word-break:break-word;max-height:400px}.preview-text.redacted{color:var(--text-tertiary)}.preview-text mark.highlight-preview{background:#ef44444d;color:#ef4444;padding:1px 3px;border-radius:2px}.preview-footer{padding:16px 24px;border-top:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}.preview-stats{font-size:13px;color:var(--text-tertiary)}.preview-stats span{color:var(--accent);font-weight:600}.preview-actions{display:flex;gap:12px}.shortcuts-hint{position:fixed;bottom:100px;left:50%;transform:translate(-50%);background:var(--bg-secondary);border:1px solid var(--border);padding:8px 16px;border-radius:8px;font-size:11px;color:var(--text-tertiary);display:flex;align-items:center;gap:12px;z-index:100;opacity:.7;transition:opacity .2s}.shortcuts-hint:hover{opacity:1}.shortcuts-hint kbd{background:var(--bg-tertiary);padding:2px 6px;border-radius:4px;font-family:JetBrains Mono,monospace;font-size:10px;border:1px solid var(--border)}.offline-banner{background:linear-gradient(135deg,#eab30826,#ef44441a);border:1px solid rgba(234,179,8,.3);border-radius:12px;padding:16px 20px;margin-bottom:16px}.offline-banner h4{color:#eab308;font-size:14px;margin:0 0 8px;display:flex;align-items:center;gap:8px}.offline-banner p{color:var(--text-secondary);font-size:13px;margin:0 0 12px;line-height:1.5}.offline-actions{display:flex;gap:10px}.offline-actions button{padding:8px 16px;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;transition:all .2s}.offline-actions .btn-retry{background:var(--accent);color:#fff;border:none}.offline-actions .btn-retry:hover{background:var(--accent-hover)}.offline-actions .btn-offline{background:transparent;border:1px solid var(--border);color:var(--text-secondary)}.offline-actions .btn-offline:hover{background:var(--bg-tertiary);color:var(--text-primary)}@media(max-width:768px){.shortcuts-hint{display:none}.preview-body{grid-template-columns:1fr}}.model-section-header{margin-top:16px;padding-top:16px;border-top:1px solid var(--border)}.model-panel{padding:12px 0}.model-status-list{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.model-status-item{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:var(--bg-tertiary);border-radius:8px;border:1px solid var(--border)}.model-status-item.installed{border-color:#22c55e4d}.model-status-item.not-installed{border-color:#f59e0b4d;opacity:.8}.model-info{display:flex;flex-direction:column;gap:2px}.model-name{font-weight:600;font-size:13px;color:var(--text-primary);display:flex;align-items:center;gap:6px}.model-source{font-size:11px;color:var(--text-secondary)}.model-source.local{color:var(--accent)}.model-source.cdn{color:var(--warning)}.model-version{font-size:10px;padding:2px 6px;background:var(--bg-secondary);border-radius:4px;color:var(--text-secondary)}.model-status-badge{display:flex;align-items:center;gap:4px;font-size:11px;padding:4px 8px;border-radius:12px}.model-status-badge.ready{background:#22c55e33;color:var(--accent)}.model-status-badge.loading{background:#3b82f633;color:#3b82f6}.model-status-badge.missing{background:#ef444433;color:#ef4444}.model-status-badge.update{background:#f59e0b33;color:var(--warning)}.model-hint{font-size:11px;color:var(--text-secondary);margin-top:8px;line-height:1.5}.model-hint code{background:var(--bg-tertiary);padding:2px 6px;border-radius:4px;font-family:Monaco,Consolas,monospace;color:var(--accent)}.btn-sm{padding:6px 12px;font-size:12px;display:flex;align-items:center;gap:6px}.ai-status-compact{display:flex;flex-direction:column;gap:8px;padding:12px;background:var(--bg-card);border-radius:var(--radius);border:1px solid var(--border-light)}.ai-model-row{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:var(--bg-elevated);border-radius:var(--radius-sm)}.ai-model-info{display:flex;flex-direction:column;gap:2px}.ai-model-name{font-size:13px;font-weight:600;color:var(--text-primary)}.ai-model-desc{font-size:11px;color:var(--text-tertiary)}.ai-status-dot{width:10px;height:10px;border-radius:50%;background:var(--text-tertiary)}.ai-status-dot.ready{background:var(--accent);box-shadow:0 0 8px var(--accent)}.ai-status-dot.loading{background:var(--info);animation:pulse 1.5s infinite}.ai-status-dot.error{background:var(--danger)}.sidebar-compliance{padding:12px;background:var(--bg-card);border-radius:var(--radius);border:1px solid var(--border-light)}.compliance-row{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px}.sidebar-badge{display:inline-flex;align-items:center;padding:4px 10px;background:var(--bg-elevated);border:1px solid var(--border);border-radius:12px;font-size:10px;font-weight:700;color:var(--text-secondary);letter-spacing:.5px;cursor:default;transition:all var(--transition-fast)}.sidebar-badge:hover{border-color:var(--accent-border);color:var(--accent);background:var(--accent-glow)}.compliance-info{display:flex;align-items:center;gap:6px;font-size:11px;color:var(--accent);font-weight:600}.lock-icon{font-size:12px}.model-upgrade-option{display:flex;align-items:center;justify-content:space-between;margin-top:12px;padding:10px 12px;background:linear-gradient(135deg,#10b9811a,#3b82f61a);border:1px solid var(--accent-border);border-radius:var(--radius);animation:fadeIn .3s ease}.model-upgrade-option.hidden{display:none}.upgrade-info{display:flex;align-items:center;gap:8px}.upgrade-icon{font-size:14px}.upgrade-text{font-size:11px;font-weight:600;color:var(--text-primary)}.upgrade-btn{padding:5px 12px;background:var(--accent);border:none;border-radius:var(--radius-sm);color:var(--bg-primary);font-size:10px;font-weight:700;cursor:pointer;transition:all var(--transition-fast);text-transform:uppercase;letter-spacing:.5px}.upgrade-btn:hover{background:var(--accent-hover);transform:translateY(-1px)}.upgrade-btn:disabled{opacity:.6;cursor:not-allowed;transform:none}.upgrade-btn.downloading{background:var(--warning);animation:pulse 1.5s infinite}.upgrade-btn.active{background:var(--success)}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.compliance-links{display:flex;align-items:center;justify-content:center;gap:8px;margin-top:10px;padding-top:10px;border-top:1px solid var(--border-light)}.compliance-links a{font-size:11px;color:var(--text-tertiary);text-decoration:none;transition:color var(--transition-fast)}.compliance-links a:hover{color:var(--accent)}.compliance-links .link-divider{color:var(--text-tertiary);font-size:10px}.legal-modal{position:fixed;inset:0;background:#000000d9;backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:10000;padding:24px;animation:fadeIn .2s ease}.legal-modal.hidden{display:none}.legal-content{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);max-width:600px;max-height:80vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:var(--shadow-lg)}.legal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--border);background:var(--bg-elevated)}.legal-header h2{font-size:18px;font-weight:600;color:var(--text-primary);margin:0}.legal-close{width:32px;height:32px;border:none;background:transparent;color:var(--text-secondary);font-size:24px;cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast)}.legal-close:hover{background:var(--bg-hover);color:var(--text-primary)}.legal-body{padding:24px;overflow-y:auto;color:var(--text-secondary);line-height:1.7}.legal-body h3{color:var(--text-primary);font-size:15px;font-weight:600;margin:20px 0 12px}.legal-body h3:first-child{margin-top:0}.legal-body p{margin:0 0 12px}.legal-body ul{margin:0 0 16px;padding-left:20px}.legal-body li{margin-bottom:8px}.legal-body strong{color:var(--text-primary)}.legal-date{margin-top:24px;padding-top:16px;border-top:1px solid var(--border);font-size:12px;color:var(--text-tertiary)}
